<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="hevea 2.09">
<style type="text/css">
.li-itemize{margin:1ex 0ex;}
.li-enumerate{margin:1ex 0ex;}
.dd-description{margin:0ex 0ex 1ex 4ex;}
.dt-description{margin:0ex;}
.footnotetext{margin:0ex; padding:0ex;}
div.footnotetext P{margin:0px; text-indent:1em;}
.thefootnotes{text-align:left;margin:0ex;}
.dt-thefootnotes{margin:0em;}
.dd-thefootnotes{margin:0em 0em 0em 2em;}
.footnoterule{margin:1em auto 1em 0px;width:50%;}
.caption{padding-left:2ex; padding-right:2ex; margin-left:auto; margin-right:auto}
.title{margin:2ex auto;text-align:center}
.center{text-align:center;margin-left:auto;margin-right:auto;}
div table{margin-left:inherit;margin-right:inherit;margin-bottom:2px;margin-top:2px}
td table{margin:auto;}
table{border-collapse:collapse;}
td{padding:0;}
.cellpadding0 tr td{padding:0;}
.cellpadding1 tr td{padding:1px;}
pre{text-align:left;margin-left:0ex;margin-right:auto;}
blockquote{margin-left:4ex;margin-right:4ex;text-align:left;}
td p{margin:0px;}
.hbar{border:none;height:2px;width:100%;background-color:black;}
.display{border-collapse:separate;border-spacing:2px;width:auto; border:none;}
.dcell{white-space:nowrap;padding:0px; border:none;}
.dcenter{margin:0ex auto;}
.theorem{text-align:left;margin:1ex auto 1ex 0ex;}
p+p{margin-top:1em; margin-bottom:1em}
img{border: 0px;}
.lstlisting{font-family:monospace;white-space:pre;margin-right:auto;margin-left:0pt;text-align:left}
.lstframe{margin: 1em; width: calc(100% - 1em);}
.lstlisting{padding: 3pt;}
</style>

<link rel="stylesheet" href="https://trinket.io/css/base.css" type="text/css" />
<link rel="stylesheet" href="simplegrid.css" type="text/css" />
<title>Think Java
</title>
</head>
<body >
<!--HEVEA command line is: /usr/bin/hevea -O -exec xxdate.exe -e latexonly trinket/trinket.tex thinkjava6 -->
<!--CUT STYLE book--><!--HTMLHEAD-->
 <div class="main-content">
    <div class="nav-wrapper">
      <nav class="top-bar" data-topbar data-topbar data-options="is_hover: false">
        <ul class="title-area">
          <li class="name">
            <a href="/">
              <img src="https://trinket.io/img/trinket-logo.png" alt="Hosted by Trinket" />
            </a>
          </li>
          <li class="toggle-topbar menu-icon"><a href="#"></a></li>
        </ul>
        <section class="top-bar-section">
          <ul class="right">
            <li><a href="http://pythonlearn.com"> PythonLearn</a></li>
            <li><a href="https://trinket.io"> Trinket</a></li>
            <li><a href="https://hourofpython.com"> Hour of Python</a></li>
          </ul>
        </section>
      </nav>
    </div>
    <div class="booktoc sticky">
      <nav class="top-bar" data-topbar="" role="navigation">
        <ul class="title-area">
          <li class="name">
            <h1 class="no-anchor"><a href="index.html">Think Java</a></h1>
          </li>
          <li class="toggle-topbar"><a href="#">Menu</a></li>
        </ul>
        <section class="top-bar-section">
          <ul class="left">
            <li class="has-dropdown not-click">
              <a href="#">Chapters</a>
              <ul class="dropdown">
                <li class="title back js-generated">
                  <h5><a href="javascript:void(0)">Back</a></h5></li>
                <li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="#">Chapters</a></li>
                <li><a href="index.html">See All Chapters</a></li>
                <li><a href="01-intro.html">Chapter 1: Introduction</a></li>
                <li><a href="02-variables.html">Chapter 2: Variables</a></li>
                <li><a href="03-conditional.html">Chapter 3: Conditionals</a></li>
                <li><a href="04-functions.html">Chapter 4: Functions</a></li>
                <li><a href="05-iterations.html">Chapter 5: Iterations</a></li>
                <li><a href="06-strings.html">Chapter 6: Strings</a></li>
                <li><a href="07-files.html">Chapter 7: Files</a></li>
                <li><a href="08-lists.html">Chapter 8: Lists</a></li>
                <li><a href="09-dictionaries.html">Chapter 9: Dictionaries</a></li>
                <li><a href="10-tuples.html">Chapter 10: Tuples</a></li>
                <li><a href="11-regex.html">Chapter 11: Regex</a></li>
                <li><a href="12-network.html">Chapter 12: Networked Programs</a></li>
                <li><a href="13-web.html">Chapter 13: Python and Web Services</a></li>
                <li><a href="14-database.html">Chapter 14: Python and Databases</a></li>
              </ul>
            </li>
          </ul>
        </section>
      </nav>
    </div>
    <div class="bookchapter">
      <div class="row">
        <div class="columns small-12"><!--ENDHTML-->
<!--SETENV <arg PREVTXT><img src="back.png" ALT="Previous"></arg><arg UPTXT><img src="up.png" ALT="Up"></arg><arg NEXTTXT><img src="next.png" ALT="Next"></arg>-->
<!--CUT DEF chapter 1 --><p><br>
</p><p><span style="font-size:x-large">Think Java: How to Think Like a Computer Scientist</span></p><p><span style="font-size:large">Allen B. Downey and Chris Mayfield</span></p><p>Version 6.1.2</p><p><br>
</p><p>Copyright &#XA9;&#XA0;2016 Allen B. Downey and Chris Mayfield.</p><p>Permission is granted to copy, distribute, and/or modify this work under the terms of the Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License, which is available at <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><span style="font-family:monospace">http://creativecommons.org/licenses/by-nc-sa/3.0/</span></a>.</p><p><br>
</p><!--TOC chapter id="preface" Preface-->
<h1 id="preface" class="chapter">Preface</h1><!--SEC END --><p><span style="font-style:italic">Think Java</span> is an introduction to computer science and programming intended for readers with little or no experience.
We start with the most basic concepts and are careful to define all terms when they are first used.
The book presents each new idea in a logical progression.
Larger topics, like recursion and object-oriented programming, are divided into smaller examples and introduced over the course of several chapters.</p><p>This book is intentionally concise.
Each chapter is 12&#X2013;14 pages and covers the material for one week of a college course.
It is not meant to be a comprehensive presentation of Java, but rather, an initial exposure to programming constructs and techniques.
We begin with small problems and basic algorithms and work up to object-oriented design.
In the vocabulary of computer science pedagogy, this book uses the &#X201C;objects late&#X201D; approach.</p><!--TOC section id="sec2" The philosophy behind the book-->
<h2 id="sec2" class="section">The philosophy behind the book</h2><!--SEC END --><p>Here are the guiding principles that make the book the way it is:</p><ul class="itemize"><li class="li-itemize"><em>One concept at a time.</em>
We break down topics that give beginners trouble into a series of small steps, so that they can exercise each new concept in isolation before continuing.</li><li class="li-itemize"><em>Balance of Java and concepts.</em>
The book is not primarily about Java; it uses code examples to demonstrate computer science.
Most chapters start with language features and end with concepts.</li><li class="li-itemize"><em>Conciseness.</em>
An important goal of the book is to be small enough so that students can read and understand the entire text in a one-semester college or AP course.
</li><li class="li-itemize"><em>Emphasis on vocabulary.</em>
We try to introduce the minimum number of terms and define them carefully when they are first used.
We also organize them in glossaries at the end of each chapter.</li><li class="li-itemize"><em>Program development.</em>
There are many strategies for writing programs, including bottom-up, top-down, and others.
We demonstrate multiple program development techniques, allowing readers to choose methods that work best for them.</li><li class="li-itemize"><em>Multiple learning curves.</em>
To write a program, you have to understand the algorithm, know the programming language, and be able to debug errors.
We discuss these and other aspects throughout the book, and include an appendix that summarizes our advice.</li></ul><!--TOC section id="sec3" Object-oriented programming-->
<h2 id="sec3" class="section">Object-oriented programming</h2><!--SEC END --><p>Some Java books introduce classes and objects immediately; others begin with procedural programming and transition to object-oriented more gradually.</p><p>Many of Java&#X2019;s object-oriented features are motivated by problems with previous languages, and their implementations are influenced by this history.
Some of these features are hard to explain when people aren&#X2019;t familiar with the problems they solve.</p><p>We get to object-oriented programming as quickly as possible, limited by the requirement that we introduce concepts one at a time, as clearly as possible, in a way that allows readers to practice each idea in isolation before moving on.
So it takes some time to get there.</p><p>But you can&#X2019;t write Java programs (even hello world) without encountering object-oriented features.
In some cases we explain a feature briefly when it first appears, and then explain it more deeply later on.</p><p>This book is well suited to prepare students for the AP Computer Science A exam, which includes object-oriented design and implementation.
(AP is a registered trademark of the College Board.)
We introduce nearly every topic in the &#X201C;AP Java subset&#X201D; with a few exceptions.
A mapping of <span style="font-style:italic">Think Java</span> section numbers to the current AP course description is available on our website: <a href="http://thinkjava.org"><span style="font-family:monospace">http://thinkjava.org</span></a>.</p><!--TOC section id="sec4" Appendixes-->
<h2 id="sec4" class="section">Appendixes</h2><!--SEC END --><p>The chapters of this book are meant to be read in order, because each one builds on the previous one.
We also include three appendixes with material that can be read at any time:</p><dl class="description"><dt class="dt-description"></dt><dd class="dd-description"><span style="font-weight:bold">Appendix 1: Development tools</span><p>The steps for compiling, running, and debugging Java code depend on the details of the development environment and operating system.
We avoided putting these details in the main text, because they can be distracting.
Instead, we provide this appendix with a brief introduction to DrJava &#X2013; an interactive development environment (IDE) that is helpful for beginners &#X2013; and other development tools, including Checkstyle for code quality and JUnit for testing.</p></dd><dt class="dt-description"></dt><dd class="dd-description"><span style="font-weight:bold">Appendix 2: Java 2D graphics</span><p>Java provides libraries for working with graphics and animation, and these topics can be engaging for students.
The libraries require object-oriented features that readers will not completely understand until after Chapter&#XA0;<a href="#classes">11</a>, but they can be used much earlier.</p></dd><dt class="dt-description"></dt><dd class="dd-description"><span style="font-weight:bold">Appendix 3: Debugging</span><p>We provide debugging suggestions throughout the book, but we also collect our debugging advice in an appendix.
We recommend that readers review this appendix several times as they work through the book.</p></dd></dl><!--TOC section id="code" Using the code examples-->
<h2 id="code" class="section">Using the code examples</h2><!--SEC END --><p>Most of the code examples in this book are available from a Git repository at <a href="https://github.com/AllenDowney/ThinkJavaCode"><span style="font-family:monospace">https://github.com/AllenDowney/ThinkJavaCode</span></a>.
Git is a &#X201C;version control system&#X201D; that allows you to keep track of the files that make up a project.
A collection of files under Git&#X2019;s control is called a &#X201C;repository&#X201D;.</p><p><a id="hevea_default0"></a>
<a id="hevea_default1"></a></p><p>GitHub is a hosting service that provides storage for Git repositories and a convenient web interface.
It provides several ways to work with the code:</p><ul class="itemize"><li class="li-itemize">You can create a copy of the repository on GitHub by pressing the <span style="font-family:sans-serif">Fork</span> button.
If you don&#X2019;t already have a GitHub account, you&#X2019;ll need to create one.
After forking, you&#X2019;ll have your own repository on GitHub that you can use to keep track of code you write.
Then you can &#X201C;clone&#X201D; the repository, which downloads a copy of the files to your computer.</li><li class="li-itemize">Alternatively, you could clone the repository without forking.
If you choose this option, you don&#X2019;t need a GitHub account, but you won&#X2019;t be able to save your changes on GitHub.</li><li class="li-itemize">If you don&#X2019;t want to use Git at all, you can download the code in a ZIP archive using the <span style="font-family:sans-serif">Download ZIP</span> button on the GitHub page, or this link: <a href="http://tinyurl.com/ThinkJavaCodeZip"><span style="font-family:monospace">http://tinyurl.com/ThinkJavaCodeZip</span></a>.</li></ul><p>After you clone the repository or unzip the ZIP file, you should have a directory called <span style="font-family:monospace">ThinkJavaCode</span> with a subdirectory for each chapter in the book.</p><p>All examples in this book were developed and tested using Java SE Development Kit 8.
If you are using a more recent version, the examples in this book should still work.
If you are using an older version, some of them may not.</p><!--TOC section id="sec6" Contributors over the years-->
<h2 id="sec6" class="section">Contributors over the years</h2><!--SEC END --><p>Many people have sent corrections and suggestions, and we appreciate their valuable feedback!</p><ul class="itemize"><li class="li-itemize">Ellen Hildreth used this book to teach Data Structures at Wellesley College and submitted a whole stack of corrections, along with some great suggestions.</li><li class="li-itemize">Tania Passfield pointed out that some glossaries had leftover terms that no longer appeared in the text.</li><li class="li-itemize">Elizabeth Wiethoff noticed that the series expansion of exp(&#X2212;<span style="font-style:italic">x</span><sup>2</sup>) was wrong.
She has also worked on a Ruby version of the book.</li><li class="li-itemize">Matt Crawford sent in a whole patch file full of corrections.</li><li class="li-itemize">Chi-Yu Li pointed out a typo and an error in one of the code examples.</li><li class="li-itemize">Doan Thanh Nam corrected an example.</li><li class="li-itemize">Muhammad Saied translated the book into Arabic, and found several errors in the process.</li><li class="li-itemize">Marius Margowski found an inconsistency in a code example.</li><li class="li-itemize">Leslie Klein discovered another error in the series expansion of exp(&#X2212;<span style="font-style:italic">x</span><sup>2</sup>), identified typos in the card array figures, and gave helpful suggestions to clarify several exercises.</li><li class="li-itemize">Micah Lindstrom reported half a dozen typos and sent corrections.</li><li class="li-itemize">James Riely ported the textbook source from LaTeX to Sphinx.
<br>
<a href="http://fpl.cs.depaul.edu/jriely/thinkapjava/"><span style="font-family:monospace">http://fpl.cs.depaul.edu/jriely/thinkapjava/</span></a></li><li class="li-itemize">Peter Knaggs ported the book to C#.
<br>
<a href="http://www.rigwit.co.uk/think/sharp/"><span style="font-family:monospace">http://www.rigwit.co.uk/think/sharp/</span></a></li><li class="li-itemize">Heidi Gentry-Kolen recorded several video lectures that follow the book.
<br>
<a href="https://www.youtube.com/user/digipipeline"><span style="font-family:monospace">https://www.youtube.com/user/digipipeline</span></a></li></ul><p>We are especially grateful to our technical reviewers: Blythe Samuels, David Wisneski, and Stephen Rose.
They found errors, made many great suggestions, and helped make the book much better.</p><p>Additional contributors who found one or more typos: Stijn Debrouwere, Guy Driesen, Andai Velican, Chris Kuszmaul, Daniel Kurikesu, Josh Donath, Rens Findhammer, Elisa Abedrapo, Yousef BaAfif, Bruce Hill, Matt Underwood, Isaac Sultan, Dan Rice, Robert Beard, Daniel Pierce, Michael Giftthaler.</p><p>If you have additional comments or ideas about the text, please send them to: <a href="mailto:feedback@greenteapress.com"><span style="font-family:monospace">feedback@greenteapress.com</span></a>.</p>
<!--TOC chapter id="sec7" The way of the program-->
<h1 id="sec7" class="chapter">Chapter&#XA0;1&#XA0;&#XA0;The way of the program</h1><!--SEC END --><p>
<a id="theway"></a></p><p>The goal of this book is to teach you to think like a computer scientist.
This way of thinking combines some of the best features of mathematics, engineering, and natural science.
Like mathematicians, computer scientists use formal languages to denote ideas, specifically computations.
Like engineers, they design things, assembling components into systems and evaluating trade-offs among alternatives.
And like scientists, they observe the behavior of complex systems, form hypotheses, and test predictions.</p><p><a id="hevea_default2"></a></p><p>The single most important skill for a computer scientist is <span style="font-weight:bold">problem solving</span>.
It involves the ability to formulate problems, think creatively about solutions, and express solutions clearly and accurately.
As it turns out, the process of learning to program is an excellent opportunity to develop problem solving skills.
That&#X2019;s why this chapter is called, &#X201C;The way of the program&#X201D;.</p><p>On one level you will be learning to program, a useful skill by itself.
But on another level you will use programming as a means to an end.
As we go along, that end will become clearer.
</p>
<!--TOC section id="sec8" What is programming?-->
<h2 id="sec8" class="section">1.1&#XA0;&#XA0;What is programming?</h2><!--SEC END --><p><a id="hevea_default3"></a></p><p>A <span style="font-weight:bold">program</span> is a sequence of instructions that specifies how to perform a computation.
The computation might be something mathematical, like solving a system of equations or finding the roots of a polynomial.
It can also be a symbolic computation, like searching and replacing text in a document or (strangely enough) compiling a program.
The details look different in different languages, but a few basic instructions appear in just about every language.</p><dl class="description"><dt class="dt-description">
<span style="font-weight:bold">input:</span></dt><dd class="dd-description"> Get data from the keyboard, a file, a sensor, or some other device.
</dd><dt class="dt-description"><span style="font-weight:bold">output:</span></dt><dd class="dd-description"> Display data on the screen, or send data to a file or other device.
</dd><dt class="dt-description"><span style="font-weight:bold">math:</span></dt><dd class="dd-description"> Perform basic mathematical operations like addition and division.
</dd><dt class="dt-description"><span style="font-weight:bold">decisions:</span></dt><dd class="dd-description"> Check for certain conditions and execute the appropriate code.
</dd><dt class="dt-description"><span style="font-weight:bold">repetition:</span></dt><dd class="dd-description"> Perform some action repeatedly, usually with some variation.
</dd></dl><p><a id="hevea_default4"></a></p><p>Believe it or not, that&#X2019;s pretty much all there is to it.
Every program you&#X2019;ve ever used, no matter how complicated, is made up of small instructions that look much like these.
So you can think of <span style="font-weight:bold">programming</span> as the process of breaking down a large, complex task into smaller and smaller subtasks.
The process continues until the subtasks are simple enough to be performed with the basic instructions provided by the computer.</p>
<!--TOC section id="sec9" What is computer science?-->
<h2 id="sec9" class="section">1.2&#XA0;&#XA0;What is computer science?</h2><!--SEC END --><p>One of the most interesting aspects of writing programs is deciding how to solve a particular problem, especially when there are multiple solutions.
For example, there are numerous ways to sort a list of numbers, and each way has its advantages.
In order to determine which way is best for a given situation, we need techniques for describing and analyzing solutions formally.
</p><p><a id="hevea_default5"></a>
<a id="hevea_default6"></a></p><p><span style="font-weight:bold">Computer science</span> is the science of algorithms, including their discovery and analysis.
An <span style="font-weight:bold">algorithm</span> is a sequence of steps that specifies how to solve a problem.
Some algorithms are faster than others, and some use less space in computer memory.
As you learn to develop algorithms for problems you haven&#X2019;t solved before, you also learn to think like a computer scientist.
</p><p><a id="hevea_default7"></a>
<a id="hevea_default8"></a></p><p>Designing algorithms and writing code is difficult and error-prone.
For historical reasons, programming errors are called <span style="font-weight:bold">bugs</span>, and the process of tracking them down and correcting them is called <span style="font-weight:bold">debugging</span>.
As you learn to debug your programs, you will develop new problem solving skills.
You will need to think creatively when unexpected errors happen.</p><p>Although it can be frustrating, debugging is an intellectually rich, challenging, and interesting part of computer programming.
In some ways, debugging is like detective work.
You are confronted with clues, and you have to infer the processes and events that led to the results you see.
Thinking about how to correct programs and improve their performance sometimes even leads to the discovery of new algorithms.</p>
<!--TOC section id="sec10" Programming languages-->
<h2 id="sec10" class="section">1.3&#XA0;&#XA0;Programming languages</h2><!--SEC END --><p><a id="hevea_default9"></a>
<a id="hevea_default10"></a></p><p>The programming language you will learn is Java, which is a <span style="font-weight:bold">high-level language</span>.
Other high-level languages you may have heard of include Python, C and C++, Ruby, and JavaScript.</p><p><a id="hevea_default11"></a>
<a id="hevea_default12"></a></p><p>Before they can run, programs in high-level languages have to be translated into a <span style="font-weight:bold">low-level language</span>, also called &#X201C;machine language&#X201D;.
This translation takes some time, which is a small disadvantage of high-level languages.
But high-level languages have two advantages:</p><ul class="itemize"><li class="li-itemize">It is <em>much</em> easier to program in a high-level language.
Programs take less time to write, they are shorter and easier to read, and they are more likely to be correct.<p><a id="hevea_default13"></a></p></li><li class="li-itemize">High-level languages are <span style="font-weight:bold">portable</span>, meaning they can run on different kinds of computers with few or no modifications.
Low-level programs can only run on one kind of computer, and have to be rewritten to run on another.</li></ul><p><a id="hevea_default14"></a></p><p>Two kinds of programs translate high-level languages into low-level languages: interpreters and compilers.
An <span style="font-weight:bold">interpreter</span> reads a high-level program and executes it, meaning that it does what the program says.
It processes the program a little at a time, alternately reading lines and performing computations.
Figure&#XA0;<a href="#fig.interpreter">1.1</a> shows the structure of an interpreter.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6001.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 1.1: How interpreted languages are executed.</td></tr>
</table></div>
<a id="fig.interpreter"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default15"></a>
<a id="hevea_default16"></a>
<a id="hevea_default17"></a>
<a id="hevea_default18"></a></p><p>In contrast, a <span style="font-weight:bold">compiler</span> reads the entire program and translates it completely before the program starts running.
In this context, the high-level program is called the <span style="font-weight:bold">source code</span>, and the translated program is called the <span style="font-weight:bold">object code</span> or the <span style="font-weight:bold">executable</span>.
Once a program is compiled, you can execute it repeatedly without further translation.
As a result, compiled programs often run faster than interpreted programs.
</p><p><a id="hevea_default19"></a>
<a id="hevea_default20"></a>
<a id="hevea_default21"></a></p><p>Java is <em>both</em> compiled and interpreted.
Instead of translating programs directly into machine language, the Java compiler generates <span style="font-weight:bold">byte code</span>.
Similar to machine language, byte code is easy and fast to interpret.
But it is also portable, so it is possible to compile a Java program on one machine, transfer the byte code to another machine, and run the byte code on the other machine.
The interpreter that runs byte code is called a &#X201C;Java Virtual Machine&#X201D; (JVM).
</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6002.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 1.2: The process of compiling and running a Java program.</td></tr>
</table></div>
<a id="fig.compiler"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>Figure&#XA0;<a href="#fig.compiler">1.2</a> shows the steps of this process.
Although it might seem complicated, these steps are automated for you in most program development environments.
Usually you only have to press a button or type a single command to compile and run your program.
On the other hand, it is important to know what steps are happening in the background, so if something goes wrong you can figure out what it is.</p>
<!--TOC section id="sec11" The hello world program-->
<h2 id="sec11" class="section">1.4&#XA0;&#XA0;The hello world program</h2><!--SEC END --><p>
<a id="hello"></a></p><p><a id="hevea_default22"></a></p><p>Traditionally, the first program you write when learning a new programming language is called the hello world program.
All it does is display the words &#X201C;Hello, World!&#X201D; on the screen.
In Java, it looks like this:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Hello.java ]]]]
public class Hello {

    public static void main(String[] args) {
        // generate some simple output
        System.out.println("Hello, World!");
    }
}
--></p><p>When this program runs it displays:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Hello, World!</td></tr>
</table><p>Notice that the output does not include the quotation marks.</p><p><a id="hevea_default23"></a>
<a id="hevea_default24"></a>
<a id="hevea_default25"></a>
<a id="hevea_default26"></a></p><p>Java programs are made up of <em>class</em> and <em>method</em> definitions, and methods are made up of <em>statements</em>.
A <span style="font-weight:bold">statement</span> is a line of code that performs a basic operation.
In the hello world program, this line is a <span style="font-weight:bold">print statement</span> that displays a message on the screen:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(<span style="color:#B20000">"Hello, World!"</span>);</td></tr>
</table><p><a id="hevea_default27"></a>
<a id="hevea_default28"></a></p><p><code>System.out.println</code> displays results on the screen; the name <code>println</code> stands for &#X201C;print line&#X201D;.
Confusingly, <em>print</em> can mean both &#X201C;display on the screen&#X201D; and &#X201C;send to the printer&#X201D;.
In this book, we&#X2019;ll try to say &#X201C;display&#X201D; when we mean output to the screen.
Like most statements, the print statement ends with a semicolon (<code>;</code>).</p><p><a id="hevea_default29"></a></p><p>Java is &#X201C;case-sensitive&#X201D;, which means that uppercase and lowercase are not the same.
In this example, <code>System</code> has to begin with an uppercase letter; <code>system</code> and <code>SYSTEM</code> won&#X2019;t work.</p><p><a id="hevea_default30"></a></p><p>A <span style="font-weight:bold">method</span> is a named sequence of statements.
This program defines one method named <code>main</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> main(String[] args)</td></tr>
</table><p><a id="hevea_default31"></a></p><p>The name and format of <code>main</code> is special: when the program runs, it starts at the first statement in <code>main</code> and ends when it finishes the last statement.
Later, we will see programs that define more than one method.</p><p><a id="hevea_default32"></a></p><p>A <span style="font-weight:bold">class</span> is a collection of methods.
This program defines a class named <code>Hello</code>.
You can give a class any name you like, but it is conventional to start with a capital letter.
The name of the class has to match the name of the file it is in, so this class has to be in a file named <span style="font-family:monospace">Hello.java</span>.</p><p>Java uses squiggly braces ({ and }) to group things together.
In <span style="font-family:monospace">Hello.java</span>, the outermost braces contain the class definition, and the inner braces contain the method definition.</p><p><a id="hevea_default33"></a>
<a id="hevea_default34"></a></p><p>The line that begins with two slashes (<span style="color:#007C00"><code>//</code></span>) is a <span style="font-weight:bold">comment</span>, which is a bit of English text that explains the code.
When the compiler sees <span style="color:#007C00"><code>//</code></span>, it ignores everything from there until the end of the line.
Comments have no effect on the execution of the program, but they make it easier for other programmers (and your future self) to understand what you meant to do.</p>
<!--TOC section id="sec12" Displaying strings-->
<h2 id="sec12" class="section">1.5&#XA0;&#XA0;Displaying strings</h2><!--SEC END --><p>You can put as many statements as you like in <code>main</code>.
For example, to display more than one line of output:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Hello.java ]]]]
public class Hello {

    public static void main(String[] args) {
        // generate some simple output
        System.out.println("Hello, World!");  // first line
        System.out.println("How are you?");   // another line
    }
}
--></p><p>As this example shows, you can put comments at the end of a line as well as on lines all by themselves.</p><p><a id="hevea_default35"></a>
<a id="hevea_default36"></a>
<a id="hevea_default37"></a>
<a id="hevea_default38"></a></p><p>Phrases that appear in quotation marks are called <span style="font-weight:bold">strings</span>, because they contain a sequence of &#X201C;characters&#X201D; strung together.
Characters can be letters, numbers, punctuation marks, symbols, spaces, tabs, etc.</p><p><a id="hevea_default39"></a>
<a id="hevea_default40"></a>
<a id="hevea_default41"></a></p><p><code>System.out.println</code> appends a special character, called a <span style="font-weight:bold">newline</span>, that moves to the beginning of the next line.
If you don&#X2019;t want a newline at the end, you can use <code>print</code> instead of <code>println</code>:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Goodbye.java ]]]]
public class Goodbye {

    public static void main(String[] args) {
        System.out.print("Goodbye, ");
        System.out.println("cruel world");
    }
}
--></p><p><a id="goodbye"></a></p><p>In this example, the first statement does not add a newline, so the output appears on a single line as <span style="font-family:monospace">Goodbye, cruel world</span>.
Notice that there is a space at the end of the first string, which appears in the output.</p>
<!--TOC section id="sec13" Escape sequences-->
<h2 id="sec13" class="section">1.6&#XA0;&#XA0;Escape sequences</h2><!--SEC END --><p>It is possible to display multiple lines of output in just one line of code.
You just have to tell Java where to put the line breaks.</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Hello.java ]]]]
public class Hello {

    public static void main(String[] args) {
        System.out.print("Hello!\nHow are you doing?\n");
    }
}
--></p><p>The output is two lines, each ending with a newline character:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Hello!
How are you doing?</td></tr>
</table><p><a id="hevea_default42"></a></p><p>The <code>\n</code> is an <span style="font-weight:bold">escape sequence</span>, which is a sequence of characters that represents a special character.
The backslash allows you to &#X201C;escape&#X201D; the string&#X2019;s literal interpretation.
Notice there is no space between <code>\n</code> and <code>How</code>.
If you add a space there, there will be a space at the beginning of the second line.</p><blockquote class="table"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<table border=1  style="border-spacing:0;" class="cellpadding1"><tr><td style="text-align:center;border:solid 1px;white-space:nowrap" ><code>\n</code></td><td style="text-align:center;border:solid 1px;white-space:nowrap" >newline </td></tr>
<tr><td style="text-align:center;border:solid 1px;white-space:nowrap" ><code>\t</code></td><td style="text-align:center;border:solid 1px;white-space:nowrap" >tab </td></tr>
<tr><td style="text-align:center;border:solid 1px;white-space:nowrap" ><code>\"</code></td><td style="text-align:center;border:solid 1px;white-space:nowrap" >double quote </td></tr>
<tr><td style="text-align:center;border:solid 1px;white-space:nowrap" ><code>\\</code></td><td style="text-align:center;border:solid 1px;white-space:nowrap" >backslash </td></tr>
</table>
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Table 1.1: Common escape sequences</td></tr>
</table></div>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default43"></a></p><p>Another common use of escape sequences is to have quotation marks inside of strings.
Since double quotes indicate the beginning and end of strings, you need to escape them with a backslash.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(<span style="color:#B20000">"She said \"Hello!\" to me."</span>);</td></tr>
</table><p>The result is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">She said "Hello!" to me.</td></tr>
</table>
<!--TOC section id="sec14" Formatting code-->
<h2 id="sec14" class="section">1.7&#XA0;&#XA0;Formatting code</h2><!--SEC END --><p>
<a id="formatting"></a></p><p>In Java programs, some spaces are required.
For example, you need at least one space between words, so this program is not legal:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Goodbye.java ]]]]
publicclassGoodbye{

    publicstaticvoidmain(String[] args) {
        System.out.print("Goodbye, ");
        System.out.println("cruel world");
    }
}
--></p><p>But most other spaces are optional.
For example, this program is legal:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Goodbye.java ]]]]
public class Goodbye {
public static void main(String[] args) {
System.out.print("Goodbye, ");
System.out.println("cruel world");
}
}
--></p><p>The newlines are optional, too.
So we could just write:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Goodbye.java ]]]]
public class Goodbye { public static void main(String[] args)
{ System.out.print("Goodbye, "); System.out.println
("cruel world");}}
--></p><p>It still works, but the program is getting harder and harder to read.
Newlines and spaces are important for organizing your program visually, making it easier to understand the program and find errors when they occur.</p><p>Many editors will automatically format source code with consistent indenting and line breaks.
For example, in DrJava (see Appendix&#XA0;<a href="#development">A</a>) you can indent the code by selecting all text (<span style="font-family:sans-serif">Ctrl+A</span>) and pressing the <span style="font-family:sans-serif">Tab</span> key.</p><p><a id="hevea_default44"></a></p><p>Organizations that do a lot of software development usually have strict guidelines on how to format source code.
For example, Google publishes its Java coding standards for use in open-source projects: <a href="http://google.github.io/styleguide/javaguide.html"><span style="font-family:monospace">http://google.github.io/styleguide/javaguide.html</span></a>.
</p><p>You might not understand these guidelines now, because they refer to language features we haven&#X2019;t yet seen.
But you might want to refer back to them periodically as you read this book.</p>
<!--TOC section id="sec15" Debugging code-->
<h2 id="sec15" class="section">1.8&#XA0;&#XA0;Debugging code</h2><!--SEC END --><p>
<a id="sec:examples"></a></p><p>It is a good idea to read this book in front of a computer so you can try out the examples as you go.
You can run many of the examples directly in DrJava&#X2019;s Interactions Pane (see Appendix&#XA0;<a href="#development">A</a>).
But if you put the code in a source file, it will be easier to try out variations.
</p><p><a id="hevea_default45"></a></p><p>Whenever you are experimenting with a new feature, you should also try to make mistakes.
For example, in the hello world program, what happens if you leave out one of the quotation marks?
What if you leave out both?
What if you spell <code>println</code> wrong?
These kinds of experiments help you remember what you read.
They also help with debugging, because you learn what the error messages mean.
It is better to make mistakes now and on purpose than later on and accidentally.</p><p><a id="hevea_default46"></a>
<a id="hevea_default47"></a></p><p>Debugging is like an experimental science: once you have an idea about what is going wrong, you modify your program and try again.
If your hypothesis was correct, then you can predict the result of the modification, and you take a step closer to a working program.
If your hypothesis was wrong, you have to come up with a new one.
</p><p>Programming and debugging should go hand in hand.
Don&#X2019;t just write a bunch of code and then perform trial and error debugging until it all works.
Instead, start with a program that does <em>something</em> and make small modifications, debugging them as you go, until the program does what you want.
That way you will always have a working program, and it will be easier to isolate errors.</p><p><a id="hevea_default48"></a>
<a id="hevea_default49"></a>
<a id="hevea_default50"></a></p><p>A great example of this principle is the Linux operating system, which contains millions of lines of code.
It started out as a simple program Linus Torvalds used to explore the Intel 80386 chip.
According to Larry Greenfield in <span style="font-style:italic">The Linux Users&#X2019; Guide</span>, &#X201C;One of Linus&#X2019;s earlier projects was a program that would switch between printing AAAA and BBBB.
This later evolved to Linux.&#X201D;</p><p>Finally, programming sometimes brings out strong emotions.
If you are struggling with a difficult bug, you might feel angry, despondent, or embarrassed.
Remember that you are not alone, and most if not all programmers have had similar experiences.
Don&#X2019;t hesitate to reach out to a friend and ask questions!</p>
<!--TOC section id="sec16" Vocabulary-->
<h2 id="sec16" class="section">1.9&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><p>Throughout the book, we try to define each term the first time we use it.
At the end of each chapter, we include the new terms and their definitions in order of appearance.
If you spend some time learning this vocabulary, you will have an easier time reading the following chapters.</p><dl class="description"><dt class="dt-description"><span style="font-weight:bold">problem solving:</span></dt><dd class="dd-description"><a id="hevea_default51"></a>
The process of formulating a problem, finding a solution, and expressing the solution.</dd><dt class="dt-description"><span style="font-weight:bold">program:</span></dt><dd class="dd-description"><a id="hevea_default52"></a>
A sequence of instructions that specifies how to perform tasks on a computer.</dd><dt class="dt-description"><span style="font-weight:bold">programming:</span></dt><dd class="dd-description"><a id="hevea_default53"></a>
The application of problem solving to creating executable computer programs.</dd><dt class="dt-description"><span style="font-weight:bold">computer science:</span></dt><dd class="dd-description"><a id="hevea_default54"></a>
The scientific and practical approach to computation and its applications.</dd><dt class="dt-description"><span style="font-weight:bold">algorithm:</span></dt><dd class="dd-description"><a id="hevea_default55"></a>
A procedure or formula for solving a problem, with or without a computer.</dd><dt class="dt-description"><span style="font-weight:bold">bug:</span></dt><dd class="dd-description"><a id="hevea_default56"></a>
An error in a program.</dd><dt class="dt-description"><span style="font-weight:bold">debugging:</span></dt><dd class="dd-description"><a id="hevea_default57"></a>
The process of finding and removing errors.</dd><dt class="dt-description"><span style="font-weight:bold">high-level language:</span></dt><dd class="dd-description"><a id="hevea_default58"></a>
A programming language that is designed to be easy for humans to read and write.</dd><dt class="dt-description"><span style="font-weight:bold">low-level language:</span></dt><dd class="dd-description"><a id="hevea_default59"></a>
A programming language that is designed to be easy for a computer to run.
Also called &#X201C;machine language&#X201D; or &#X201C;assembly language&#X201D;.</dd><dt class="dt-description"><span style="font-weight:bold">portable:</span></dt><dd class="dd-description"><a id="hevea_default60"></a>
The ability of a program to run on more than one kind of computer.</dd><dt class="dt-description"><span style="font-weight:bold">interpret:</span></dt><dd class="dd-description"><a id="hevea_default61"></a>
To run a program in a high-level language by translating it one line at a time and immediately executing the corresponding instructions.</dd><dt class="dt-description"><span style="font-weight:bold">compile:</span></dt><dd class="dd-description"><a id="hevea_default62"></a>
To translate a program in a high-level language into a low-level language, all at once, in preparation for later execution.</dd><dt class="dt-description"><span style="font-weight:bold">source code:</span></dt><dd class="dd-description"><a id="hevea_default63"></a>
A program in a high-level language, before being compiled.</dd><dt class="dt-description"><span style="font-weight:bold">object code:</span></dt><dd class="dd-description"><a id="hevea_default64"></a>
The output of the compiler, after translating the program.</dd><dt class="dt-description"><span style="font-weight:bold">executable:</span></dt><dd class="dd-description"><a id="hevea_default65"></a>
Another name for object code that is ready to run on specific hardware.</dd><dt class="dt-description"><span style="font-weight:bold">byte code:</span></dt><dd class="dd-description"><a id="hevea_default66"></a>
A special kind of object code used for Java programs.
Byte code is similar to a low-level language, but it is portable like a high-level language.</dd><dt class="dt-description"><span style="font-weight:bold">statement:</span></dt><dd class="dd-description"><a id="hevea_default67"></a>
Part of a program that specifies one step of an algorithm.</dd><dt class="dt-description"><span style="font-weight:bold">print statement:</span></dt><dd class="dd-description"><a id="hevea_default68"></a>
A statement that causes output to be displayed on the screen.</dd><dt class="dt-description"><span style="font-weight:bold">method:</span></dt><dd class="dd-description"><a id="hevea_default69"></a>
A named sequence of statements.</dd><dt class="dt-description"><span style="font-weight:bold">class:</span></dt><dd class="dd-description"><a id="hevea_default70"></a>
For now, a collection of related methods.
(We will see later that there is more to it.)</dd><dt class="dt-description"><span style="font-weight:bold">comment:</span></dt><dd class="dd-description"><a id="hevea_default71"></a>
A part of a program that contains information about the program but has no effect when the program runs.</dd><dt class="dt-description"><span style="font-weight:bold">string:</span></dt><dd class="dd-description"><a id="hevea_default72"></a>
A sequence of characters; the primary data type for text.</dd><dt class="dt-description"><span style="font-weight:bold">newline:</span></dt><dd class="dd-description"><a id="hevea_default73"></a>
A special character signifying the end of a line of text.
Also known as line ending, end of line (EOL), or line break.</dd><dt class="dt-description"><span style="font-weight:bold">escape sequence:</span></dt><dd class="dd-description"><a id="hevea_default74"></a>
A sequence of code that represents a special character when used inside a string.</dd></dl>
<!--TOC section id="sec17" Exercises-->
<h2 id="sec17" class="section">1.10&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>At the end of each chapter, we include exercises you can do with the things you&#X2019;ve learned.
We encourage you to at least attempt every problem.
You can&#X2019;t learn to program only by reading about it; you have to practice.</p><p>Before you can compile and run Java programs, you might have to download and install a few tools.
There are many good options, but we recommend DrJava, which is an &#X201C;integrated development environment&#X201D; (IDE) well suited for beginners.
Instructions for getting started are in Appendix&#XA0;<a href="#drjava">A.1</a>.</p><p>The code for this chapter is in the <span style="font-family:monospace">ch01</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>Computer scientists have the annoying habit of using common English words to mean something other than their common English meaning.
For example, in English, statements and comments are the same thing, but in programs they are different.</em></p><ol class="enumerate" type=1><li class="li-enumerate">
<em>In computer jargon, what&#X2019;s the difference between a statement and a comment?
</em></li><li class="li-enumerate"><em>What does it mean to say that a program is portable?
</em></li><li class="li-enumerate"><em>In common English, what does the word compile mean?
</em></li><li class="li-enumerate"><em>What is an executable? Why is that word used as a noun?
</em></li></ol><p><em>The glossary at the end of each chapter is intended to highlight words and phrases that have special meanings in computer science.
When you see familiar words, don&#X2019;t assume that you know what they mean!</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<p><em>Before you do anything else, find out how to compile and run a Java program.
Some environments provide sample programs similar to the example in Section&#XA0;</em><a href="#hello"><em>1.4</em></a><em>.</em></p><ol class="enumerate" type=1><li class="li-enumerate">
<em>Type in the hello world program, then compile and run it.</em></li><li class="li-enumerate"><em>Add a print statement that displays a second message after the &#X201C;Hello, World!&#X201D;.
Say something witty like, &#X201C;How are you?&#X201D;
Compile and run the program again.</em></li><li class="li-enumerate"><em>Add a comment to the program (anywhere), recompile, and run it again.
The new comment should not affect the result.
</em></li></ol><p><em>This exercise may seem trivial, but it is the starting place for many of the programs we will work with.
To debug with confidence, you will need to have confidence in your programming environment.</em></p><p><em>In some environments, it is easy to lose track of which program is executing.
You might find yourself trying to debug one program while you are accidentally running another.
Adding (and changing) print statements is a simple way to be sure that the program you are looking at is the program you are running.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<p><em>It is a good idea to commit as many errors as you can think of, so that you see what error messages the compiler produces.
Sometimes the compiler tells you exactly what is wrong, and all you have to do is fix it.
But sometimes the error messages are misleading.
Over time you will develop a sense for when you can trust the compiler and when you have to figure things out yourself.</em></p><p><em>Starting with the hello world program, try out each of the following errors.
After you make each change, compile the program, read the error message (if there is one), and then fix the error.</em></p><ol class="enumerate" type=1><li class="li-enumerate">
<em>Remove one of the open squiggly braces.
</em></li><li class="li-enumerate"><em>Remove one of the close squiggly braces.
</em></li><li class="li-enumerate"><em>Instead of <code>main</code>, write <code>mian</code>.
</em></li><li class="li-enumerate"><em>Remove the word <span style="color:blue"><code>static</code></span>.
</em></li><li class="li-enumerate"><em>Remove the word <span style="color:blue"><code>public</code></span>.
</em></li><li class="li-enumerate"><em>Remove the word <code>System</code>.
</em></li><li class="li-enumerate"><em>Replace <code>println</code> with <code>Println</code>.
</em></li><li class="li-enumerate"><em>Replace <code>println</code> with <code>print</code>.
</em></li><li class="li-enumerate"><em>Delete one of the parentheses.
Add an extra one.
</em></li></ol></div>
<!--TOC chapter id="sec18" Variables and operators-->
<h1 id="sec18" class="chapter">Chapter&#XA0;2&#XA0;&#XA0;Variables and operators</h1><!--SEC END --><p>This chapter describes how to write statements using variables, which store values like numbers and words, and operators, which are symbols that perform a computation.
We also explain three kinds of programming errors and offer additional debugging advice.
</p>
<!--TOC section id="sec19" Declaring variables-->
<h2 id="sec19" class="section">2.1&#XA0;&#XA0;Declaring variables</h2><!--SEC END --><p><a id="hevea_default75"></a>
<a id="hevea_default76"></a></p><p>One of the most powerful features of a programming language is the ability to define and manipulate <span style="font-weight:bold">variables</span>.
A variable is a named location that stores a <span style="font-weight:bold">value</span>.
Values may be numbers, text, images, sounds, and other types of data.
To store a value, you first have to declare a variable.
</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String message;</td></tr>
</table><p><a id="hevea_default77"></a>
<a id="hevea_default78"></a>
<a id="hevea_default79"></a>
<a id="hevea_default80"></a>
<a id="hevea_default81"></a></p><p>This statement is a <span style="font-weight:bold">declaration</span>, because it declares that the variable named <code>message</code> has the type <code>String</code>.
Each variable has a <span style="font-weight:bold">type</span> that determines what kind of values it can store.
For example, the <code><span style="color:blue">int</span></code> type can store integers, and the <code><span style="color:blue">char</span></code> type can store characters.</p><p>Some types begin with a capital letter and some with lowercase.
We will learn the significance of this distinction later, but for now you should take care to get it right.
There is no such type as <code>Int</code> or <code>string</code>.
</p><p>To declare an integer variable named <code>x</code>, you simply type:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> x;</td></tr>
</table><p>Note that <code>x</code> is an arbitrary name for the variable.
In general, you should use names that indicate what the variables mean.
For example, if you saw these declarations, you could probably guess what values would be stored:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String firstName;
String lastName;
<span style="color:blue">int</span> hour, minute;</td></tr>
</table><p><a id="hevea_default82"></a></p><p>This example declares two variables with type <code>String</code> and two with type <code><span style="color:blue">int</span></code>.
When a variable name contains more than one word, like <code>firstName</code>, it is conventional to capitalize the first letter of each word except the first.
Variable names are case-sensitive, so <code>firstName</code> is not the same as <code>firstname</code> or <code>FirstName</code>.</p><p><a id="hevea_default83"></a>
<a id="hevea_default84"></a></p><p>This example also demonstrates the <span style="font-weight:bold">syntax</span> for declaring multiple variables with the same type on one line: <code>hour</code> and <code>minute</code> are both integers.
Note that each declaration statement ends with a semicolon.</p><p><a id="hevea_default85"></a></p><p>You can use any name you want for a variable.
But there are about 50 reserved words, called <span style="font-weight:bold">keywords</span>, that you are not allowed to use as variable names.
These words include <code><span style="color:blue">public</span></code>, <code><span style="color:blue">class</span></code>, <code><span style="color:blue">static</span></code>, <code><span style="color:blue">void</span></code>, and <code><span style="color:blue">int</span></code>, which are used by the compiler to analyze the structure of the program.</p><p>You can find the complete list of keywords at <a href="http://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html"><span style="font-family:monospace">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html</span></a>, but you don&#X2019;t have to memorize them.
Most programming editors provide &#X201C;syntax highlighting&#X201D;, which makes different parts of the program appear in different colors.
</p>
<!--TOC section id="sec20" Assignment-->
<h2 id="sec20" class="section">2.2&#XA0;&#XA0;Assignment</h2><!--SEC END --><p><a id="hevea_default86"></a>
<a id="hevea_default87"></a></p><p>Now that we have declared variables, we want to use them to store values.
We do that with an <span style="font-weight:bold">assignment</span> statement.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">message = <span style="color:#B20000">"Hello!"</span>;  <span style="color:#007C00">// give message the value "Hello!"</span>
hour = 11;           <span style="color:#007C00">// assign the value 11 to hour</span>
minute = 59;         <span style="color:#007C00">// set minute to 59</span></td></tr>
</table><p>This example shows three assignments, and the comments illustrate different ways people sometimes talk about assignment statements.
The vocabulary can be confusing here, but the idea is straightforward:</p><ul class="itemize"><li class="li-itemize">
When you declare a variable, you create a named storage location.
</li><li class="li-itemize">When you make an assignment to a variable, you update its value.
</li></ul><p>As a general rule, a variable has to have the same type as the value you assign to it.
For example, you cannot store a string in <code>minute</code> or an integer in <code>message</code>.
We will see some examples that seem to break this rule, but we&#X2019;ll get to that later.</p><p>A common source of confusion is that some strings <em>look</em> like integers, but they are not.
For example, <code>message</code> can contain the string <span style="color:#B20000"><code>"123"</code></span>, which is made up of the characters <span style="color:#B20000"><code>'1'</code></span>, <span style="color:#B20000"><code>'2'</code></span>, and <span style="color:#B20000"><code>'3'</code></span>.
But that is not the same thing as the integer <code>123</code>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">message = <span style="color:#B20000">"123"</span>;     <span style="color:#007C00">// legal</span>
message = 123;       <span style="color:#007C00">// not legal</span></td></tr>
</table><p><a id="hevea_default88"></a></p><p>Variables must be <span style="font-weight:bold">initialized</span> (assigned for the first time) before they can be used.
You can declare a variable and then assign a value later, as in the previous example.
You can also declare and initialize on the same line:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String message = <span style="color:#B20000">"Hello!"</span>;
<span style="color:blue">int</span> hour = 11;
<span style="color:blue">int</span> minute = 59;</td></tr>
</table>
<!--TOC section id="sec21" State diagrams-->
<h2 id="sec21" class="section">2.3&#XA0;&#XA0;State diagrams</h2><!--SEC END --><p>
<a id="state"></a></p><p>Because Java uses the <code>=</code> symbol for assignment, it is tempting to interpret the statement <code>a&#XA0;=&#XA0;b</code> as a statement of equality.
It is not!</p><p>Equality is commutative, and assignment is not.
For example, in mathematics if <span style="font-style:italic">a</span> = 7 then 7 = <span style="font-style:italic">a</span>.
In Java <code>a&#XA0;=&#XA0;7;</code> is a legal assignment statement, but <code>7&#XA0;=&#XA0;a;</code> is not.
The left side of an assignment statement has to be a variable name (storage location).</p><p>Also, in mathematics, a statement of equality is true for all time.
If <span style="font-style:italic">a</span> = <span style="font-style:italic">b</span> now, <span style="font-style:italic">a</span> is always equal to <span style="font-style:italic">b</span>.
In Java, an assignment statement can make two variables equal, but they don&#X2019;t have to stay that way.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> a = 5;
<span style="color:blue">int</span> b = a;     <span style="color:#007C00">// a and b are now equal</span>
a = 3;         <span style="color:#007C00">// a and b are no longer equal</span></td></tr>
</table><p>The third line changes the value of <code>a</code>, but it does not change the value of <code>b</code>, so they are no longer equal.</p><p><a id="hevea_default89"></a></p><p>Taken together, the variables in a program and their current values make up the program&#X2019;s <span style="font-weight:bold">state</span>.
Figure&#XA0;<a href="#fig.state">2.1</a> shows the state of the program after these assignment statements run.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6003.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 2.1: State diagram of the variables <code>a</code> and <code>b</code>.</td></tr>
</table></div>
<a id="fig.state"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default90"></a>
<a id="hevea_default91"></a></p><p>Diagrams like this one that show the state of the program are called <span style="font-weight:bold">state diagrams</span>.
Each variable is represented with a box showing the name of the variable on the outside and the value inside.
As the program runs, the state changes, so you should think of a state diagram as a snapshot of a particular point in time.</p>
<!--TOC section id="sec22" Printing variables-->
<h2 id="sec22" class="section">2.4&#XA0;&#XA0;Printing variables</h2><!--SEC END --><p>
<a id="sec:printvar"></a></p><p>You can display the value of a variable using <code>print</code> or <code>println</code>.
The following statements declare a variable named <code>firstLine</code>, assign it the value <span style="color:#B20000"><code>"Hello,&#XA0;again!"</code></span>, and display that value.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String firstLine = <span style="color:#B20000">"Hello, again!"</span>;
System.out.println(firstLine);</td></tr>
</table><p>When we talk about displaying a variable, we generally mean the <em>value</em> of the variable.
To display the <em>name</em> of a variable, you have to put it in quotes.
</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"The value of firstLine is "</span>);
System.out.println(firstLine);</td></tr>
</table><p>For this example, the output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">The value of firstLine is Hello, again!</td></tr>
</table><p>Conveniently, the syntax for displaying a variable is the same regardless of its type.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> hour = 11;
<span style="color:blue">int</span> minute = 59;
System.out.print(<span style="color:#B20000">"The current time is "</span>);
System.out.print(hour);
System.out.print(<span style="color:#B20000">":"</span>);
System.out.print(minute);
System.out.println(<span style="color:#B20000">"."</span>);</td></tr>
</table><p>The output of this program is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">The current time is 11:59.</td></tr>
</table><p>To output multiple values on the same line, it&#X2019;s common to use several <code>print</code> statements followed by <code>println</code> at the end.
But don&#X2019;t forget the <code>println</code>!
On many computers, the output from <code>print</code> is stored without being displayed until <code>println</code> is run; then the entire line is displayed at once.
If you omit the <code>println</code>, the program might display the stored output at unexpected times or even terminate without displaying anything.</p>
<!--TOC section id="sec23" Arithmetic operators-->
<h2 id="sec23" class="section">2.5&#XA0;&#XA0;Arithmetic operators</h2><!--SEC END --><p>
<a id="sec:arithops"></a></p><p><a id="hevea_default92"></a>
<a id="hevea_default93"></a></p><p><span style="font-weight:bold">Operators</span> are symbols that represent simple computations.
For example, the addition operator is <code>+</code>, subtraction is <code>-</code>, multiplication is <code>*</code>, and division is <code>/</code>.
</p><p>The following program converts a time of day to minutes:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> hour = 11;
<span style="color:blue">int</span> minute = 59;
System.out.print(<span style="color:#B20000">"Number of minutes since midnight: "</span>);
System.out.println(hour * 60 + minute);</td></tr>
</table><p><a id="hevea_default94"></a>
<a id="hevea_default95"></a></p><p>In this program, <code>hour&#XA0;*&#XA0;60&#XA0;+&#XA0;minute</code> is an <span style="font-weight:bold">expression</span>, which represents a single value to be computed.
When the program runs, each variable is replaced by its current value, and then the operators are applied.
The values operators work with are called <span style="font-weight:bold">operands</span>.</p><p>The result of the previous example is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Number of minutes since midnight: 719</td></tr>
</table><p>Expressions are generally a combination of numbers, variables, and operators.
When complied and executed, they become a single value.</p><p>For example, the expression <code>1&#XA0;+&#XA0;1</code> has the value <code>2</code>.
In the expression <code>hour&#XA0;-&#XA0;1</code>, Java replaces the variable with its value, yielding <code>11&#XA0;-&#XA0;1</code>, which has the value <code>10</code>.
In the expression <code>hour&#XA0;*&#XA0;60&#XA0;+&#XA0;minute</code>, both variables get replaced, yielding <code>11&#XA0;*&#XA0;60&#XA0;+&#XA0;59</code>.
The multiplication happens first, yielding <code>660&#XA0;+&#XA0;59</code>.
Then the addition yields <code>719</code>.</p><p>Addition, subtraction, and multiplication all do what you expect, but you might be surprised by division.
For example, the following fragment tries to compute the fraction of an hour that has elapsed:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"Fraction of the hour that has passed: "</span>);
System.out.println(minute / 60);</td></tr>
</table><p>The output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Fraction of the hour that has passed: 0</td></tr>
</table><p><a id="hevea_default96"></a>
<a id="hevea_default97"></a>
<a id="hevea_default98"></a></p><p>This result often confuses people.
The value of <code>minute</code> is 59, and 59 divided by 60 should be 0.98333, not 0.
The problem is that Java performs &#X201C;integer division&#X201D; when the operands are integers.
By design, integer division always rounds toward zero, even in cases like this one where the next integer is close.</p><p>As an alternative, we can calculate a percentage rather than a fraction:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"Percent of the hour that has passed: "</span>);
System.out.println(minute * 100 / 60);</td></tr>
</table><p>The new output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Percent of the hour that has passed: 98</td></tr>
</table><p>Again the result is rounded down, but at least now it&#X2019;s approximately correct.
</p>
<!--TOC section id="sec24" Floating-point numbers-->
<h2 id="sec24" class="section">2.6&#XA0;&#XA0;Floating-point numbers</h2><!--SEC END --><p><a id="hevea_default99"></a>
<a id="hevea_default100"></a>
<a id="hevea_default101"></a></p><p>A more general solution is to use <span style="font-weight:bold">floating-point</span> numbers, which can represent fractions as well as integers.
In Java, the default floating-point type is called <code><span style="color:blue">double</span></code>, which is short for double-precision.
You can create <code><span style="color:blue">double</span></code> variables and assign values to them using the same syntax we used for the other types:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> pi;
pi = 3.14159;</td></tr>
</table><p>Java performs &#X201C;floating-point division&#X201D; when one or more operands are <code><span style="color:blue">double</span></code> values.
So we can solve the problem we saw in the previous section:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> minute = 59.0;
System.out.print(<span style="color:#B20000">"Fraction of the hour that has passed: "</span>);
System.out.println(minute / 60.0);</td></tr>
</table><p>The output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Fraction of the hour that has passed: 0.9833333333333333</td></tr>
</table><p>Although floating-point numbers are useful, they can be a source of confusion.
For example, Java distinguishes the integer value <code>1</code> from the floating-point value <code>1.0</code>, even though they seem to be the same number.
They belong to different data types, and strictly speaking, you are not allowed to make assignments between types.</p><p>The following is illegal because the variable on the left is an <code><span style="color:blue">int</span></code> and the value on the right is a <code><span style="color:blue">double</span></code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> x = 1.1;  <span style="color:#007C00">// compiler error</span></td></tr>
</table><p>It is easy to forget this rule because in many cases Java <em>automatically</em> converts from one type to another:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> y = 1;  <span style="color:#007C00">// legal, but bad style</span></td></tr>
</table><p>The preceding example should be illegal, but Java allows it by converting the <code><span style="color:blue">int</span></code> value <code>1</code> to the <code><span style="color:blue">double</span></code> value <code>1.0</code> automatically.
This leniency is convenient, but it often causes problems for beginners.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> y = 1 / 3;  <span style="color:#007C00">// common mistake</span></td></tr>
</table><p><a id="hevea_default102"></a>
<a id="hevea_default103"></a>
<a id="hevea_default104"></a></p><p>You might expect the variable <code>y</code> to get the value <code>0.333333</code>, which is a legal floating-point value.
But instead it gets the value <code>0.0</code>.
The expression on the right divides two integers, so Java does integer division, which yields the <code><span style="color:blue">int</span></code> value <code>0</code>.
Converted to <code><span style="color:blue">double</span></code>, the value assigned to <code>y</code> is <code>0.0</code>.</p><p>One way to solve this problem (once you figure out the bug) is to make the right-hand side a floating-point expression.
The following sets <code>y</code> to <code>0.333333</code>, as expected:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> y = 1.0 / 3.0;  <span style="color:#007C00">// correct</span></td></tr>
</table><p>As a matter of style, you should always assign floating-point values to floating-point variables.
The compiler won&#X2019;t make you do it, but you never know when a simple mistake will come back and haunt you.</p>
<!--TOC section id="sec25" Rounding errors-->
<h2 id="sec25" class="section">2.7&#XA0;&#XA0;Rounding errors</h2><!--SEC END --><p>Most floating-point numbers are only <em>approximately</em> correct.
Some numbers, like reasonably-sized integers, can be represented exactly.
But repeating fractions, like 1/3, and irrational numbers, like &#X3C0;, cannot.
To represent these numbers, computers have to round off to the nearest floating-point number.</p><p><a id="hevea_default105"></a>
<a id="hevea_default106"></a></p><p>The difference between the number we want and the floating-point number we get is called <span style="font-weight:bold">rounding error</span>.
For example, the following two statements should be equivalent:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(0.1 * 10);
System.out.println(0.1 + 0.1 + 0.1 + 0.1 + 0.1
                 + 0.1 + 0.1 + 0.1 + 0.1 + 0.1);</td></tr>
</table><p>But on many machines, the output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">1.0
0.9999999999999999</td></tr>
</table><p>The problem is that <code>0.1</code>, which is a terminating fraction in decimal, is a repeating fraction in binary.
So its floating-point representation is only approximate.
When we add up the approximations, the rounding errors accumulate.</p><p>For many applications, like computer graphics, encryption, statistical analysis, and multimedia rendering, floating-point arithmetic has benefits that outweigh the costs.
But if you need <em>absolute</em> precision, use integers instead.
For example, consider a bank account with a balance of $123.45:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> balance = 123.45;  <span style="color:#007C00">// potential rounding error</span></td></tr>
</table><p>In this example, balances will become inaccurate over time as the variable is used in arithmetic operations like deposits and withdrawals.
The result would be angry customers and potential lawsuits.
You can avoid the problem by representing the balance as an integer:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> balance = 12345;      <span style="color:#007C00">// total number of cents</span></td></tr>
</table><p><a id="hevea_default107"></a></p><p>This solution works as long as the number of cents doesn&#X2019;t exceed the largest integer, which is about 2 billion.
</p>
<!--TOC section id="sec26" Operators for strings-->
<h2 id="sec26" class="section">2.8&#XA0;&#XA0;Operators for strings</h2><!--SEC END --><p><a id="hevea_default108"></a>
<a id="hevea_default109"></a></p><p>In general, you cannot perform mathematical operations on strings, even if the strings look like numbers.
The following expressions are illegal:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:#B20000">"Hello"</span> - 1     <span style="color:#B20000">"World"</span> / 123     <span style="color:#B20000">"Hello"</span> * <span style="color:#B20000">"World"</span></td></tr>
</table><p><a id="hevea_default110"></a>
<a id="hevea_default111"></a></p><p>The <code>+</code> operator works with strings, but it might not do what you expect.
For strings, the <code>+</code> operator performs <span style="font-weight:bold">concatenation</span>, which means joining end-to-end.
So <code><span style="color:#B20000">"Hello,&#XA0;"</span>&#XA0;+&#XA0;<span style="color:#B20000">"World!"</span></code> yields the string <span style="color:#B20000"><code>"Hello,&#XA0;World!"</code></span>.</p><p>Or if you have a variable called <code>name</code> that has type <code>String</code>, the expression <code><span style="color:#B20000">"Hello,&#XA0;"</span>&#XA0;+&#XA0;name</code> appends the value of <code>name</code> to the hello string, which creates a personalized greeting.</p><p>Since addition is defined for both numbers and strings, Java performs automatic conversions you may not expect:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(1 + 2 + <span style="color:#B20000">"Hello"</span>);
<span style="color:#007C00">// the output is 3Hello</span>

System.out.println(<span style="color:#B20000">"Hello"</span> + 1 + 2);
<span style="color:#007C00">// the output is Hello12</span></td></tr>
</table><p>Java executes these operations from left to right.
In the first line, <code>1&#XA0;+&#XA0;2</code> is <code>3</code>, and <code>3&#XA0;+&#XA0;<span style="color:#B20000">"Hello"</span></code> is <span style="color:#B20000"><code>"3Hello"</code></span>.
But in the second line, <code><span style="color:#B20000">"Hello"</span>&#XA0;+&#XA0;1</code> is <span style="color:#B20000"><code>"Hello1"</code></span>, and <code><span style="color:#B20000">"Hello1"</span>&#XA0;+&#XA0;2</code> is <span style="color:#B20000"><code>"Hello12"</code></span>.</p><p><a id="hevea_default112"></a>
<a id="hevea_default113"></a></p><p>When more than one operator appears in an expression, they are evaluated according to <span style="font-weight:bold">order of operations</span>.
Generally speaking, Java evaluates operators from left to right (as we saw in the previous section).
But for numeric operators, Java follows mathematical conventions:</p><ul class="itemize"><li class="li-itemize">Multiplication and division take &#X201C;precedence&#X201D; over addition and subtraction, which means they happen first.
So <code>1&#XA0;+&#XA0;2&#XA0;*&#XA0;3</code> yields 7, not 9, and <code>2&#XA0;+&#XA0;4&#XA0;/&#XA0;2</code> yields 4, not 3.</li><li class="li-itemize">If the operators have the same precedence, they are evaluated from left to right.
So in the expression <code>minute&#XA0;*&#XA0;100&#XA0;/&#XA0;60</code>, the multiplication happens first; if the value of <code>minute</code> is 59, we get <code>5900&#XA0;/&#XA0;60</code>, which yields <code>98</code>.
If these same operations had gone from right to left, the result would have been <code>59&#XA0;*&#XA0;1</code>, which is incorrect.</li><li class="li-itemize">Any time you want to override the order of operations (or you are not sure what it is) you can use parentheses.
Expressions in parentheses are evaluated first, so <code>(1&#XA0;+&#XA0;2)&#XA0;*&#XA0;3</code> is 9.
You can also use parentheses to make an expression easier to read, as in <code>(minute&#XA0;*&#XA0;100)&#XA0;/&#XA0;60</code>, even though it doesn&#X2019;t change the result.</li></ul><p>Don&#X2019;t work too hard to remember the order of operations, especially for other operators.
If it&#X2019;s not obvious by looking at the expression, use parentheses to make it clear.</p>
<!--TOC section id="sec27" Composition-->
<h2 id="sec27" class="section">2.9&#XA0;&#XA0;Composition</h2><!--SEC END --><p><a id="hevea_default114"></a></p><p>So far we have looked at the elements of a programming language &#X2013; variables, expressions, and statements &#X2013; in isolation, without talking about how to put them together.</p><p>One of the most useful features of programming languages is their ability to take small building blocks and <span style="font-weight:bold">compose</span> them.
For example, we know how to multiply numbers and we know how to display values.
We can combine these operations into a single statement:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(17 * 3);</td></tr>
</table><p>Any arithmetic expression can be used inside a print statement.
We&#X2019;ve already seen one example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(hour * 60 + minute);</td></tr>
</table><p>You can also put arbitrary expressions on the right side of an assignment:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> percentage;
percentage = (minute * 100) / 60;</td></tr>
</table><p>The left side of an assignment must be a variable name, not an expression.
That&#X2019;s because the left side indicates where the result will be stored, and expressions do not represent storage locations.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">hour = minute + 1;  <span style="color:#007C00">// correct</span>
minute + 1 = hour;  <span style="color:#007C00">// compiler error</span></td></tr>
</table><p><a id="hevea_default115"></a></p><p>The ability to compose operations may not seem impressive now, but we will see examples later on that allow us to write complex computations neatly and concisely.
But don&#X2019;t get too carried away.
Large, complex expressions can be hard to read and debug.</p>
<!--TOC section id="sec28" Types of errors-->
<h2 id="sec28" class="section">2.10&#XA0;&#XA0;Types of errors</h2><!--SEC END --><p><a id="hevea_default116"></a></p><p>Three kinds of errors can occur in a program: compile-time errors, run-time errors, and logic errors.
It is useful to distinguish among them in order to track them down more quickly.</p><p><a id="hevea_default117"></a>
<a id="hevea_default118"></a></p><p><span style="font-weight:bold">Compile-time</span> errors occur when you violate the syntax rules of the Java language.
For example, parentheses and braces have to come in matching pairs.
So <code>(1&#XA0;+&#XA0;2)</code> is legal, but <code>8)</code> is not.
In the latter case, the program cannot be compiled, and the compiler displays an error.</p><p><a id="hevea_default119"></a></p><p>Error messages from the compiler usually indicate where in the program the error occurred, and sometimes they can tell you exactly what the error is.
As an example, let&#X2019;s get back to the hello world program from Section&#XA0;<a href="#hello">1.4</a>.</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Hello.java ]]]]
public class Hello {

    public static void main(String[] args) {
        // generate some simple output
        System.out.println("Hello, World!");
    }
}
--></p><p><a id="hevea_default120"></a></p><p>If you forget the semicolon at the end of the print statement, you might get an error message like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">File: Hello.java  [line: 5]
Error: ';' expected</td></tr>
</table><p>That&#X2019;s pretty good: the location of the error is correct, and the error message tells you what&#X2019;s wrong.</p><p>But error messages are not always easy to understand.
Sometimes the compiler reports the place in the program where the error was detected, not where it actually occurred.
And sometimes the description of the problem is more confusing than helpful.</p><p>For example, if you leave out the closing brace at the end of <code>main</code> (line 6), you might get a message like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">File: Hello.java  [line: 7]
Error: reached end of file while parsing</td></tr>
</table><p><a id="hevea_default121"></a></p><p>There are two problems here.
First, the error message is written from the compiler&#X2019;s point of view, not yours.
<span style="font-weight:bold">Parsing</span> is the process of reading a program before translating; if the compiler gets to the end of the file while still parsing, that means something was omitted.
But the compiler doesn&#X2019;t know what.
It also doesn&#X2019;t know where.
The compiler discovers the error at the end of the program (line 7), but the missing brace should be on the previous line.</p><p>Error messages contain useful information, so you should make an effort to read and understand them.
But don&#X2019;t take them too literally.</p><p>During the first few weeks of your programming career, you will probably spend a lot of time tracking down compile-time errors.
But as you gain experience, you will make fewer mistakes and find them more quickly.</p><p><a id="hevea_default122"></a>
<a id="hevea_default123"></a>
<a id="hevea_default124"></a></p><p>The second type of error is a <span style="font-weight:bold">run-time error</span>, so-called because it does not appear until after the program has started running.
In Java, these errors occur while the interpreter is executing byte code and something goes wrong.
These errors are also called &#X201C;exceptions&#X201D; because they usually indicate that something exceptional (and bad) has happened.</p><p>Run-time errors are rare in the simple programs you will see in the first few chapters, so it might be a while before you encounter one.
When a run-time error occurs, the interpreter displays an error message that explains what happened and where.</p><p>For example, if you accidentally divide by zero you will get a message like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="font-size:small">Exception in thread "main" java.lang.ArithmeticException: / by zero
    at Hello.main(Hello.java:5)</span></td></tr>
</table><p><a id="hevea_default125"></a>
<a id="hevea_default126"></a></p><p>Some parts of this output are useful for debugging.
The first line includes the name of the exception, <code>java.lang.ArithmeticException</code>, and a message that indicates more specifically what happened, <code>/&#XA0;by&#XA0;zero</code>.
The next line shows the method where the error occurred; <code>Hello.main</code> indicates the method <code>main</code> in the class <code>Hello</code>.
It also reports the file where the method is defined, <span style="font-family:monospace">Hello.java</span>, and the line number where the error occurred, <code>5</code>.</p><p>Error messages sometimes contain additional information that won&#X2019;t make sense yet.
So one of the challenges is to figure out where to find the useful parts without being overwhelmed by extraneous information.
Also, keep in mind that the line where the program crashed may not be the line that needs to be corrected.</p><p><a id="hevea_default127"></a>
<a id="hevea_default128"></a></p><p>The third type of error is the <span style="font-weight:bold">logic error</span>.
If your program has a logic error, it will compile and run without generating error messages, but it will not do the right thing.
Instead, it will do exactly what you told it to do.
For example, here is a version of the hello world program with a logic error:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Hello.java ]]]]
public class Hello {

    public static void main(String[] args) {
        System.out.println("Hello, ");
        System.out.println("World!");
    }
}
--></p><p>This program compiles and runs just fine, but the output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Hello,
World!</td></tr>
</table><p>Assuming that we wanted the output on one line, this is not correct.
The problem is that the first line uses <code>println</code>, when we probably meant to use <code>print</code> (see the &#X201C;goodbye world&#X201D; example of Section&#XA0;<a href="#goodbye">1.5</a>).</p><p>Identifying logic errors can be hard because you have to work backwards, looking at the output of the program, trying to figure out why it is doing the wrong thing, and how to make it do the right thing.
Usually the compiler and the interpreter can&#X2019;t help you, since they don&#X2019;t know what the right thing is.</p><p>Now that you know about the three kinds of errors, you might want to read Appendix&#XA0;<a href="#debugappendix">C</a>, where we&#X2019;ve collected some of our favorite debugging advice.
It refers to language features we haven&#X2019;t talked about yet, so you might want to re-read it from time to time.</p>
<!--TOC section id="sec29" Vocabulary-->
<h2 id="sec29" class="section">2.11&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">variable:</span></dt><dd class="dd-description"><a id="hevea_default129"></a>
A named storage location for values.
All variables have a type, which is declared when the variable is created.</dd><dt class="dt-description"><span style="font-weight:bold">value:</span></dt><dd class="dd-description"><a id="hevea_default130"></a>
A number, string, or other data that can be stored in a variable.
Every value belongs to a type (for example, <code><span style="color:blue">int</span></code> or <code>String</code>).</dd><dt class="dt-description"><span style="font-weight:bold">declaration:</span></dt><dd class="dd-description"><a id="hevea_default131"></a>
A statement that creates a new variable and specifies its type.</dd><dt class="dt-description"><span style="font-weight:bold">type:</span></dt><dd class="dd-description"><a id="hevea_default132"></a>
Mathematically speaking, a set of values.
The type of a variable determines which values it can have.</dd><dt class="dt-description"><span style="font-weight:bold">syntax:</span></dt><dd class="dd-description"><a id="hevea_default133"></a>
The structure of a program; the arrangement of the words and symbols it contains.</dd><dt class="dt-description"><span style="font-weight:bold">keyword:</span></dt><dd class="dd-description"><a id="hevea_default134"></a>
A reserved word used by the compiler to analyze programs.
You cannot use keywords (like <code><span style="color:blue">public</span></code>, <code><span style="color:blue">class</span></code>, and <code><span style="color:blue">void</span></code>) as variable names.</dd><dt class="dt-description"><span style="font-weight:bold">assignment:</span></dt><dd class="dd-description"><a id="hevea_default135"></a>
A statement that gives a value to a variable.</dd><dt class="dt-description"><span style="font-weight:bold">initialize:</span></dt><dd class="dd-description"><a id="hevea_default136"></a>
To assign a variable for the first time.</dd><dt class="dt-description"><span style="font-weight:bold">state:</span></dt><dd class="dd-description"><a id="hevea_default137"></a>
The variables in a program and their current values.</dd><dt class="dt-description"><span style="font-weight:bold">state diagram:</span></dt><dd class="dd-description"><a id="hevea_default138"></a>
A graphical representation of the state of a program at a point in time.</dd><dt class="dt-description"><span style="font-weight:bold">operator:</span></dt><dd class="dd-description"><a id="hevea_default139"></a>
A symbol that represents a computation like addition, multiplication, or string concatenation.</dd><dt class="dt-description"><span style="font-weight:bold">operand:</span></dt><dd class="dd-description"><a id="hevea_default140"></a>
One of the values on which an operator operates.
Most operators in Java require two operands.</dd><dt class="dt-description"><span style="font-weight:bold">expression:</span></dt><dd class="dd-description"><a id="hevea_default141"></a>
A combination of variables, operators, and values that represents a single value.
Expressions also have types, as determined by their operators and operands.</dd><dt class="dt-description"><span style="font-weight:bold">floating-point:</span></dt><dd class="dd-description"><a id="hevea_default142"></a>
A data type that represents numbers with an integer part and a fractional part.
In Java, the default floating-point type is <code><span style="color:blue">double</span></code>.</dd><dt class="dt-description"><span style="font-weight:bold">rounding error:</span></dt><dd class="dd-description"><a id="hevea_default143"></a>
The difference between the number we want to represent and the nearest floating-point number.</dd><dt class="dt-description"><span style="font-weight:bold">concatenate:</span></dt><dd class="dd-description"><a id="hevea_default144"></a>
To join two values, often strings, end-to-end.</dd><dt class="dt-description"><span style="font-weight:bold">order of operations:</span></dt><dd class="dd-description"><a id="hevea_default145"></a>
The rules that determine in what order operations are evaluated.</dd><dt class="dt-description"><span style="font-weight:bold">composition:</span></dt><dd class="dd-description"><a id="hevea_default146"></a>
The ability to combine simple expressions and statements into compound expressions and statements.</dd><dt class="dt-description"><span style="font-weight:bold">compile-time error:</span></dt><dd class="dd-description"><a id="hevea_default147"></a>
An error in the source code that makes it impossible to compile.
Also called a &#X201C;syntax error&#X201D;.</dd><dt class="dt-description"><span style="font-weight:bold">parse:</span></dt><dd class="dd-description"><a id="hevea_default148"></a>
To analyze the structure of a program; what the compiler does first.</dd><dt class="dt-description"><span style="font-weight:bold">run-time error:</span></dt><dd class="dd-description"><a id="hevea_default149"></a>
An error in a program that makes it impossible to run to completion.
Also called an &#X201C;exception&#X201D;.</dd><dt class="dt-description"><span style="font-weight:bold">logic error:</span></dt><dd class="dd-description"><a id="hevea_default150"></a>
An error in a program that makes it do something other than what the programmer intended.</dd></dl>
<!--TOC section id="sec30" Exercises-->
<h2 id="sec30" class="section">2.12&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch02</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><p>If you have not already read Appendix&#XA0;<a href="#interactions">A.2</a>, now might be a good time.
It describes the DrJava Interactions Pane, which is a useful way to develop and test short fragments of code without writing a complete class definition.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>If you are using this book in a class, you might enjoy this exercise.
Find a partner and play &#X201C;Stump the Chump&#X201D;:</em></p><p><em>Start with a program that compiles and runs correctly.
One player looks away while the other player adds an error to the program.
Then the first player tries to find and fix the error.
You get two points if you find the error without compiling the program, one point if you find it using the compiler, and your opponent gets a point if you don&#X2019;t find it.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;
<a id="ex:date"></a><p><em>The point of this exercise is (1) to use string concatenation to display values with different types (<span style="color:blue"><code>int</code></span> and <code>String</code>), and (2) to practice developing programs gradually by adding a few statements at a time.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Create a new program named <span style="font-family:monospace">Date.java</span>.
Copy or type in something like the hello world program and make sure you can compile and run it.</em></li><li class="li-enumerate"><em>Following the example in Section&#XA0;</em><a href="#sec%3Aprintvar"><em>2.4</em></a><em>, write a program that creates variables named <code>day</code>, <code>date</code>, <code>month</code>, and <code>year</code>.
The variable <code>day</code> will contain the day of the week (like Friday), and <code>date</code> will contain the day of the month (like the 13th).
What type is each variable?
Assign values to those variables that represent today&#X2019;s date.</em></li><li class="li-enumerate"><em>Display (print out) the value of each variable on a line by itself.
This is an intermediate step that is useful for checking that everything is working so far.
Compile and run your program before moving on.</em></li><li class="li-enumerate"><em>Modify the program so that it displays the date in standard American format, for example: <span style="font-family:monospace">Thursday, July 16, 2015</span>.</em></li><li class="li-enumerate"><em>Modify the program so it also displays the date in European format.
The final output should be:</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>American format:
Thursday, July 16, 2015
European format:
Thursday 16 July 2015</em></td></tr>
</table></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<p><em>The point of this exercise is to (1) use some of the arithmetic operators, and (2) start thinking about compound entities (like time of day) that are represented with multiple values.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Create a new program called <span style="font-family:monospace">Time.java</span>.
From now on, we won&#X2019;t remind you to start with a small, working program, but you should.</em></li><li class="li-enumerate"><em>Following the example program in Section&#XA0;</em><a href="#sec%3Aprintvar"><em>2.4</em></a><em>, create variables named <code>hour</code>, <code>minute</code>, and <code>second</code>.
Assign values that are roughly the current time.
Use a 24-hour clock so that at 2pm the value of <code>hour</code> is 14.</em></li><li class="li-enumerate"><em>Make the program calculate and display the number of seconds since midnight.</em></li><li class="li-enumerate"><em>Calculate and display the number of seconds remaining in the day.</em></li><li class="li-enumerate"><em>Calculate and display the percentage of the day that has passed.
You might run into problems when computing percentages with integers, so consider using floating-point.</em></li><li class="li-enumerate"><em>Change the values of <code>hour</code>, <code>minute</code>, and <code>second</code> to reflect the current time.
Then write code to compute the elapsed time since you started working on this exercise.</em></li></ol><p>Hint:<em> You might want to use additional variables to hold values during the computation.
Variables that are used in a computation but never displayed are sometimes called &#X201C;intermediate&#X201D; or &#X201C;temporary&#X201D; variables.</em></p></div>
<!--TOC chapter id="sec31" Input and output-->
<h1 id="sec31" class="chapter">Chapter&#XA0;3&#XA0;&#XA0;Input and output</h1><!--SEC END --><p>The programs we&#X2019;ve looked at so far simply display messages, which doesn&#X2019;t involve a lot of real computation.
This chapter will show you how to read input from the keyboard, use that input to calculate a result, and then format that result for output.
</p>
<!--TOC section id="sec32" The System class-->
<h2 id="sec32" class="section">3.1&#XA0;&#XA0;The System class</h2><!--SEC END --><p>
<a id="sec:system"></a></p><p><a id="hevea_default151"></a></p><p>We have been using <code>System.out.println</code> for a while, but you might not have thought about what it means.
<code>System</code> is a class that provides methods related to the &#X201C;system&#X201D; or environment where programs run.
It also provides <code>System.out</code>, which is a special value that provides methods for displaying output, including <code>println</code>.</p><p><a id="hevea_default152"></a></p><p>In fact, we can use <code>System.out.println</code> to display the value of <code>System.out</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(System.out);</td></tr>
</table><p>The result is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">java.io.PrintStream@685d72cd</td></tr>
</table><p><a id="hevea_default153"></a></p><p>This output indicates that <code>System.out</code> is a <code>PrintStream</code>, which is defined in a package called <code>java.io</code>.
A <span style="font-weight:bold">package</span> is a collection of related classes; <code>java.io</code> contains classes for &#X201C;I/O&#X201D; which stands for input and output.</p><p><a id="hevea_default154"></a>
<a id="hevea_default155"></a></p><p>The numbers and letters after the <span style="font-family:monospace">@</span> sign are the <span style="font-weight:bold">address</span> of <code>System.out</code>, represented as a hexadecimal (base 16) number.
The address of a value is its location in the computer&#X2019;s memory, which might be different on different computers.
In this example the address is <code>685d72cd</code>, but if you run the same code you might get something different.
</p><p><a id="hevea_default156"></a></p><p>As shown in Figure&#XA0;<a href="#fig.system">3.1</a>, <code>System</code> is defined in a file called <span style="font-family:monospace">System.java</span>, and <code>PrintStream</code> is defined in <span style="font-family:monospace">PrintStream.java</span>.
These files are part of the Java <span style="font-weight:bold">library</span>, which is an extensive collection of classes you can use in your programs.
</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6004.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 3.1: <code>System.out.println</code> refers to the <code>out</code> variable of the <code>System</code> class, which is a <code>PrintStream</code> that provides a method called <code>println</code>.</td></tr>
</table></div>
<a id="fig.system"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote>
<!--TOC section id="sec33" The Scanner class-->
<h2 id="sec33" class="section">3.2&#XA0;&#XA0;The Scanner class</h2><!--SEC END --><p>
<a id="scanner"></a></p><p><a id="hevea_default157"></a>
<a id="hevea_default158"></a></p><p><a id="hevea_default159"></a></p><p>The <code>System</code> class also provides the special value <code>System.in</code>, which is an <code>InputStream</code> that provides methods for reading input from the keyboard.
These methods are not easy to use; fortunately, Java provides other classes that make it easier to handle common input tasks.</p><p><a id="hevea_default160"></a>
<a id="hevea_default161"></a>
<a id="hevea_default162"></a></p><p>For example, <code>Scanner</code> is a class that provides methods for inputting words, numbers, and other data.
<code>Scanner</code> is provided by <code>java.util</code>, which is a package that contains classes so useful they are called &#X201C;utility classes&#X201D;.
Before you can use <code>Scanner</code>, you have to import it like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">import</span> java.util.Scanner;</td></tr>
</table><p><a id="hevea_default163"></a>
<a id="hevea_default164"></a></p><p>This <span style="font-weight:bold">import statement</span> tells the compiler that when you say <code>Scanner</code>, you mean the one defined in <code>java.util</code>.
It&#X2019;s necessary because there might be another class named <code>Scanner</code> in another package.
Using an import statement makes your code unambiguous.</p><p>Import statements can&#X2019;t be inside a class definition.
By convention, they are usually at the beginning of the file.</p><p>Next you have to create a <code>Scanner</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Scanner in = <span style="color:blue">new</span> Scanner(System.in);</td></tr>
</table><p>This line declares a <code>Scanner</code> variable named <code>in</code> and creates a new <code>Scanner</code> that takes input from <code>System.in</code>.
</p><p><code>Scanner</code> provides a method called <code>nextLine</code> that reads a line of input from the keyboard and returns a <code>String</code>.
The following example reads two lines and repeats them back to the user:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Echo.java ]]]]
import java.util.Scanner;

public class Echo {

    public static void main(String[] args) {
        String line;
        Scanner in = new Scanner(System.in);

        System.out.print("Type something: ");
        line = in.nextLine();
        System.out.println("You said: " + line);

        System.out.print("Type something else: ");
        line = in.nextLine();
        System.out.println("You also said: " + line);
    }
}
--></p><p>If you omit the import statement and later refer to <code>Scanner</code>, you will get a compiler error like &#X201C;cannot find symbol&#X201D;.
That means the compiler doesn&#X2019;t know what you mean by <code>Scanner</code>.</p><p>You might wonder why we can use the <code>System</code> class without importing it.
<code>System</code> belongs to the <code>java.lang</code> package, which is imported automatically.
According to the documentation, <code>java.lang</code> &#X201C;provides classes that are fundamental to the design of the Java programming language.&#X201D;
The <code>String</code> class is also part of the <code>java.lang</code> package.</p>
<!--TOC section id="sec34" Program structure-->
<h2 id="sec34" class="section">3.3&#XA0;&#XA0;Program structure</h2><!--SEC END --><p>
<a id="sec:library"></a></p><p>At this point, we have seen all of the elements that make up Java programs.
Figure&#XA0;<a href="#fig.package">3.2</a> shows these organizational units.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6005.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 3.2: Elements of the Java language, from largest to smallest.</td></tr>
</table></div>
<a id="fig.package"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default165"></a></p><p>To review, a package is a collection of classes, which define methods.
Methods contain statements, some of which contain expressions.
Expressions are made up of <span style="font-weight:bold">tokens</span>, which are the basic elements of a program, including numbers, variable names, operators, keywords, and punctuation like parentheses, braces and semicolons.</p><p>The standard edition of Java comes with <em>several thousand</em> classes you can <code><span style="color:blue">import</span></code>, which can be both exciting and intimidating.
You can browse this library at <a href="http://docs.oracle.com/javase/8/docs/api/"><span style="font-family:monospace">http://docs.oracle.com/javase/8/docs/api/</span></a>.
Most of the Java library itself is written in Java.</p><p>Note there is a major difference between the Java <em>language</em>, which defines the syntax and meaning of the elements in Figure&#XA0;<a href="#fig.package">3.2</a>, and the Java <em>library</em>, which provides the built-in classes.</p>
<!--TOC section id="sec35" Inches to centimeters-->
<h2 id="sec35" class="section">3.4&#XA0;&#XA0;Inches to centimeters</h2><!--SEC END --><p>Now let&#X2019;s see an example that&#X2019;s a little more useful.
Although most of the world has adopted the metric system for weights and measures, some countries are stuck with English units.
For example, when talking with friends in Europe about the weather, people in the United States might have to convert from Celsius to Fahrenheit and back.
Or they might want to convert height in inches to centimeters.</p><p>We can write a program to help.
We&#X2019;ll use a <code>Scanner</code> to input a measurement in inches, convert to centimeters, and then display the results.
The following lines declare the variables and create the <code>Scanner</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> inch;
<span style="color:blue">double</span> cm;
Scanner in = <span style="color:blue">new</span> Scanner(System.in);</td></tr>
</table><p><a id="hevea_default166"></a></p><p>The next step is to prompt the user for the input.
We&#X2019;ll use <code>print</code> instead of <code>println</code> so they can enter the input on the same line as the prompt.
And we&#X2019;ll use the <code>Scanner</code> method <code>nextInt</code>, which reads input from the keyboard and converts it to an integer:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"How many inches? "</span>);
inch = in.nextInt();</td></tr>
</table><p>Next we multiply the number of inches by 2.54, since that&#X2019;s how many centimeters there are per inch, and display the results:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">cm = inch * 2.54;
System.out.print(inch + <span style="color:#B20000">" in = "</span>);
System.out.println(cm + <span style="color:#B20000">" cm"</span>);</td></tr>
</table><p>This code works correctly, but it has a minor problem.
If another programmer reads this code, they might wonder where 2.54 comes from.
For the benefit of others (and yourself in the future), it would be better to assign this value to a variable with a meaningful name.
We&#X2019;ll demonstrate in the next section.</p>
<!--TOC section id="sec36" Literals and constants-->
<h2 id="sec36" class="section">3.5&#XA0;&#XA0;Literals and constants</h2><!--SEC END --><p><a id="hevea_default167"></a></p><p>A value that appears in a program, like 2.54 (or <span style="color:#B20000"><code>"&#XA0;in&#XA0;="</code></span>), is called a <span style="font-weight:bold">literal</span>.
In general, there&#X2019;s nothing wrong with literals.
But when numbers like 2.54 appear in an expression with no explanation, they make code hard to read.
And if the same value appears many times, and might have to change in the future, it makes code hard to maintain.</p><p><a id="hevea_default168"></a></p><p>Values like that are sometimes called <span style="font-weight:bold">magic numbers</span> (with the implication that being &#X201C;magic&#X201D; is not a good thing).
A good practice is to assign magic numbers to variables with meaningful names, like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> cmPerInch = 2.54;
cm = inch * cmPerInch;</td></tr>
</table><p>This version is easier to read and less error-prone, but it still has a problem.
Variables can vary, but the number of centimeters in an inch does not.
Once we assign a value to <code>cmPerInch</code>, it should never change.
Java provides a language feature that enforces that rule, the keyword <code><span style="color:blue">final</span></code>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">final double</span> CM_PER_INCH = 2.54;</td></tr>
</table><p><a id="hevea_default169"></a>
<a id="hevea_default170"></a></p><p>Declaring that a variable is <code><span style="color:blue">final</span></code> means that it cannot be reassigned once it has been initialized.
If you try, the compiler reports an error.
Variables declared as <code><span style="color:blue">final</span></code> are called <span style="font-weight:bold">constants</span>.
By convention, names for constants are all uppercase, with the underscore character (<code>_</code>) between words.</p>
<!--TOC section id="sec37" Formatting output-->
<h2 id="sec37" class="section">3.6&#XA0;&#XA0;Formatting output</h2><!--SEC END --><p>
<a id="printf"></a></p><p>When you output a <code><span style="color:blue">double</span></code> using <code>print</code> or <code>println</code>, it displays up to 16 decimal places:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(4.0 / 3.0);</td></tr>
</table><p>The result is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">1.3333333333333333</td></tr>
</table><p><a id="hevea_default171"></a></p><p>That might be more than you want.
<code>System.out</code> provides another method, called <code>printf</code>, that gives you more control of the format.
The &#X201C;f&#X201D; in <code>printf</code> stands for &#X201C;formatted&#X201D;.
Here&#X2019;s an example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.printf(<span style="color:#B20000">"Four thirds = %.3f"</span>, 4.0 / 3.0);</td></tr>
</table><p><a id="hevea_default172"></a>
<a id="hevea_default173"></a></p><p>The first value in the parentheses is a <span style="font-weight:bold">format string</span> that specifies how the output should be displayed.
This format string contains ordinary text followed by a <span style="font-weight:bold">format specifier</span>, which is a special sequence that starts with a percent sign.
The format specifier <code>\%.3f</code> indicates that the following value should be displayed as floating-point, rounded to three decimal places.
The result is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Four thirds = 1.333</td></tr>
</table><p>The format string can contain any number of format specifiers; here&#X2019;s an example with two:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> inch = 100;
<span style="color:blue">double</span> cm = inch * CM_PER_INCH;
System.out.printf(<span style="color:#B20000">"%d in = %f cm\n"</span>, inch, cm);</td></tr>
</table><p>The result is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">100 in = 254.000000 cm</td></tr>
</table><p>Like <code>print</code>, <code>printf</code> does not append a newline.
So format strings often end with a newline character.</p><p>The format specifier <code>\%d</code> displays integer values (&#X201C;d&#X201D; stands for &#X201C;decimal&#X201D;).
The values are matched up with the format specifiers in order, so <code>inch</code> is displayed using <code>\%d</code>, and <code>cm</code> is displayed using <code>\%f</code>.</p><p>Learning about format strings is like learning a sub-language within Java.
There are many options, and the details can be overwhelming.
Table&#XA0;<a href="#tab%3Aformat">3.1</a> lists a few common uses, to give you an idea of how things work.
For more details, refer to the documentation of <code>java.util.Formatter</code>.
The easiest way to find documentation for Java classes is to do a web search for &#X201C;Java&#X201D; and the name of the class.</p><blockquote class="table"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<table border=1  style="border-spacing:0;" class="cellpadding1"><tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><code>\%d</code></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >decimal integer</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >12345 </td></tr>
<tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><code>\%08d</code></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >padded with zeros, at least 8 digits wide</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >00012345 </td></tr>
<tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><code>\%f</code></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >floating-point</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >6.789000 </td></tr>
<tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><code>\%.2f</code></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >rounded to 2 decimal places</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >6.79 </td></tr>
</table>
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Table 3.1: Example format specifiers</td></tr>
</table></div>
<a id="tab:format"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote>
<!--TOC section id="sec38" Centimeters to inches-->
<h2 id="sec38" class="section">3.7&#XA0;&#XA0;Centimeters to inches</h2><!--SEC END --><p>
<a id="sec:rounding"></a></p><p>Now suppose we have a measurement in centimeters, and we want to round it off to the nearest inch.
It is tempting to write:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">inch = cm / CM_PER_INCH;  <span style="color:#007C00">// syntax error</span></td></tr>
</table><p>But the result is an error &#X2013; you get something like, &#X201C;Bad types in assignment: from double to int.&#X201D;
The problem is that the value on the right is floating-point, and the variable on the left is an integer.</p><p><a id="hevea_default174"></a>
<a id="hevea_default175"></a></p><p>The simplest way to convert a floating-point value to an integer is to use a <span style="font-weight:bold">type cast</span>, so called because it molds or &#X201C;casts&#X201D; a value from one type to another.
The syntax for type casting is to put the name of the type in parentheses and use it as an operator.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> pi = 3.14159;
<span style="color:blue">int</span> x = (<span style="color:blue">int</span>) pi;</td></tr>
</table><p>The <code>(<span style="color:blue">int</span>)</code> operator has the effect of converting what follows into an integer.
In this example, <code>x</code> gets the value <code>3</code>.
Like integer division, converting to an integer always rounds toward zero, even if the fraction part is <code>0.999999</code> (or <code>-0.999999</code>).
In other words, it simply throws away the fractional part.</p><p>Type casting takes precedence over arithmetic operations.
In this example, the value of <code>pi</code> gets converted to an integer before the multiplication.
So the result is 60.0, not 62.0.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> pi = 3.14159;
<span style="color:blue">double</span> x = (<span style="color:blue">int</span>) pi * 20.0;</td></tr>
</table><p>Keeping that in mind, here&#X2019;s how we can convert a measurement in centimeters to inches:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">inch = (<span style="color:blue">int</span>) (cm / CM_PER_INCH);
System.out.printf(<span style="color:#B20000">"%f cm = %d in\n"</span>, cent, inch);</td></tr>
</table><p>The parentheses after the cast operator require the division to happen before the type cast.
And the result is rounded toward zero; we will see in the next chapter how to round floating-point numbers to the closest integer.</p>
<!--TOC section id="sec39" Modulus operator-->
<h2 id="sec39" class="section">3.8&#XA0;&#XA0;Modulus operator</h2><!--SEC END --><p>Let&#X2019;s take the example one step further: suppose you have a measurement in inches and you want to convert to feet and inches.
The goal is divide by 12 (the number of inches in a foot) and keep the remainder.</p><p><a id="hevea_default176"></a>
<a id="hevea_default177"></a>
<a id="hevea_default178"></a></p><p>We have already seen the division operator (<code>/</code>), which computes the quotient of two numbers.
If the numbers are integers, it performs integer division.
Java also provides the <span style="font-weight:bold">modulus</span> operator (<code>\%</code>), which divides two numbers and computes the remainder.</p><p>Using division and modulus, we can convert to feet and inches like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">quotient = 76 / 12;   <span style="color:#007C00">// division</span>
remainder = 76 % 12;  <span style="color:#007C00">// modulus</span></td></tr>
</table><p>The first line yields 6.
The second line, which is pronounced &#X201C;76 mod 12&#X201D;, yields 4.
So 76 inches is 6 feet, 4 inches.</p><p>The modulus operator looks like a percent sign, but you might find it helpful to think of it as a division sign (&#XF7;) rotated to the left.</p><p><a id="hevea_default179"></a>
<a id="hevea_default180"></a></p><p>The modulus operator turns out to be surprisingly useful.
For example, you can check whether one number is divisible by another: if <code>x&#XA0;\%&#XA0;y</code> is zero, then <code>x</code> is divisible by <code>y</code>.
You can use modulus to &#X201C;extract&#X201D; digits from a number: <code>x&#XA0;\%&#XA0;10</code> yields the rightmost digit of <code>x</code>, and <code>x&#XA0;\%&#XA0;100</code> yields the last two digits.
Also, many encryption algorithms use the modulus operator extensively.</p>
<!--TOC section id="sec40" Putting it all together-->
<h2 id="sec40" class="section">3.9&#XA0;&#XA0;Putting it all together</h2><!--SEC END --><p>At this point, you have seen enough Java to write useful programs that solve everyday problems.
You can (1) import Java library classes, (2) create a <code>Scanner</code>, (3) get input from the keyboard, (4) format output with <code>printf</code>, and (5) divide and mod integers.
Now we will put everything together in a complete program:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Convert.java ]]]]
import java.util.Scanner;

/**
 * Converts centimeters to feet and inches.
 */
public class Convert {

    public static void main(String[] args) {
        double cm;
        int feet, inches, remainder;
        final double CM_PER_INCH = 2.54;
        final int IN_PER_FOOT = 12;
        Scanner in = new Scanner(System.in);

        // prompt the user and get the value
        System.out.print("Exactly how many cm? ");
        cm = in.nextDouble();

        // convert and output the result
        inches = (int) (cm / CM_PER_INCH);
        feet = inches / IN_PER_FOOT;
        remainder = inches % IN_PER_FOOT;
        System.out.printf("%.2f cm = %d ft, %d in\n",
                          cm, feet, remainder);
    }
}
--></p><p>Although not required, all variables and constants are declared at the top of <code>main</code>.
This practice makes it easier to find their types later on, and it helps the reader know what data is involved in the algorithm.</p><p>For readability, each major step of the algorithm is separated by a blank line and begins with a comment.
It also includes a documentation comment (<span style="color:#007C00"><code>/**</code></span>), which we&#X2019;ll learn more about in the next chapter.</p><p>Many algorithms, including the <code>Convert</code> program, perform division and modulus together.
In both steps, you divide by the same number (<code>IN_PER_FOOT</code>).</p><p>When statements get long (generally wider than 80 characters), a common style convention is to break them across multiple lines.
The reader should never have to scroll horizontally.</p>
<!--TOC section id="sec41" The Scanner bug-->
<h2 id="sec41" class="section">3.10&#XA0;&#XA0;The Scanner bug</h2><!--SEC END --><p>Now that you&#X2019;ve had some experience with <code>Scanner</code>, there is an unexpected behavior we want to warn you about.
The following code fragment asks users for their name and age:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"What is your name? "</span>);
name = in.nextLine();
System.out.print(<span style="color:#B20000">"What is your age? "</span>);
age = in.nextInt();
System.out.printf(<span style="color:#B20000">"Hello %s, age %d\n"</span>, name, age);</td></tr>
</table><p>The output might look something like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Hello Grace Hopper, age 45</td></tr>
</table><p>When you read a <code>String</code> followed by an <code><span style="color:blue">int</span></code>, everything works just fine.
But when you read an <code><span style="color:blue">int</span></code> followed by a <code>String</code>, something strange happens.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"What is your age? "</span>);
age = in.nextInt();
System.out.print(<span style="color:#B20000">"What is your name? "</span>);
name = in.nextLine();
System.out.printf(<span style="color:#B20000">"Hello %s, age %d\n"</span>, name, age);</td></tr>
</table><p>Try running this example code.
It doesn&#X2019;t let you input your name, and it immediately displays the output:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">What is your name? Hello , age 45</td></tr>
</table><p>To understand what is happening, you have to understand that the <code>Scanner</code> doesn&#X2019;t see input as multiple lines, like we do.
Instead, it gets a &#X201C;stream of characters&#X201D; as shown in Figure&#XA0;<a href="#fig.hopper1">3.3</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6006.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 3.3: A stream of characters as seen by a <code>Scanner</code>.</td></tr>
</table></div>
<a id="fig.hopper1"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>The arrow indicates the next character to be read by <code>Scanner</code>.
When you call <code>nextInt</code>, it reads characters until it gets to a non-digit.
Figure&#XA0;<a href="#fig.hopper2">3.4</a> shows the state of the stream after <code>nextInt</code> is invoked.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6007.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 3.4: A stream of characters after <code>nextInt</code> is invoked.</td></tr>
</table></div>
<a id="fig.hopper2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>At this point, <code>nextInt</code> returns <code>45</code>.
The program then displays the prompt <span style="color:#B20000"><code>"What&#XA0;is&#XA0;your&#XA0;name?&#XA0;"</code></span> and calls <code>nextLine</code>, which reads characters until it gets to a newline.
But since the next character is already a newline, <code>nextLine</code> returns the empty string <span style="color:#B20000"><code>""</code></span>.</p><p>To solve this problem, you need an extra <code>nextLine</code> after <code>nextInt</code>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"What is your age? "</span>);
age = in.nextInt();
in.nextLine();  <span style="color:#007C00">// read the newline</span>
System.out.print(<span style="color:#B20000">"What is your name? "</span>);
name = in.nextLine();
System.out.printf(<span style="color:#B20000">"Hello %s, age %d\n"</span>, name, age);</td></tr>
</table><p>This technique is common when reading <code><span style="color:blue">int</span></code> or <code><span style="color:blue">double</span></code> values that appear on their own line.
First you read the number, and then you read the rest of the line, which is just a newline character.</p>
<!--TOC section id="sec42" Vocabulary-->
<h2 id="sec42" class="section">3.11&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">package:</span></dt><dd class="dd-description"><a id="hevea_default181"></a>
A group of classes that are related to each other.
</dd><dt class="dt-description"><span style="font-weight:bold">address:</span></dt><dd class="dd-description"><a id="hevea_default182"></a>
The location of a value in computer memory, often represented as a hexadecimal integer.</dd><dt class="dt-description"><span style="font-weight:bold">library:</span></dt><dd class="dd-description"><a id="hevea_default183"></a>
A collection of packages and classes that are available for use in other programs.
</dd><dt class="dt-description"><span style="font-weight:bold">import statement:</span></dt><dd class="dd-description"><a id="hevea_default184"></a>
A statement that allows programs to use classes defined in other packages.</dd><dt class="dt-description"><span style="font-weight:bold">token:</span></dt><dd class="dd-description"><a id="hevea_default185"></a>
A basic element of a program, such as a word, space, symbol, or number.</dd><dt class="dt-description"><span style="font-weight:bold">literal:</span></dt><dd class="dd-description"><a id="hevea_default186"></a>
A value that appears in source code.
For example, <span style="color:#B20000"><code>"Hello"</code></span> is a string literal and <code>74</code> is an integer literal.</dd><dt class="dt-description"><span style="font-weight:bold">magic number:</span></dt><dd class="dd-description"><a id="hevea_default187"></a>
A number that appears without explanation as part of an expression.
It should generally be replaced with a constant.</dd><dt class="dt-description"><span style="font-weight:bold">constant:</span></dt><dd class="dd-description"><a id="hevea_default188"></a>
A variable, declared <code><span style="color:blue">final</span></code>, whose value cannot be changed.</dd><dt class="dt-description"><span style="font-weight:bold">format string:</span></dt><dd class="dd-description"><a id="hevea_default189"></a>
A string passed to <code>printf</code> to specify the format of the output.</dd><dt class="dt-description"><span style="font-weight:bold">format specifier:</span></dt><dd class="dd-description"><a id="hevea_default190"></a>
A special code that begins with a percent sign and specifies the data type and format of the corresponding value.</dd><dt class="dt-description"><span style="font-weight:bold">type cast:</span></dt><dd class="dd-description"><a id="hevea_default191"></a>
An operation that explicitly converts one data type into another.
In Java it appears as a type name in parentheses, like <code>(<span style="color:blue">int</span>)</code>.</dd><dt class="dt-description"><span style="font-weight:bold">modulus:</span></dt><dd class="dd-description"><a id="hevea_default192"></a>
An operator that yields the remainder when one integer is divided by another.
In Java, it is denoted with a percent sign; for example, <code>5&#XA0;\%&#XA0;2</code> is <code>1</code>.</dd></dl>
<!--TOC section id="sec43" Exercises-->
<h2 id="sec43" class="section">3.12&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch03</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><p>If you have not already read Appendix&#XA0;<a href="#commandline">A.3</a>, now might be a good time.
It describes the command-line interface, which is a powerful and efficient way to interact with your computer.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<em>
When you use <code>printf</code>, the Java compiler does not check your format string.
See what happens if you try to display a value with type <span style="color:blue"><code>int</code></span> using <code>\%f</code>.
And what happens if you display a <span style="color:blue"><code>double</code></span> using <code>\%d</code>?
What if you use two format specifiers, but then only provide one value?
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
Write a program that converts a temperature from Celsius to Fahrenheit.
It should (1) prompt the user for input, (2) read a <span style="color:blue"><code>double</code></span> value from the keyboard, (3) calculate the result, and (4) format the output to one decimal place.
For example, it should display <span style="font-family:monospace">"24.0 C = 75.2 F"</span>.</em><p><em>Here is the formula.
Be careful not to use integer division!
</em></p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">F</span>&#XA0;=&#XA0;<span style="font-style:italic">C</span>&#XA0;&#XD7;&#XA0;</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">9</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">5</td></tr>
</table></td><td class="dcell"><em>&#XA0;+&#XA0;32&#XA0;</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<em>
Write a program that converts a total number of seconds to hours, minutes, and seconds.
It should (1) prompt the user for input, (2) read an integer from the keyboard, (3) calculate the result, and (4) use <code>printf</code> to display the output.
For example, <span style="font-family:monospace">"5000 seconds = 1 hours, 23 minutes, and 20 seconds"</span>.</em><p>Hint:<em> Use the modulus operator.
</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;
<a id="guess"></a><em>
The goal of this exercise is to program a &#X201C;Guess My Number&#X201D; game.
When it&#X2019;s finished, it will work like this:</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>I'm thinking of a number between 1 and 100
(including both). Can you guess what it is?
Type a number: 45
Your guess is: 45
The number I was thinking of is: 14
You were off by: 31</em></td></tr>
</table><p><em>To choose a random number, you can use the <code>Random</code> class in <code>java.util</code>.
Here&#X2019;s how it works:</em></p><p><em><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ GuessStarter.java ]]]]
import java.util.Random;

public class GuessStarter {

    public static void main(String[] args) {
        // pick a random number
        Random random = new Random();
        int number = random.nextInt(100) + 1;
        System.out.println(number);
    }
}
--></em></p><p><a id="hevea_default193"></a>
<a id="hevea_default194"></a></p><p><em>Like the <code>Scanner</code> class we saw in this chapter, <code>Random</code> has to be imported before we can use it.
And as we saw with <code>Scanner</code>, we have to use the <span style="color:blue"><code>new</code></span> operator to create a <code>Random</code> (number generator).</em></p><p><em>Then we can use the method <code>nextInt</code> to generate a random number.
In this example, the result of <code>nextInt(100)</code> will be between 0 and 99, including both.
Adding 1 yields a number between 1 and 100, including both.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>The definition of <code>GuessStarter</code> is in a file called <span style="font-family:monospace">GuessStarter.java</span>, in the directory called <span style="font-family:monospace">ch03</span>, in the repository for this book.
</em></li><li class="li-enumerate"><em>Compile and run this program.</em></li><li class="li-enumerate"><em>Modify the program to prompt the user, then use a <code>Scanner</code> to read a line of user input.
Compile and test the program.</em></li><li class="li-enumerate"><em>Read the user input as an integer and display the result.
Again, compile and test.</em></li><li class="li-enumerate"><em>Compute and display the difference between the user&#X2019;s guess and the number that was generated.</em></li></ol></div>
<!--TOC chapter id="sec44" Void methods-->
<h1 id="sec44" class="chapter">Chapter&#XA0;4&#XA0;&#XA0;Void methods</h1><!--SEC END --><p>
<a id="voidmeth"></a></p><p>So far we&#X2019;ve only written short programs that have a single class and a single method (<code>main</code>).
In this chapter, we&#X2019;ll show you how to organize longer programs into multiple methods and classes.
We&#X2019;ll also present the <code>Math</code> class, which provides methods for common mathematical operations.</p>
<!--TOC section id="sec45" Math methods-->
<h2 id="sec45" class="section">4.1&#XA0;&#XA0;Math methods</h2><!--SEC END --><p><a id="hevea_default195"></a>
<a id="hevea_default196"></a></p><p>In mathematics, you have probably seen functions like sin and log, and you have learned to evaluate expressions like sin(&#X3C0;/2) and log(1/<span style="font-style:italic">x</span>).
First, you evaluate the expression in parentheses, which is called the <span style="font-weight:bold">argument</span> of the function.
Then you can evaluate the function itself, maybe by punching it into a calculator.</p><p>This process can be applied repeatedly to evaluate more complex expressions like log(1/sin(&#X3C0;/2)).
First we evaluate the argument of the innermost function, then evaluate the function itself, and so on.</p><p><a id="hevea_default197"></a>
<a id="hevea_default198"></a>
<a id="hevea_default199"></a></p><p>The Java library includes a <code>Math</code> class that provides common mathematical operations.
<code>Math</code> is in the <code>java.lang</code> package, so you don&#X2019;t have to import it.
You can use, or <span style="font-weight:bold">invoke</span>, <code>Math</code> methods like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> root = Math.sqrt(17.0);
<span style="color:blue">double</span> angle = 1.5;
<span style="color:blue">double</span> height = Math.sin(angle);</td></tr>
</table><p>The first line sets <code>root</code> to the square root of 17.
The third line finds the sine of 1.5 (the value of <code>angle</code>).</p><p><a id="hevea_default200"></a>
<a id="hevea_default201"></a>
<a id="hevea_default202"></a></p><p>Arguments of the trigonometric functions &#X2013; <code>sin</code>, <code>cos</code>, and <code>tan</code> &#X2013; should be in <em>radians</em>.
To convert from degrees to radians, you can divide by 180 and multiply by &#X3C0;.
Conveniently, the <code>Math</code> class provides a constant double named <code>PI</code> that contains an approximation of &#X3C0;:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> degrees = 90;
<span style="color:blue">double</span> angle = degrees / 180.0 * Math.PI;</td></tr>
</table><p>Notice that <code>PI</code> is in capital letters.
Java does not recognize <code>Pi</code>, <code>pi</code>, or <code>pie</code>.
Also, <code>PI</code> is the name of a variable, not a method, so it doesn&#X2019;t have parentheses.
The same is true for the constant <code>Math.E</code>, which approximates Euler&#X2019;s number.</p><p>Converting to and from radians is a common operation, so the <code>Math</code> class provides methods that do it for you.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> radians = Math.toRadians(180.0);
<span style="color:blue">double</span> degrees = Math.toDegrees(Math.PI);</td></tr>
</table><p><a id="hevea_default203"></a>
<a id="hevea_default204"></a></p><p>Another useful method is <code>round</code>, which rounds a floating-point value to the nearest integer and returns a <code><span style="color:blue">long</span></code>.
A <code><span style="color:blue">long</span></code> is like an <code><span style="color:blue">int</span></code>, but bigger.
More specifically, an <code><span style="color:blue">int</span></code> uses 32 bits; the largest value it can hold is 2<sup>31</sup>&#X2212;1, which is about 2 billion.
A <code><span style="color:blue">long</span></code> uses 64 bits, so the largest value is 2<sup>63</sup>&#X2212;1, which is about 9 quintillion.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">long</span> x = Math.round(Math.PI * 20.0);</td></tr>
</table><p>The result is 63 (rounded up from 62.8319).</p><p>Take a minute to read the documentation for these and other methods in the <code>Math</code> class.
The easiest way to find documentation for Java classes is to do a web search for &#X201C;Java&#X201D; and the name of the class.</p>
<!--TOC section id="sec46" Composition revisited-->
<h2 id="sec46" class="section">4.2&#XA0;&#XA0;Composition revisited</h2><!--SEC END --><p><a id="hevea_default205"></a>
<a id="hevea_default206"></a></p><p>Just as with mathematical functions, Java methods can be <em>composed</em>.
That means you can use one expression as part of another.
For example, you can use any expression as an argument to a method:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> x = Math.cos(angle + Math.PI / 2.0);</td></tr>
</table><p>This statement divides <code>Math.PI</code> by two, adds the result to <code>angle</code>, and computes the cosine of the sum.
You can also take the result of one method and pass it as an argument to another:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> x = Math.exp(Math.log(10.0));</td></tr>
</table><p>In Java, the <code>log</code> method always uses base <span style="font-style:italic">e</span>.
So this statement finds the log base <span style="font-style:italic">e</span> of 10, and then raises <span style="font-style:italic">e</span> to that power.
The result gets assigned to <code>x</code>.</p><p>Some math methods take more than one argument.
For example, <code>Math.pow</code> takes two arguments and raises the first to the power of the second.
This line of code assigns the value <code>1024.0</code> to the variable <code>x</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> x = Math.pow(2.0, 10.0);</td></tr>
</table><p>When using <code>Math</code> methods, it is a common error to forget the <code>Math</code>.
For example, if you try to invoke <code>pow(2.0,&#XA0;10.0)</code>, you get an error message like:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">File: Test.java  [line: 5]
Error: cannot find symbol
  symbol:   method pow(double,double)
  location: class Test</td></tr>
</table><p>The message &#X201C;cannot find symbol&#X201D; is confusing, but the last line provides a useful hint.
The compiler is looking for <code>pow</code> in the same class where it is used, which is <code>Test</code>.
If you don&#X2019;t specify a class name, the compiler looks in the current class.</p>
<!--TOC section id="sec47" Adding new methods-->
<h2 id="sec47" class="section">4.3&#XA0;&#XA0;Adding new methods</h2><!--SEC END --><p>
<a id="adding_methods"></a></p><p><a id="hevea_default207"></a></p><p>You have probably guessed by now that you can define more than one method in a class.
Here&#X2019;s an example:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ NewLine.java ]]]]
public class NewLine {

    public static void newLine() {
        System.out.println();
    }

    public static void main(String[] args) {
        System.out.println("First line.");
        newLine();
        System.out.println("Second line.");
    }
}
--></p><p><a id="hevea_default208"></a>
<a id="hevea_default209"></a></p><p>The name of the class is <code>NewLine</code>.
By convention, class names begin with a capital letter.
<code>NewLine</code> contains two methods, <code>newLine</code> and <code>main</code>.
Remember that Java is case-sensitive, so <code>NewLine</code> and <code>newLine</code> are not the same.</p><p><a id="hevea_default210"></a></p><p>Method names should begin with a lowercase letter and use &#X201C;camel case&#X201D;, which is a cute name for <code>jammingWordsTogetherLikeThis</code>.
You can use any name you want for methods, except <code>main</code> or any of the Java keywords.</p><p><a id="hevea_default211"></a>
<a id="hevea_default212"></a>
<a id="hevea_default213"></a></p><p><code>newLine</code> and <code>main</code> are <code><span style="color:blue">public</span></code>, which means they can be invoked from other classes.
They are both <code><span style="color:blue">static</span></code>, but we can&#X2019;t explain what that means yet.
And they are both <code><span style="color:blue">void</span></code>, which means that they don&#X2019;t yield a result (unlike the <code>Math</code> methods, for example).</p><p><a id="hevea_default214"></a></p><p>The parentheses after the method name contain a list of variables, called <span style="font-weight:bold">parameters</span>, where the method stores its arguments.
<code>main</code> has a single parameter, called <code>args</code>, which has type <code>String[]</code>.
That means that whoever invokes <code>main</code> must provide an array of strings (we&#X2019;ll get to arrays in a later chapter).</p><p>Since <code>newLine</code> has no parameters, it requires no arguments, as shown when it is invoked in <code>main</code>.
And because <code>newLine</code> is in the same class as <code>main</code>, we don&#X2019;t have to specify the class name.</p><p>The output of this program is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">First line.

Second line.</td></tr>
</table><p>Notice the extra space between the lines.
If we wanted more space between them, we could invoke the same method repeatedly:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> main(String[] args) {
    System.out.println(<span style="color:#B20000">"First line."</span>);
    newLine();
    newLine();
    newLine();
    System.out.println(<span style="color:#B20000">"Second line."</span>);
}</td></tr>
</table><p>Or we could write a new method that displays three blank lines:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> threeLine() {
    newLine();
    newLine();
    newLine();
}

<span style="color:blue">public static void</span> main(String[] args) {
    System.out.println(<span style="color:#B20000">"First line."</span>);
    threeLine();
    System.out.println(<span style="color:#B20000">"Second line."</span>);
}</td></tr>
</table><p>You can invoke the same method more than once, and you can have one method invoke another.
In this example, <code>main</code> invokes <code>threeLine</code>, and <code>threeLine</code> invokes <code>newLine</code>.</p><p>Beginners often wonder why it is worth the trouble to create new methods.
There are many reasons, but this example demonstrates a few of them:</p><ul class="itemize"><li class="li-itemize">Creating a new method gives you an opportunity to give a name to a group of statements, which makes code easier to read and understand.
</li><li class="li-itemize">Introducing new methods can make a program smaller by eliminating repetitive code.
For example, to display nine consecutive new lines, you could invoke <code>threeLine</code> three times.</li><li class="li-itemize">A common problem solving technique is to break tasks down into sub-problems.
Methods allow you to focus on each sub-problem in isolation, and then compose them into a complete solution.</li></ul>
<!--TOC section id="sec48" Flow of execution-->
<h2 id="sec48" class="section">4.4&#XA0;&#XA0;Flow of execution</h2><!--SEC END --><p><a id="hevea_default215"></a>
<a id="hevea_default216"></a></p><p>Pulling together the code from the previous section, the complete program looks like this:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ NewLine.java ]]]]
public class NewLine {

    public static void newLine() {
        System.out.println();
    }

    public static void threeLine() {
        newLine();
        newLine();
        newLine();
    }

    public static void main(String[] args) {
        System.out.println("First line.");
        threeLine();
        System.out.println("Second line.");
    }
}
--></p><p><a id="hevea_default217"></a></p><p>When you look at a class definition that contains several methods, it is tempting to read it from top to bottom.
But that is likely to be confusing, because that is not the <span style="font-weight:bold">flow of execution</span> of the program.</p><p>Execution always begins at the first statement of <code>main</code>, regardless of where it is in the source file.
Statements are executed one at a time, in order, until you reach a method invocation, which you can think of as a detour.
Instead of going to the next statement, you jump to the first line of the invoked method, execute all the statements there, and then come back and pick up exactly where you left off.</p><p>That sounds simple enough, but remember that one method can invoke another one.
In the middle of <code>main</code>, we go off to execute the statements in <code>threeLine</code>.
While we are executing <code>threeLine</code>, we go off to execute <code>newLine</code>.
Then <code>newLine</code> invokes <code>println</code>, which causes yet another detour.</p><p>Fortunately, Java is good at keeping track of which methods are running.
So when <code>println</code> completes, it picks up where it left off in <code>newLine</code>; when <code>newLine</code> completes, it goes back to <code>threeLine</code>, and when <code>threeLine</code> completes, it gets back to <code>main</code>.</p><p>In summary, when you read a program, don&#X2019;t read from top to bottom.
Instead, follow the flow of execution.</p>
<!--TOC section id="sec49" Parameters and arguments-->
<h2 id="sec49" class="section">4.5&#XA0;&#XA0;Parameters and arguments</h2><!--SEC END --><p><a id="hevea_default218"></a>
<a id="hevea_default219"></a></p><p>Some of the methods we have used require arguments, which are the values you provide when you invoke the method.
For example, to find the sine of a number, you have to provide the number, so <code>sin</code> takes a <code><span style="color:blue">double</span></code> as an argument.
To display a message, you have to provide the message, so <code>println</code> takes a <code>String</code>.</p><p>When you use a method, you provide the arguments.
When you write a method, you name the parameters.
The parameter list indicates what arguments are required.
The following class shows an example:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ PrintTwice.java ]]]]
public class PrintTwice {

    public static void printTwice(String s) {
        System.out.println(s);
        System.out.println(s);
    }

    public static void main(String[] args) {
        printTwice("Don't make me say this twice!");
    }
}
--></p><p><code>printTwice</code> has a parameter named <code>s</code> with type <code>String</code>.
When we invoke <code>printTwice</code>, we have to provide an argument with type <code>String</code>.</p><p>Before the method executes, the argument gets assigned to the parameter.
In this example, the argument <span style="color:#B20000"><code>"Don't&#XA0;make&#XA0;me&#XA0;say&#XA0;this&#XA0;twice!"</code></span> gets assigned to the parameter <code>s</code>.</p><p><a id="hevea_default220"></a></p><p>This process is called <span style="font-weight:bold">parameter passing</span> because the value gets passed from outside the method to the inside.
An argument can be any kind of expression, so if you have a <code>String</code> variable, you can use it as an argument:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String argument = <span style="color:#B20000">"Never say never."</span>;
printTwice(argument);</td></tr>
</table><p>The value you provide as an argument must have the same type as the parameter.
For example, if you try:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">printTwice(17);  <span style="color:#007C00">// syntax error</span></td></tr>
</table><p>You will get an error message like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">File: Test.java  [line: 10]
Error: method printTwice in class Test cannot be applied
       to given types;
  required: java.lang.String
  found: int
  reason: actual argument int cannot be converted to
          java.lang.String by method invocation conversion</td></tr>
</table><p>Sometimes Java can convert an argument from one type to another automatically.
For example, <code>Math.sqrt</code> requires a <code><span style="color:blue">double</span></code>, but if you invoke <code>Math.sqrt(25)</code>, the integer value <code>25</code> is automatically converted to the floating-point value <code>25.0</code>.
But in the case of <code>printTwice</code>, Java can&#X2019;t (or won&#X2019;t) convert the integer <code>17</code> to a <code>String</code>.</p><p>Parameters and other variables only exist inside their own methods.
Inside <code>main</code>, there is no such thing as <code>s</code>.
If you try to use it there, you&#X2019;ll get a compiler error.
Similarly, inside <code>printTwice</code> there is no such thing as <code>argument</code>.
That variable belongs to <code>main</code>.</p><p><a id="hevea_default221"></a>
<a id="hevea_default222"></a></p><p>Because variables only exist inside the methods where they are defined, they are often called <span style="font-weight:bold">local variables</span>.</p>
<!--TOC section id="sec50" Multiple parameters-->
<h2 id="sec50" class="section">4.6&#XA0;&#XA0;Multiple parameters</h2><!--SEC END --><p>
<a id="time"></a></p><p><a id="hevea_default223"></a>
<a id="hevea_default224"></a></p><p>Here is an example of a method that takes two parameters:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printTime(<span style="color:blue">int</span> hour, <span style="color:blue">int</span> minute) {
    System.out.print(hour);
    System.out.print(<span style="color:#B20000">":"</span>);
    System.out.println(minute);
}</td></tr>
</table><p>In the parameter list, it may be tempting to write:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printTime(<span style="color:blue">int</span> hour, minute) {
    ...</td></tr>
</table><p>But that format (without the second <code><span style="color:blue">int</span></code>) is only legal for variable declarations.
In parameter lists, you need to specify the type of each variable separately.</p><p>To invoke this method, we have to provide two integers as arguments:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> hour = 11;
<span style="color:blue">int</span> minute = 59;
printTime(hour, minute);</td></tr>
</table><p>A common error is to declare the types of the arguments, like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> hour = 11;
<span style="color:blue">int</span> minute = 59;
printTime(<span style="color:blue">int</span> hour, <span style="color:blue">int</span> minute);  <span style="color:#007C00">// syntax error</span></td></tr>
</table><p>That&#X2019;s a syntax error; the compiler sees <code><span style="color:blue">int</span>&#XA0;hour</code> and <code><span style="color:blue">int</span>&#XA0;minute</code> as variable declarations, not expressions.
You wouldn&#X2019;t declare the types of the arguments if they were simply integers:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">printTime(<span style="color:blue">int</span> 11, <span style="color:blue">int</span> 59);  <span style="color:#007C00">// syntax error</span></td></tr>
</table>
<!--TOC section id="sec51" Stack diagrams-->
<h2 id="sec51" class="section">4.7&#XA0;&#XA0;Stack diagrams</h2><!--SEC END --><p>
<a id="stack"></a></p><p>Pulling together the code fragments from the previous section, here is a complete class definition:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ PrintTime.java ]]]]
public class PrintTime {

    public static void printTime(int hour, int minute) {
        System.out.print(hour);
        System.out.print(":");
        System.out.println(minute);
    }

    public static void main(String[] args) {
        int hour = 11;
        int minute = 59;
        printTime(hour, minute);
    }
}
--></p><p><code>printTime</code> has two parameters, named <code>hour</code> and <code>minute</code>.
And <code>main</code> has two variables, also named <code>hour</code> and <code>minute</code>.
Although they have the same names, these variables are not the same.
<code>hour</code> in <code>printTime</code> and <code>hour</code> in <code>main</code> refer to different storage locations, and they can have different values.</p><p>For example, you could invoke <code>printTime</code> like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> hour = 11;
<span style="color:blue">int</span> minute = 59;
printTime(hour + 1, 0);</td></tr>
</table><p>Before the method is invoked, Java evaluates the arguments; in this example, the results are <code>12</code> and <code>0</code>.
Then it assigns those values to the parameters.
Inside <code>printTime</code>, the value of <code>hour</code> is <code>12</code>, not <code>11</code>, and the value of <code>minute</code> is <code>0</code>, not <code>59</code>.
Furthermore, if <code>printTime</code> modifies one of its parameters, that change has no effect on the variables in <code>main</code>.</p><p><a id="hevea_default225"></a>
<a id="hevea_default226"></a>
<a id="hevea_default227"></a></p><p>One way to keep track of everything is to draw a <span style="font-weight:bold">stack diagram</span>, which is a state diagram (see Section&#XA0;<a href="#state">2.3</a>) that shows method invocations.
For each method there is a box called a <span style="font-weight:bold">frame</span> that contains the method&#X2019;s parameters and variables.
The name of the method appears outside the frame; the variables and parameters appear inside.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6008.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 4.1: Stack diagram for <code>PrintTime</code>.</td></tr>
</table></div>
<a id="fig.stack"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>As with state diagrams, stack diagrams show variables and methods at a particular point in time.
Figure&#XA0;<a href="#fig.stack">4.1</a> is a stack diagram at the beginning of the <code>printTime</code> method.</p>
<!--TOC section id="sec52" Reading documentation-->
<h2 id="sec52" class="section">4.8&#XA0;&#XA0;Reading documentation</h2><!--SEC END --><p>
<a id="sec:apidocs"></a></p><p><a id="hevea_default228"></a></p><p>One of the nice things about Java is that it comes with an extensive library of classes and methods.
But before you use them, you might have to read the documentation.
And sometimes that&#X2019;s not easy.</p><p>As an example, let&#X2019;s look at the documentation for <code>Scanner</code>, which we used in Section&#XA0;<a href="#scanner">3.2</a>.
You can find it by doing a web search for &#X201C;Java Scanner&#X201D;.
Figure&#XA0;<a href="#fig.scanner">4.2</a> shows a screenshot of the page.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6009.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 4.2: Screenshot of the documentation for <code>Scanner</code>.</td></tr>
</table></div>
<a id="fig.scanner"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>Documentation for other classes uses a similar format.
The first line is the package that contains the class, such as <code>java.util</code>.
The second line is the name of the class.
The &#X201C;Implemented Interfaces&#X201D; section lists some of the things a <code>Scanner</code> can do; we won&#X2019;t say more about that for now.</p><p>The next section of the documentation is a narrative that explains the purpose of the class and includes examples of how to use it.
This text can be difficult to read because it uses terms we have not learned yet.
But the examples are often very useful.
A good way to get started with a new class is to paste the examples into a test file and see if you can compile and run them.</p><p>One of the examples shows how you can use a <code>Scanner</code> to read input from a <code>String</code> instead of <code>System.in</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String input = <span style="color:#B20000">"1 fish 2 fish red fish blue fish"</span>;
Scanner s = <span style="color:blue">new</span> Scanner(input);</td></tr>
</table><p>After the narrative, code examples, and some other details, you will find the following tables:</p><dl class="description"><dt class="dt-description"><span style="font-weight:bold">Constructor summary:</span></dt><dd class="dd-description">
Ways of creating, or &#X201C;constructing&#X201D;, a <code>Scanner</code>.</dd><dt class="dt-description"><span style="font-weight:bold">Method summary:</span></dt><dd class="dd-description">
The list of methods that <code>Scanner</code> provides.</dd><dt class="dt-description"><span style="font-weight:bold">Constructor detail:</span></dt><dd class="dd-description">
More information about how to create a <code>Scanner</code>.</dd><dt class="dt-description"><span style="font-weight:bold">Method detail:</span></dt><dd class="dd-description">
More information about each method.</dd></dl><p>As an example, here is the summary information for <code>nextInt</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">public int nextInt()
Scans the next token of the input as an int.</td></tr>
</table><p><a id="hevea_default229"></a></p><p>The first line is the method&#X2019;s <span style="font-weight:bold">signature</span>, which specifies the name of the method, its parameters (none), and what type it returns (<code><span style="color:blue">int</span></code>).
The next line is a short description of what it does.</p><p>The &#X201C;Method detail&#X201D; explains more:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">public int nextInt()
Scans the next token of the input as an int.

An invocation of this method of the form nextInt() behaves in
exactly the same way as the invocation nextInt(radix), where
radix is the default radix of this scanner.

Returns:
the int scanned from the input

Throws:
InputMismatchException - if the next token does not match
    the Integer regular expression, or is out of range
NoSuchElementException - if input is exhausted
IllegalStateException - if this scanner is closed</td></tr>
</table><p>The &#X201C;Returns&#X201D; section describes the result when the method succeeds.
In contrast, the &#X201C;Throws&#X201D; section describes possible errors and their resulting exceptions.
Exceptions are said to be &#X201C;thrown&#X201D;, like a referee throwing a flag, or like a toddler throwing a fit.</p><p>It might take you some time to get comfortable reading documentation and learning which parts to ignore.
But it&#X2019;s worth the effort.
Knowing what&#X2019;s available in the library helps you avoid reinventing the wheel.
And a little bit of documentation can save you a lot of debugging.</p>
<!--TOC section id="sec53" Writing documentation-->
<h2 id="sec53" class="section">4.9&#XA0;&#XA0;Writing documentation</h2><!--SEC END --><p>
<a id="sec:javadoc"></a></p><p>As you benefit from reading good documentation, you should &#X201C;pay it forward&#X201D; by writing good documentation.
A nice feature of the Java language is the ability to embed documentation in your source code.
That way, you can write it as you go, and as things change, it is easier to keep the documentation consistent with the code.</p><p><a id="hevea_default230"></a>
<a id="hevea_default231"></a></p><p>If you include documentation in your source code, you can extract it automatically, and generate well-formatted HTML, using a tool called <span style="font-weight:bold">Javadoc</span>.
This tool is included in standard Java development environments, and it is widely used.
In fact, the online documentation of the Java libraries is generated by Javadoc.</p><p><a id="hevea_default232"></a>
<a id="hevea_default233"></a></p><p>Javadoc scans your source files looking for specially-formatted <span style="font-weight:bold">documentation comments</span>, also known as &#X201C;Javadoc comments&#X201D;.
They begin with <span style="color:#007C00"><code>/**</code></span> (two stars) and end with <code>*/</code> (one star).
Anything in between is considered part of the documentation.</p><p>Here&#X2019;s a class definition with two Javadoc comments, one for the class and one for the <code>main</code> method:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Goodbye.java ]]]]
/**
 * Example program that demonstrates print vs println.
 */
public class Goodbye {

    /**
     * Prints a greeting.
     */
    public static void main(String[] args) {
        System.out.print("Goodbye, ");  // note the space
        System.out.println("cruel world");
    }
}
--></p><p>The class comment explains the purpose of the class.
The method comment explains what the method does.</p><p>Notice that this example also includes an inline comment, beginning with <span style="color:#007C00"><code>//</code></span>.
In general, inline comments are short phrases that help explain complex parts of a program.
They are intended for other programmers reading and maintaining the source code.</p><p>In contrast, Javadoc comments are longer, usually complete sentences.
They explain what each method does, but they omit details about how the method works.
And they are intended for people who will use the methods without looking at the source code.</p><p>Appropriate comments and documentation are essential for making source code readable.
And remember that the person most likely to read your code in the future, and appreciate good documentation, is you.</p>
<!--TOC section id="sec54" Vocabulary-->
<h2 id="sec54" class="section">4.10&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">argument:</span></dt><dd class="dd-description"><a id="hevea_default234"></a>
A value that you provide when you invoke a method.
This value must have the same type as the corresponding parameter.</dd><dt class="dt-description"><span style="font-weight:bold">invoke:</span></dt><dd class="dd-description"><a id="hevea_default235"></a>
To cause a method to execute.
Also known as &#X201C;calling&#X201D; a method.</dd><dt class="dt-description"><span style="font-weight:bold">parameter:</span></dt><dd class="dd-description"><a id="hevea_default236"></a>
A piece of information that a method requires before it can run.
Parameters are variables: they contain values and have types.</dd><dt class="dt-description"><span style="font-weight:bold">flow of execution:</span></dt><dd class="dd-description"><a id="hevea_default237"></a>
The order in which Java executes methods and statements.
It may not necessarily be from top to bottom, left to right.</dd><dt class="dt-description"><span style="font-weight:bold">parameter passing:</span></dt><dd class="dd-description"><a id="hevea_default238"></a>
The process of assigning an argument value to a parameter variable.</dd><dt class="dt-description"><span style="font-weight:bold">local variable:</span></dt><dd class="dd-description"><a id="hevea_default239"></a>
A variable declared inside a method.
Local variables cannot be accessed from outside their method.</dd><dt class="dt-description"><span style="font-weight:bold">stack diagram:</span></dt><dd class="dd-description"><a id="hevea_default240"></a>
A graphical representation of the variables belonging to each method.
The method calls are &#X201C;stacked&#X201D; from top to bottom, in the flow of execution.</dd><dt class="dt-description"><span style="font-weight:bold">frame:</span></dt><dd class="dd-description"><a id="hevea_default241"></a>
In a stack diagram, a representation of the variables and parameters for a method, along with their current values.</dd><dt class="dt-description"><span style="font-weight:bold">signature:</span></dt><dd class="dd-description"><a id="hevea_default242"></a>
The first line of a method that defines its name, return type, and parameters.</dd><dt class="dt-description"><span style="font-weight:bold">Javadoc:</span></dt><dd class="dd-description"><a id="hevea_default243"></a>
A tool that reads Java source code and generates documentation in HTML format.</dd><dt class="dt-description"><span style="font-weight:bold">documentation:</span></dt><dd class="dd-description"><a id="hevea_default244"></a>
Comments that describe the technical operation of a class or method.</dd></dl>
<!--TOC section id="sec55" Exercises-->
<h2 id="sec55" class="section">4.11&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch04</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><p>If you have not already read Appendix&#XA0;<a href="#cltesting">A.4</a>, now might be a good time.
It describes an efficient way to test programs that take input from the user and display specific output.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>The point of this exercise is to practice reading code and to make sure that you understand the flow of execution through a program with multiple methods.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>What is the output of the following program?
Be precise about where there are spaces and where there are newlines.</em><p>Hint:<em> Start by describing in words what <code>ping</code> and <code>baffle</code> do when they are invoked.</em></p></li><li class="li-enumerate"><em>Draw a stack diagram that shows the state of the program the first time <code>ping</code> is invoked.</em></li><li class="li-enumerate"><em>What happens if you invoke <code>baffle();</code> at the end of the <code>ping</code> method? (We will see why in the next chapter.)</em></li></ol><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> zoop() {
    baffle();
    System.out.print(<span style="color:#B20000">"You wugga "</span>);
    baffle();
}

<span style="color:blue">public static void</span> main(String[] args) {
    System.out.print(<span style="color:#B20000">"No, I "</span>);
    zoop();
    System.out.print(<span style="color:#B20000">"I "</span>);
    baffle();
}

<span style="color:blue">public static void</span> baffle() {
    System.out.print(<span style="color:#B20000">"wug"</span>);
    ping();
}

<span style="color:blue">public static void</span> ping() {
    System.out.println(<span style="color:#B20000">"."</span>);
}</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<p><em>The point of this exercise is to make sure you understand how to write and invoke methods that take parameters.</em></p><ol class="enumerate" type=1><li class="li-enumerate">
<em>Write the first line of a method named <code>zool</code> that takes three parameters: an <span style="color:blue"><code>int</code></span> and two <code>String</code>s.</em></li><li class="li-enumerate"><em>Write a line of code that calls <code>zool</code>, passing as arguments the value <code>11</code>, the name of your first pet, and the name of the street you grew up on.
</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<p><em>The purpose of this exercise is to take code from a previous exercise and encapsulate it in a method that takes parameters.
You should start with a working solution to Exercise&#XA0;</em><a href="#ex%3Adate"><em>2</em></a><em>.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a method called <code>printAmerican</code> that takes the day, date, month and year as parameters and that displays them in American format.</em></li><li class="li-enumerate"><em>Test your method by invoking it from <code>main</code> and passing appropriate arguments.
The output should look something like this (except that the date might be different):</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>Saturday, July 22, 2015</em></td></tr>
</table></li><li class="li-enumerate"><em>Once you have debugged <code>printAmerican</code>, write another method called <code>printEuropean</code> that displays the date in European format.</em></li></ol></div>
<!--TOC chapter id="sec56" Conditionals and logic-->
<h1 id="sec56" class="chapter">Chapter&#XA0;5&#XA0;&#XA0;Conditionals and logic</h1><!--SEC END --><p><a id="hevea_default245"></a>
<a id="hevea_default246"></a></p><p>The programs we&#X2019;ve seen in previous chapters do pretty much the same thing every time, regardless of the input.
For more complex computations, programs usually react to the inputs, check for certain conditions, and generate appropriate results.
This chapter presents the features you need for programs to make decisions: a new data type called <code><span style="color:blue">boolean</span></code>, operators for expressing logic, and <code><span style="color:blue">if</span></code> statements.</p>
<!--TOC section id="sec57" Relational operators-->
<h2 id="sec57" class="section">5.1&#XA0;&#XA0;Relational operators</h2><!--SEC END --><p><a id="hevea_default247"></a>
<a id="hevea_default248"></a>
<a id="hevea_default249"></a></p><p><span style="font-weight:bold">Relational operators</span> are used to check conditions like whether two values are equal, or whether one is greater than the other.
The following expressions show how they are used:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">x == y          <span style="color:#007C00">// x is equal to y</span>
x != y          <span style="color:#007C00">// x is not equal to y</span>
x &gt; y           <span style="color:#007C00">// x is greater than y</span>
x &lt; y           <span style="color:#007C00">// x is less than y</span>
x &gt;= y          <span style="color:#007C00">// x is greater than or equal to y</span>
x &lt;= y          <span style="color:#007C00">// x is less than or equal to y</span></td></tr>
</table><p>The result of a relational operator is one of two special values, <code><span style="color:blue">true</span></code> or <code><span style="color:blue">false</span></code>.
These values belong to the data type <code><span style="color:blue">boolean</span></code>; in fact, they are the only boolean values.</p><p><a id="hevea_default250"></a>
<a id="hevea_default251"></a></p><p>You are probably familiar with these operations, but notice that the Java operators are different from the mathematical symbols like =, &#X2260;, and &#X2264;.
A common error is to use a single <code>=</code> instead of a double <code>==</code>.
Remember that <code>=</code> is the assignment operator, and <code>==</code> is a comparison operator.
Also, there is no such thing as the <code>=&lt;</code> or <code>=&gt;</code> operators.</p><p>The two sides of a relational operator have to be compatible.
For example, the expression <code>5&#XA0;&lt;&#XA0;<span style="color:#B20000">"6"</span></code> is invalid because <code>5</code> is an <code><span style="color:blue">int</span></code> and <span style="color:#B20000"><code>"6"</code></span> is a <code>String</code>.
When comparing values of different numeric types, Java applies the same conversion rules we saw previously with the assignment operator.
For example, when evaluating the expression <code>5&#XA0;&lt;&#XA0;6.0</code>, Java automatically converts the <code>5</code> to <code>5.0</code>.</p><p>Most relational operators don&#X2019;t work with strings.
But confusingly, <code>==</code> and <code>!=</code> do work with strings &#X2013; they just don&#X2019;t do what you expect.
We&#X2019;ll explain what they do later; in the meantime, don&#X2019;t use them with strings.
Instead, you should use the <code>equals</code> method:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String fruit1 = <span style="color:#B20000">"Apple"</span>;
String fruit2 = <span style="color:#B20000">"Orange"</span>;
System.out.println(fruit1.equals(fruit2));</td></tr>
</table><p>The result of <code>fruit1.equals(fruit2)</code> is the boolean value <code><span style="color:blue">false</span></code>.</p>
<!--TOC section id="sec58" Logical operators-->
<h2 id="sec58" class="section">5.2&#XA0;&#XA0;Logical operators</h2><!--SEC END --><p><a id="hevea_default252"></a>
<a id="hevea_default253"></a></p><p>Java has three <span style="font-weight:bold">logical operators</span>: <code>&amp;&amp;</code>, <code>||</code>, and <code>!</code>, which respectively stand for <em>and</em>, <em>or</em>, and <em>not</em>.
The results of these operators are similar to their meanings in English.</p><p>For example, <code>x&#XA0;&gt;&#XA0;0&#XA0;&amp;&amp;&#XA0;x&#XA0;&lt;&#XA0;10</code> is true when <code>x</code> is both greater than zero <em>and</em> less than 10.
The expression <code>evenFlag&#XA0;||&#XA0;n&#XA0;\%&#XA0;3&#XA0;==&#XA0;0</code> is true if either condition is true, that is, if <code>evenFlag</code> is true <em>or</em> the number <code>n</code> is divisible by 3.
Finally, the <code>!</code> operator inverts a boolean expression.
So <code>!evenFlag</code> is true if <code>evenFlag</code> is <em>not</em> true.</p><p><a id="hevea_default254"></a></p><p>Logical operators evaluate the second expression only when necessary.
For example, <code><span style="color:blue">true</span>&#XA0;||&#XA0;anything</code> is always true, so Java does not need to evaluate the expression <code>anything</code>.
Likewise, <code><span style="color:blue">false</span>&#XA0;&amp;&amp;&#XA0;anything</code> is always false.
Ignoring the second operand, when possible, is called <span style="font-weight:bold">short circuit</span> evaluation, by analogy with an electrical circuit.
Short circuit evaluation can save time, especially if <code>anything</code> takes a long time to evaluate.
It can also avoid unnecessary errors, if <code>anything</code> might fail.</p><p><a id="hevea_default255"></a></p><p>If you ever have to negate an expression that contains logical operators, and you probably will, <span style="font-weight:bold">De Morgan&#X2019;s laws</span> can help:</p><ul class="itemize"><li class="li-itemize">
<code>!(A&#XA0;&amp;&amp;&#XA0;B)</code> &#XA0;is the same as&#XA0; <code>!A&#XA0;||&#XA0;!B</code>
</li><li class="li-itemize"><code>!(A&#XA0;||&#XA0;B)</code> &#XA0;is the same as&#XA0; <code>!A&#XA0;&amp;&amp;&#XA0;!B</code>
</li></ul><p>Negating a logical expression is the same as negating each term and changing the operator.
The <code>!</code> operator takes precedence over <code>&amp;&amp;</code> and <code>||</code>, so you don&#X2019;t have to put parentheses around the individual terms <code>!A</code> and <code>!B</code>.</p><p>De Morgan&#X2019;s laws also apply to the relational operators.
In this case, negating each term means using the &#X201C;opposite&#X201D; relational operator.</p><ul class="itemize"><li class="li-itemize">
<code>!(x&#XA0;&lt;&#XA0;5&#XA0;&amp;&amp;&#XA0;y&#XA0;==&#XA0;3)</code> &#XA0;is the same as&#XA0; <code>x&#XA0;&gt;=&#XA0;5&#XA0;||&#XA0;y&#XA0;!=&#XA0;3</code>
</li><li class="li-itemize"><code>!(x&#XA0;&gt;=&#XA0;1&#XA0;||&#XA0;y&#XA0;!=&#XA0;7)</code> &#XA0;is the same as&#XA0; <code>x&#XA0;&lt;&#XA0;1&#XA0;&amp;&amp;&#XA0;y&#XA0;==&#XA0;7</code>
</li></ul><p>It may help to read these examples out loud in English.
For instance, &#X201C;If I don&#X2019;t want x to be less than 5, and I don&#X2019;t want y to be 3, then I need x to be greater than or equal to 5, or I need y to be anything but 3.&#X201D;</p>
<!--TOC section id="sec59" Conditional statements-->
<h2 id="sec59" class="section">5.3&#XA0;&#XA0;Conditional statements</h2><!--SEC END --><p><a id="hevea_default256"></a>
<a id="hevea_default257"></a>
<a id="hevea_default258"></a>
<a id="hevea_default259"></a></p><p>To write useful programs, we almost always need to check conditions and react accordingly.
<span style="font-weight:bold">Conditional statements</span> give us this ability.
The simplest conditional statement in Java is the <code><span style="color:blue">if</span></code> statement:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (x &gt; 0) {
    System.out.println(<span style="color:#B20000">"x is positive"</span>);
}</td></tr>
</table><p>The expression in parentheses is called the condition.
If it is true, the statements in braces get executed.
If the condition is false, execution skips over that block of code.
The condition in parentheses can be any boolean expression.</p><p><a id="hevea_default260"></a>
<a id="hevea_default261"></a></p><p>A second form of conditional statement has two possibilities, indicated by <code><span style="color:blue">if</span></code> and <code><span style="color:blue">else</span></code>.
The possibilities are called <span style="font-weight:bold">branches</span>, and the condition determines which one gets executed:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (x % 2 == 0) {
    System.out.println(<span style="color:#B20000">"x is even"</span>);
} <span style="color:blue">else</span> {
    System.out.println(<span style="color:#B20000">"x is odd"</span>);
}</td></tr>
</table><p>If the remainder when <code>x</code> is divided by 2 is zero, we know that <code>x</code> is even, and this fragment displays a message to that effect.
If the condition is false, the second print statement is executed instead.
Since the condition must be true or false, exactly one of the branches will run.</p><p>The braces are optional for branches that have only one statement.
So we could have written the previous example this way:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (x % 2 == 0)
    System.out.println(<span style="color:#B20000">"x is even"</span>);
<span style="color:blue">else</span>
    System.out.println(<span style="color:#B20000">"x is odd"</span>);</td></tr>
</table><p>However, it&#X2019;s better to use braces &#X2013; even when they are optional &#X2013; to avoid making the mistake of adding statements to an <code><span style="color:blue">if</span></code> or <code><span style="color:blue">else</span></code> block and forgetting to add the braces.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (x &gt; 0)
    System.out.println(<span style="color:#B20000">"x is positive"</span>);
    System.out.println(<span style="color:#B20000">"x is not zero"</span>);</td></tr>
</table><p>This code is misleading because it&#X2019;s not indented correctly.
Since there are no braces, only the first <code>println</code> is part of the <code><span style="color:blue">if</span></code> statement.
Here is what the compiler actually sees:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (x &gt; 0) {
    System.out.println(<span style="color:#B20000">"x is positive"</span>);
}
    System.out.println(<span style="color:#B20000">"x is not zero"</span>);</td></tr>
</table><p>As a result, the second <code>println</code> runs no matter what.
Even experienced programmers make this mistake; search the web for Apple&#X2019;s &#X201C;goto fail&#X201D; bug.</p>
<!--TOC section id="sec60" Chaining and nesting-->
<h2 id="sec60" class="section">5.4&#XA0;&#XA0;Chaining and nesting</h2><!--SEC END --><p><a id="hevea_default262"></a></p><p>Sometimes you want to check related conditions and choose one of several actions.
One way to do this is by <span style="font-weight:bold">chaining</span> a series of <code><span style="color:blue">if</span></code> and <code><span style="color:blue">else</span></code> statements:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (x &gt; 0) {
    System.out.println(<span style="color:#B20000">"x is positive"</span>);
} <span style="color:blue">else if</span> (x &lt; 0) {
    System.out.println(<span style="color:#B20000">"x is negative"</span>);
} <span style="color:blue">else</span> {
    System.out.println(<span style="color:#B20000">"x is zero"</span>);
}</td></tr>
</table><p>These chains can be as long as you want, although they can be difficult to read if they get out of hand.
One way to make them easier to read is to use standard indentation, as demonstrated in these examples.
If you keep all the statements and braces lined up, you are less likely to make syntax errors.</p><p><a id="hevea_default263"></a></p><p>In addition to chaining, you can also make complex decisions by <span style="font-weight:bold">nesting</span> one conditional statement inside another.
We could have written the previous example as:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (x == 0) {
    System.out.println(<span style="color:#B20000">"x is zero"</span>);
} <span style="color:blue">else</span> {
    <span style="color:blue">if</span> (x &gt; 0) {
        System.out.println(<span style="color:#B20000">"x is positive"</span>);
    } <span style="color:blue">else</span> {
        System.out.println(<span style="color:#B20000">"x is negative"</span>);
    }
}</td></tr>
</table><p>The outer conditional has two branches.
The first branch contains a <code>print</code> statement, and the second branch contains another conditional statement, which has two branches of its own.
These two branches are also <code>print</code> statements, but they could have been conditional statements as well.</p><p>These kinds of nested structures are common, but they get difficult to read very quickly.
Good indentation is essential to make the structure (or intended structure) apparent to the reader.</p>
<!--TOC section id="sec61" Flag variables-->
<h2 id="sec61" class="section">5.5&#XA0;&#XA0;Flag variables</h2><!--SEC END --><p><a id="hevea_default264"></a></p><p>To store a <code><span style="color:blue">true</span></code> or <code><span style="color:blue">false</span></code> value, you need a <code><span style="color:blue">boolean</span></code> variable.
You can create one like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">boolean</span> flag;
flag = <span style="color:blue">true</span>;
<span style="color:blue">boolean</span> testResult = <span style="color:blue">false</span>;</td></tr>
</table><p><a id="hevea_default265"></a>
<a id="hevea_default266"></a></p><p>The first line is a variable declaration, the second is an assignment, and the third is both.
Since relational operators evaluate to a <code><span style="color:blue">boolean</span></code> value, you can store the result of a comparison in a variable:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">boolean</span> evenFlag = (n % 2 == 0);    <span style="color:#007C00">// true if n is even</span>
<span style="color:blue">boolean</span> positiveFlag = (x &gt; 0);     <span style="color:#007C00">// true if x is positive</span></td></tr>
</table><p><a id="hevea_default267"></a></p><p>The parentheses are unnecessary, but they make the code easier to read.
A variable defined in this way is called a <span style="font-weight:bold">flag</span>, because it signals or &#X201C;flags&#X201D; the presence or absence of a condition.</p><p>You can use flag variables as part of a conditional statement later:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (evenFlag) {
    System.out.println(<span style="color:#B20000">"n was even when I checked it"</span>);
}</td></tr>
</table><p>Notice that you don&#X2019;t have to write <code><span style="color:blue">if</span>&#XA0;(evenFlag&#XA0;==&#XA0;<span style="color:blue">true</span>)</code>.
Since <code>evenFlag</code> is a <code><span style="color:blue">boolean</span></code>, it&#X2019;s already a condition.
Likewise, to check if a flag is <code><span style="color:blue">false</span></code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (!evenFlag) {
    System.out.println(<span style="color:#B20000">"n was odd when I checked it"</span>);
}</td></tr>
</table>
<!--TOC section id="sec62" The return statement-->
<h2 id="sec62" class="section">5.6&#XA0;&#XA0;The return statement</h2><!--SEC END --><p><a id="hevea_default268"></a>
<a id="hevea_default269"></a></p><p>The <code><span style="color:blue">return</span></code> statement allows you to terminate a method before you reach the end of it.
One reason to use <code><span style="color:blue">return</span></code> is if you detect an error condition:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printLogarithm(<span style="color:blue">double</span> x) {
    <span style="color:blue">if</span> (x &lt;= 0.0) {
        System.err.println(<span style="color:#B20000">"Error: x must be positive."</span>);
        <span style="color:blue">return</span>;
    }
    <span style="color:blue">double</span> result = Math.log(x);
    System.out.println(<span style="color:#B20000">"The log of x is "</span> + result);
}</td></tr>
</table><p><a id="hevea_default270"></a></p><p>This example defines a method named <code>printLogarithm</code> that takes a <code><span style="color:blue">double</span></code> value (named <code>x</code>) as a parameter.
It checks whether <code>x</code> is less than or equal to zero, in which case it displays an error message and then uses <code><span style="color:blue">return</span></code> to exit the method.
The flow of execution immediately returns to where the method was invoked, and the remaining lines of the method are not executed.</p><p><a id="hevea_default271"></a></p><p>This example uses <code>System.err</code>, which is an <code>OutputStream</code> normally used for error messages and warnings.
Some development environments display output to <code>System.err</code> with a different color or in a separate window.</p>
<!--TOC section id="sec63" Validating input-->
<h2 id="sec63" class="section">5.7&#XA0;&#XA0;Validating input</h2><!--SEC END --><p>
<a id="validate"></a></p><p>Here is a method that uses <code>printLogarithm</code> from the previous section:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> scanDouble(Scanner in) {
    System.out.print(<span style="color:#B20000">"Enter a number: "</span>);
    <span style="color:blue">double</span> x = in.nextDouble();
    printLogarithm(x);
}</td></tr>
</table><p>This example uses <code>nextDouble</code>, so the <code>Scanner</code> (provided by the <code>main</code> method) tries to read a <code><span style="color:blue">double</span></code>.
If the user enters a floating-point number, the <code>Scanner</code> converts it to a <code><span style="color:blue">double</span></code>.
But if the user types anything else, the <code>Scanner</code> throws an <code>InputMismatchException</code>.</p><p><a id="hevea_default272"></a>
<a id="hevea_default273"></a></p><p>We can prevent this error by checking the input before parsing it:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> scanDouble(Scanner in) {
    System.out.print(<span style="color:#B20000">"Enter a number: "</span>);
    <span style="color:blue">if</span> (!in.hasNextDouble()) {
        String word = in.next();
        System.err.println(word + <span style="color:#B20000">" is not a number"</span>);
        <span style="color:blue">return</span>;
    }
    <span style="color:blue">double</span> x = in.nextDouble();
    printLogarithm(x);
}</td></tr>
</table><p>The <code>Scanner</code> class provides <code>hasNextDouble</code>, which checks whether the next token in the input stream can be interpreted as a <code><span style="color:blue">double</span></code>.
If so, we can call <code>nextDouble</code> with no chance of throwing an exception.
If not, we display an error message and return.
</p>
<!--TOC section id="sec64" Recursive methods-->
<h2 id="sec64" class="section">5.8&#XA0;&#XA0;Recursive methods</h2><!--SEC END --><p>
<a id="recursion"></a></p><p><a id="hevea_default274"></a></p><p>Now that we have conditional statements, we can explore one of the most magical things a program can do: <span style="font-weight:bold">recursion</span>.
Consider the following example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> countdown(<span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (n == 0) {
        System.out.println(<span style="color:#B20000">"Blastoff!"</span>);
    } <span style="color:blue">else</span> {
        System.out.println(n);
        countdown(n - 1);
    }
}</td></tr>
</table><p><a id="hevea_default275"></a></p><p>The name of the method is <code>countdown</code>; it takes a single integer as a parameter.
If the parameter is zero, it displays the word &#X201C;Blastoff&#X201D;.
Otherwise, it displays the number and then invokes <em>itself</em>, passing <code>n&#XA0;-&#XA0;1</code> as the argument.
A method that invokes itself is called <span style="font-weight:bold">recursive</span>.</p><p>What happens if we invoke <code>countdown(3)</code> from <code>main</code>?</p><blockquote class="quote">
The execution of <code>countdown</code> begins with <code>n&#XA0;==&#XA0;3</code>, and since <code>n</code> is not zero, it displays the value 3, and then invokes itself...
<blockquote class="quote">
The execution of <code>countdown</code> begins with <code>n&#XA0;==&#XA0;2</code>, and since <code>n</code> is not zero, it displays the value 2, and then invokes itself...
<blockquote class="quote">
The execution of <code>countdown</code> begins with <code>n&#XA0;==&#XA0;1</code>, and since <code>n</code> is not zero, it displays the value 1, and then invokes itself...
<blockquote class="quote">
The execution of <code>countdown</code> begins with <code>n&#XA0;==&#XA0;0</code>, and since <code>n</code> is zero, it displays the word &#X201C;Blastoff!&#X201D; and then returns.
</blockquote>
The <code>countdown</code> that got <code>n&#XA0;==&#XA0;1</code> returns.
</blockquote>
The <code>countdown</code> that got <code>n&#XA0;==&#XA0;2</code> returns.
</blockquote>
The <code>countdown</code> that got <code>n&#XA0;==&#XA0;3</code> returns.
</blockquote><p>And then you&#X2019;re back in <code>main</code>.
So the total output looks like:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">3
2
1
Blastoff!</td></tr>
</table><p>As a second example, we&#X2019;ll rewrite the methods <code>newLine</code> and <code>threeLine</code> from Section&#XA0;<a href="#adding_methods">4.3</a>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> newLine() {
    System.out.println();
}

<span style="color:blue">public static void</span> threeLine() {
    newLine();
    newLine();
    newLine();
}</td></tr>
</table><p><a id="hevea_default276"></a></p><p>Although these methods work, they would not help if we wanted to display two newlines, or maybe 100.
A better alternative would be:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> nLines(<span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (n &gt; 0) {
        System.out.println();
        nLines(n - 1);
    }
}</td></tr>
</table><p>This method takes an integer, <code>n</code>, as a parameter and displays <code>n</code> newlines.
The structure is similar to <code>countdown</code>.
As long as <span style="font-style:italic">n</span> is greater than zero, it displays a newline and then invokes itself to display (<span style="font-style:italic">n</span>&#X2212;1) additional newlines.
The total number of newlines is 1 + (<span style="font-style:italic">n</span> &#X2212; 1), which is just what we wanted: <span style="font-style:italic">n</span>.</p>
<!--TOC section id="sec65" Recursive stack diagrams-->
<h2 id="sec65" class="section">5.9&#XA0;&#XA0;Recursive stack diagrams</h2><!--SEC END --><p><a id="hevea_default277"></a>
<a id="hevea_default278"></a></p><p>In the previous chapter, we used a stack diagram to represent the state of a program during a method invocation.
The same kind of diagram can make it easier to interpret a recursive method.</p><p>Remember that every time a method gets called, Java creates a new frame that contains the current method&#X2019;s parameters and variables.
Figure&#XA0;<a href="#fig.stack2">5.1</a> is a stack diagram for <code>countdown</code>, called with <code>n&#XA0;==&#XA0;3</code>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6010.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 5.1: Stack diagram for the <code>countdown</code> program.</td></tr>
</table></div>
<a id="fig.stack2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>By convention, the stack for <code>main</code> is at the top and the stack grows down.
The frame for <code>main</code> is empty because <code>main</code> does not have any variables.
(It has the parameter <code>args</code>, but since we&#X2019;re not using it, we left it out of the diagram.)</p><p><a id="hevea_default279"></a></p><p>There are four frames for <code>countdown</code>, each with a different value for the parameter <code>n</code>.
The last frame, with <code>n&#XA0;==&#XA0;0</code>, is called the <span style="font-weight:bold">base case</span>.
It does not make a recursive call, so there are no more frames below it.</p><p>If there is no base case in a recursive method, or if the base case is never reached, the stack would grow forever, at least in theory.
In practice, the size of the stack is limited; if you exceed the limit, you get a <code>StackOverflowError</code>.</p><p>For example, here is a recursive method without a base case:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> forever(String s) {
    System.out.println(s);
    forever(s);
}</td></tr>
</table><p><a id="hevea_default280"></a>
<a id="hevea_default281"></a></p><p>This method displays the string until the stack overflows, at which point it throws an exception.</p>
<!--TOC section id="sec66" Binary numbers-->
<h2 id="sec66" class="section">5.10&#XA0;&#XA0;Binary numbers</h2><!--SEC END --><p>The <code>countdown</code> example has three parts: (1) it checks the base case, (2) displays something, and (3) makes a recursive call.
What do you think happens if you reverse steps 2 and 3, making the recursive call <em>before</em> displaying?</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> countup(<span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (n == 0) {
        System.out.println(<span style="color:#B20000">"Blastoff!"</span>);
    } <span style="color:blue">else</span> {
        countup(n - 1);
        System.out.println(n);
    }
}</td></tr>
</table><p>The stack diagram is the same as before, and the method is still called <span style="font-style:italic">n</span> times.
But now the <code>System.out.println</code> happens just before each recursive call returns.
As a result, it counts up instead of down:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Blastoff!
1
2
3</td></tr>
</table><p><a id="hevea_default282"></a></p><p>This behavior comes in handy when it is easier to compute results in reverse order.
For example, to convert a decimal integer into its <span style="font-weight:bold">binary</span> representation, you repeatedly divide the number by two:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">23 / 2 is 11 remainder 1
11 / 2 is  5 remainder 1
 5 / 2 is  2 remainder 1
 2 / 2 is  1 remainder 0
 1 / 2 is  0 remainder 1</td></tr>
</table><p>Reading these remainders from bottom to top, 23 in binary is 10111.
For more background about binary numbers, see <a href="http://www.mathsisfun.com/binary-number-system.html"><span style="font-family:monospace">http://www.mathsisfun.com/binary-number-system.html</span></a>.</p><p>Here is a recursive method that displays the binary representation of any positive integer:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> displayBinary(<span style="color:blue">int</span> value) {
    <span style="color:blue">if</span> (value &gt; 0) {
        displayBinary(value / 2);
        System.out.print(value % 2);
    }
}</td></tr>
</table><p>If <code>value</code> is zero, <code>displayBinary</code> does nothing (that&#X2019;s the base case).
If the argument is positive, the method divides it by two and calls <code>displayBinary</code> recursively.
When the recursive call returns, the method displays one digit of the result and returns (again).</p><p>The leftmost digit is at the bottom of the stack, so it gets displayed first.
The rightmost digit, at the top of the stack, gets displayed last.
After invoking <code>displayBinary</code>, we use <code>println</code> to complete the output.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">displayBinary(23);
System.out.println();
<span style="color:#007C00">// output is 10111</span></td></tr>
</table><p>Learning to think recursively is an important aspect of learning to think like a computer scientist.
Many algorithms can be written concisely with recursive methods that perform computations on the way down, on the way up, or both.</p>
<!--TOC section id="sec67" Vocabulary-->
<h2 id="sec67" class="section">5.11&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">boolean:</span></dt><dd class="dd-description"><a id="hevea_default283"></a>
A data type with only two values, <code><span style="color:blue">true</span></code> and <code><span style="color:blue">false</span></code>.<p><a id="hevea_default284"></a>
</p></dd><dt class="dt-description"><span style="font-weight:bold">relational operator:</span></dt><dd class="dd-description"><a id="hevea_default285"></a>
An operator that compares two values and produces a <code><span style="color:blue">boolean</span></code> indicating the relationship between them.<p><a id="hevea_default286"></a>
</p></dd><dt class="dt-description"><span style="font-weight:bold">logical operator:</span></dt><dd class="dd-description"><a id="hevea_default287"></a>
An operator that combines boolean values and produces a boolean value.</dd><dt class="dt-description"><span style="font-weight:bold">short circuit:</span></dt><dd class="dd-description"><a id="hevea_default288"></a>
A way of evaluating logical operators that only evaluates the second operand if necessary.</dd><dt class="dt-description"><span style="font-weight:bold">De Morgan&#X2019;s laws:</span></dt><dd class="dd-description"><a id="hevea_default289"></a>
Mathematical rules that show how to negate a logical expression.</dd><dt class="dt-description"><span style="font-weight:bold">conditional statement:</span></dt><dd class="dd-description"><a id="hevea_default290"></a>
A statement that uses a condition to determine which statements to execute.</dd><dt class="dt-description"><span style="font-weight:bold">branch:</span></dt><dd class="dd-description"><a id="hevea_default291"></a>
One of the alternative sets of statements inside a conditional statement.</dd><dt class="dt-description"><span style="font-weight:bold">chaining:</span></dt><dd class="dd-description"><a id="hevea_default292"></a>
A way of joining several conditional statements in sequence.</dd><dt class="dt-description"><span style="font-weight:bold">nesting:</span></dt><dd class="dd-description"><a id="hevea_default293"></a>
Putting a conditional statement inside one or both branches of another conditional statement.</dd><dt class="dt-description"><span style="font-weight:bold">flag:</span></dt><dd class="dd-description"><a id="hevea_default294"></a>
A variable (usually <code><span style="color:blue">boolean</span></code>) that represents a condition or status.</dd><dt class="dt-description"><span style="font-weight:bold">recursion:</span></dt><dd class="dd-description"><a id="hevea_default295"></a>
The process of invoking (and restarting) the same method that is currently executing.</dd><dt class="dt-description"><span style="font-weight:bold">recursive:</span></dt><dd class="dd-description"><a id="hevea_default296"></a>
A method that invokes itself, usually with different arguments.</dd><dt class="dt-description"><span style="font-weight:bold">base case:</span></dt><dd class="dd-description"><a id="hevea_default297"></a>
A condition that causes a recursive method <em>not</em> to make another recursive call.</dd><dt class="dt-description"><span style="font-weight:bold">binary:</span></dt><dd class="dd-description"><a id="hevea_default298"></a>
A system that uses only zeros and ones to represent numbers.
Also known as &#X201C;base 2&#X201D;.</dd></dl>
<!--TOC section id="sec68" Exercises-->
<h2 id="sec68" class="section">5.12&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch05</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><p>If you have not already read Appendix&#XA0;<a href="#debugger">A.6</a>, now might be a good time.
It describes the DrJava debugger, which is a useful tool for tracing the flow of execution.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>Logical operators can simplify nested conditional statements.
For example, can you rewrite this code using a single <span style="color:blue"><code>if</code></span> statement?</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">if</span> (x &gt; 0) {
    <span style="color:blue">if</span> (x &lt; 10) {
        System.out.println(<span style="color:#B20000">"positive single digit number."</span>);
    }
}</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
For the following program:</em><ol class="enumerate" type=1><li class="li-enumerate"><em>Draw a stack diagram that shows the state of the program the </em>second<em> time <code>ping</code> is invoked.</em></li><li class="li-enumerate"><em>What is the complete output?</em></li></ol><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> zoop(String fred, <span style="color:blue">int</span> bob) {
    System.out.println(fred);
    <span style="color:blue">if</span> (bob == 5) {
        ping(<span style="color:#B20000">"not "</span>);
    } <span style="color:blue">else</span> {
        System.out.println(<span style="color:#B20000">"!"</span>);
    }
}

<span style="color:blue">public static void</span> main(String[] args) {
    <span style="color:blue">int</span> bizz = 5;
    <span style="color:blue">int</span> buzz = 2;
    zoop(<span style="color:#B20000">"just for"</span>, bizz);
    clink(2 * buzz);
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> clink(<span style="color:blue">int</span> fork) {
    System.out.print(<span style="color:#B20000">"It's "</span>);
    zoop(<span style="color:#B20000">"breakfast "</span>, fork);
}

<span style="color:blue">public static void</span> ping(String strangStrung) {
    System.out.println(<span style="color:#B20000">"any "</span> + strangStrung + <span style="color:#B20000">"more "</span>);
}</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<p><em>Draw a stack diagram that shows the state of the program in Section&#XA0;</em><a href="#recursion"><em>5.8</em></a><em> after <code>main</code> invokes <code>nLines</code> with the parameter <code>n&#XA0;==&#XA0;4</code>, just before the last invocation of <code>nLines</code> returns.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;<p><em>Fermat&#X2019;s Last Theorem says that there are no integers </em><span style="font-style:italic">a</span><em>, </em><span style="font-style:italic">b</span><em>, and </em><span style="font-style:italic">c</span><em> such that </em><span style="font-style:italic">a</span><sup><span style="font-style:italic">n</span></sup> + <span style="font-style:italic">b</span><sup><span style="font-style:italic">n</span></sup> = <span style="font-style:italic">c</span><sup><span style="font-style:italic">n</span></sup><em>, except when </em><span style="font-style:italic">n</span> &#X2264; 2<em>.</em></p><p><em>Write a method named <code>checkFermat</code> that takes four integers as parameters &#X2013; <code>a</code>, <code>b</code>, <code>c</code> and <code>n</code> &#X2013; and checks to see if Fermat&#X2019;s theorem holds.
If </em><span style="font-style:italic">n</span><em> is greater than 2 and </em><span style="font-style:italic">a</span><sup><span style="font-style:italic">n</span></sup> + <span style="font-style:italic">b</span><sup><span style="font-style:italic">n</span></sup> = <span style="font-style:italic">c</span><sup><span style="font-style:italic">n</span></sup><em>, the program should display &#X201C;Holy smokes, Fermat was wrong!&#X201D;
Otherwise the program should display &#X201C;No, that doesn&#X2019;t work.&#X201D;</em></p><p>Hint:<em> You may want to use <code>Math.pow</code>.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;5</span>&#XA0;&#XA0;<p><em>The purpose of this exercise is to take a problem and break it into smaller problems, and to solve the smaller problems by writing simple methods.
Consider the first verse of the song &#X201C;99 Bottles of Beer&#X201D;:</em></p><blockquote class="quote"><em>
99 bottles of beer on the wall,<br>
99 bottles of beer,<br>
ya&#X2019; take one down, ya&#X2019; pass it around,<br>
98 bottles of beer on the wall.
</em></blockquote><p><em>Subsequent verses are identical except that the number of bottles gets smaller by one in each verse, until the last verse:</em></p><blockquote class="quote"><em>
No bottles of beer on the wall,<br>
no bottles of beer,<br>
ya&#X2019; can&#X2019;t take one down, ya&#X2019; can&#X2019;t pass it around,<br>
&#X2019;cause there are no more bottles of beer on the wall!
</em></blockquote><p><em>And then the song (finally) ends.</em></p><p><em>Write a program that displays the entire lyrics of &#X201C;99 Bottles of Beer&#X201D;.
Your program should include a recursive method that does the hard part, but you might want to write additional methods to separate other parts of the program.
As you develop your code, test it with a small number of verses, like <code>3</code>.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;6</span>&#XA0;&#XA0;<p><em>This exercise reviews the flow of execution through a program with multiple methods.
Read the following code and answer the questions.</em></p><p><em><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Buzz.java ]]]]
public class Buzz {

    public static void baffle(String blimp) {
        System.out.println(blimp);
        zippo("ping", -5);
    }

    public static void zippo(String quince, int flag) {
        if (flag < 0) {
            System.out.println(quince + " zoop");
        } else {
            System.out.println("ik");
            baffle(quince);
            System.out.println("boo-wa-ha-ha");
        }
    }

    public static void main(String[] args) {
        zippo("rattle", 13);
    }

}
--></em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Write the number <span style="font-family:monospace">1</span> next to the first line of code in this program that will execute.</em></li><li class="li-enumerate"><em>Write the number <span style="font-family:monospace">2</span> next to the second line of code, and so on until the end of the program.
If a line is executed more than once, it might end up with more than one number next to it.</em></li><li class="li-enumerate"><em>What is the value of the parameter <code>blimp</code> when <code>baffle</code> gets invoked?</em></li><li class="li-enumerate"><em>What is the output of this program?</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;7</span>&#XA0;&#XA0;<p><em>Now that we have conditional statements, we can get back to the &#X201C;Guess My Number&#X201D; game from Exercise&#XA0;</em><a href="#guess"><em>4</em></a><em>.</em></p><p><em>You should already have a program that chooses a random number, prompts the user to guess it, and displays the difference between the guess and the chosen number.</em></p><p><em>Adding a small amount of code at a time, and testing as you go, modify the program so it tells the user whether the guess is too high or too low, and then prompts the user for another guess.</em></p><p><em>The program should continue until the user gets it right.
</em>Hint:<em> Use two methods, and make one of them recursive.</em></p></div>
<!--TOC chapter id="sec69" Value methods-->
<h1 id="sec69" class="chapter">Chapter&#XA0;6&#XA0;&#XA0;Value methods</h1><!--SEC END --><p><a id="hevea_default299"></a>
<a id="hevea_default300"></a>
<a id="hevea_default301"></a>
<a id="hevea_default302"></a></p><p>Some of the methods we have used, like the <code>Math</code> methods, return values.
But all the methods we have <em>written</em> so far have been <code><span style="color:blue">void</span></code>; that is, they don&#X2019;t return values.
In this chapter, we&#X2019;ll write methods that return values, which we call <span style="font-weight:bold">value methods</span>.</p>
<!--TOC section id="sec70" Return values-->
<h2 id="sec70" class="section">6.1&#XA0;&#XA0;Return values</h2><!--SEC END --><p><a id="hevea_default303"></a></p><p>When you invoke a void method, the invocation is usually on a line all by itself.
For example, here is the <code>countup</code> method from Section&#XA0;<a href="#recursion">5.8</a>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> countup(<span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (n == 0) {
        System.out.println(<span style="color:#B20000">"Blastoff!"</span>);
    } <span style="color:blue">else</span> {
        countup(n - 1);
        System.out.println(n);
    }
}</td></tr>
</table><p>And here is how it is invoked:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">countup(3);
System.out.println(<span style="color:#B20000">"Have a nice day."</span>);</td></tr>
</table><p>On the other hand, when you invoke a value method, you have to do something with the return value.
We usually assign it to a variable or use it as part of an expression, like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> error = Math.abs(expected - actual);
<span style="color:blue">double</span> height = radius * Math.sin(angle);</td></tr>
</table><p><a id="hevea_default304"></a>
<a id="hevea_default305"></a></p><p>Compared to void methods, value methods differ in two ways:</p><p><a id="hevea_default306"></a>
<a id="hevea_default307"></a></p><ul class="itemize"><li class="li-itemize">They declare the type of the return value (the <span style="font-weight:bold">return type</span>);</li><li class="li-itemize">They use at least one <code><span style="color:blue">return</span></code> statement to provide a <span style="font-weight:bold">return value</span>.</li></ul><p>Here&#X2019;s an example: <code>calculateArea</code> takes a <code><span style="color:blue">double</span></code> as a parameter and returns the area of a circle with that radius:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> calculateArea(<span style="color:blue">double</span> radius) {
    <span style="color:blue">double</span> result = Math.PI * radius * radius;
    <span style="color:blue">return</span> result;
}</td></tr>
</table><p>As usual, this method is <code><span style="color:blue">public</span></code> and <code><span style="color:blue">static</span></code>.
But in the place where we are used to seeing <code><span style="color:blue">void</span></code>, we see <code><span style="color:blue">double</span></code>, which means that the return value from this method is a <code><span style="color:blue">double</span></code>.</p><p><a id="hevea_default308"></a>
<a id="hevea_default309"></a></p><p>The last line is a new form of the <code><span style="color:blue">return</span></code> statement that includes a return value.
This statement means, &#X201C;return immediately from this method and use the following expression as the return value.&#X201D;
The expression you provide can be arbitrarily complex, so we could have written this method more concisely:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> calculateArea(<span style="color:blue">double</span> radius) {
    <span style="color:blue">return</span> Math.PI * radius * radius;
}</td></tr>
</table><p><a id="hevea_default310"></a>
<a id="hevea_default311"></a></p><p>On the other hand, <span style="font-weight:bold">temporary variables</span> like <code>result</code> often make debugging easier, especially when you are stepping through code using an interactive debugger (see Appendix&#XA0;<a href="#debugger">A.6</a>).</p><p>The type of the expression in the <code><span style="color:blue">return</span></code> statement must match the return type of the method.
When you declare that the return type is <code><span style="color:blue">double</span></code>, you are making a promise that this method will eventually produce a <code><span style="color:blue">double</span></code> value.
If you try to <code><span style="color:blue">return</span></code> with no expression, or an expression with the wrong type, the compiler will generate an error.</p><p>Sometimes it is useful to have multiple return statements, for example, one in each branch of a conditional:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> absoluteValue(<span style="color:blue">double</span> x) {
    <span style="color:blue">if</span> (x &lt; 0) {
        <span style="color:blue">return</span> -x;
    } <span style="color:blue">else</span> {
        <span style="color:blue">return</span> x;
    }
}</td></tr>
</table><p>Since these <code><span style="color:blue">return</span></code> statements are in a conditional statement, only one will be executed.
As soon as either of them executes, the method terminates without executing any more statements.</p><p><a id="hevea_default312"></a></p><p>Code that appears after a <code><span style="color:blue">return</span></code> statement (in the same block), or any place else where it can never be executed, is called <span style="font-weight:bold">dead code</span>.
The compiler will give you an &#X201C;unreachable statement&#X201D; error if part of your code is dead.
For example, this method contains dead code:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> absoluteValue(<span style="color:blue">double</span> x) {
    <span style="color:blue">if</span> (x &lt; 0) {
        <span style="color:blue">return</span> -x;
    } <span style="color:blue">else</span> {
        <span style="color:blue">return</span> x;
    }
    System.out.println(<span style="color:#B20000">"This line is dead."</span>);
}</td></tr>
</table><p>If you put <code><span style="color:blue">return</span></code> statements inside a conditional statement, you have to make sure that <em>every possible path</em> through the program reaches a <code><span style="color:blue">return</span></code> statement.
The compiler will let you know if that&#X2019;s not the case.
For example, the following method is incomplete:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> absoluteValue(<span style="color:blue">double</span> x) {
    <span style="color:blue">if</span> (x &lt; 0) {
        <span style="color:blue">return</span> -x;
    } <span style="color:blue">else if</span> (x &gt; 0) {
        <span style="color:blue">return</span> x;
    }
    <span style="color:#007C00">// syntax error</span>
}</td></tr>
</table><p>When <code>x</code> is 0, neither condition is true, so the method ends without hitting a return statement.
The error message in this case might be something like &#X201C;missing return statement&#X201D;, which is confusing since there are already two of them.
But hopefully you will know what it means.</p>
<!--TOC section id="sec71" Writing methods-->
<h2 id="sec71" class="section">6.2&#XA0;&#XA0;Writing methods</h2><!--SEC END --><p>
<a id="distance"></a></p><p><a id="hevea_default313"></a>
<a id="hevea_default314"></a></p><p>Beginners often make the mistake of writing a lot of code before they try to compile and run it.
Then they spend way too much time debugging.
A better approach is what we call <span style="font-weight:bold">incremental development</span>.
The key aspects of incremental development are:</p><ul class="itemize"><li class="li-itemize">Start with a working program and make small, incremental changes.
At any point, if there is an error, you will know where to look.</li><li class="li-itemize">Use variables to hold intermediate values so you can check them, either with print statements or by using a debugger.</li><li class="li-itemize">Once the program is working, you can consolidate multiple statements into compound expressions (but only if it does not make the program more difficult to read).</li></ul><p>As an example, suppose you want to find the distance between two points, given by the coordinates (<span style="font-style:italic">x</span><sub>1</sub>, <span style="font-style:italic">y</span><sub>1</sub>) and (<span style="font-style:italic">x</span><sub>2</sub>, <span style="font-style:italic">y</span><sub>2</sub>).
By the usual definition:</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">distance</span>&#XA0;=&#XA0;</td><td class="dcell"><span style="font-size:x-large">&#X221A;</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >(<span style="font-style:italic">x</span><sub>2</sub>&#XA0;&#X2212;&#XA0;<span style="font-style:italic">x</span><sub>1</sub>)<sup>2</sup>&#XA0;+(<span style="font-style:italic">y</span><sub>2</sub>&#XA0;&#X2212;&#XA0;<span style="font-style:italic">y</span><sub>1</sub>)<sup>2</sup></td></tr>
</table></td><td class="dcell">&#XA0;</td></tr>
</table><p>The first step is to consider what a <code>distance</code> method should look like in Java.
In other words, what are the inputs (parameters) and what is the output (return value)?
In this case, the two points are the parameters, and it is natural to represent them using four <code><span style="color:blue">double</span></code> values.
The return value is the distance, which should also have type <code><span style="color:blue">double</span></code>.</p><p><a id="hevea_default315"></a></p><p>Already we can write an outline for the method, which is sometimes called a <span style="font-weight:bold">stub</span>.
The stub includes the method signature and a <code><span style="color:blue">return</span></code> statement:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> distance
        (<span style="color:blue">double</span> x1, <span style="color:blue">double</span> y1, <span style="color:blue">double</span> x2, <span style="color:blue">double</span> y2) {
    <span style="color:blue">return</span> 0.0;
}</td></tr>
</table><p>The return statement is a placeholder that is necessary for the program to compile.
At this stage the program doesn&#X2019;t do anything useful, but it is good to compile it so we can find any syntax errors before we add more code.</p><p>It&#X2019;s usually a good idea to think about testing <em>before</em> you develop new methods; doing so can help you figure out how to implement them.
To test the method, we can invoke it from <code>main</code> using sample values:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> dist = distance(1.0, 2.0, 4.0, 6.0);</td></tr>
</table><p>With these values, the horizontal distance is 3.0 and the vertical distance is 4.0.
So the result should be 5.0, the hypotenuse of a 3-4-5 triangle.
When you are testing a method, it is helpful to know the right answer.</p><p>Once we have compiled the stub, we can start adding lines of code one at a time.
After each incremental change, we recompile and run the program.
If there is an error at any point, we have a good idea where to look: the last line we added.</p><p>The next step is to find the differences <span style="font-style:italic">x</span><sub>2</sub> &#X2212; <span style="font-style:italic">x</span><sub>1</sub> and <span style="font-style:italic">y</span><sub>2</sub> &#X2212; <span style="font-style:italic">y</span><sub>1</sub>.
We store those values in temporary variables named <code>dx</code> and <code>dy</code>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> distance
        (<span style="color:blue">double</span> x1, <span style="color:blue">double</span> y1, <span style="color:blue">double</span> x2, <span style="color:blue">double</span> y2) {
    <span style="color:blue">double</span> dx = x2 - x1;
    <span style="color:blue">double</span> dy = y2 - y1;
    System.out.println(<span style="color:#B20000">"dx is "</span> + dx);
    System.out.println(<span style="color:#B20000">"dy is "</span> + dy);
    <span style="color:blue">return</span> 0.0;
}</td></tr>
</table><p><a id="hevea_default316"></a></p><p>The print statements allows us to check the intermediate values before proceeding.
They should be 3.0 and 4.0.
We will remove the print statements when the method is finished.
Code like that is called <span style="font-weight:bold">scaffolding</span>, because it is helpful for building the program, but it is not part of the final product.</p><p>The next step is to square <code>dx</code> and <code>dy</code>.
We could use the <code>Math.pow</code> method, but it is simpler to multiply each term by itself.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> distance
        (<span style="color:blue">double</span> x1, <span style="color:blue">double</span> y1, <span style="color:blue">double</span> x2, <span style="color:blue">double</span> y2) {
    <span style="color:blue">double</span> dx = x2 - x1;
    <span style="color:blue">double</span> dy = y2 - y1;
    <span style="color:blue">double</span> dsquared = dx * dx + dy * dy;
    System.out.println(<span style="color:#B20000">"dsquared is "</span> + dsquared);
    <span style="color:blue">return</span> 0.0;
}</td></tr>
</table><p>Again, you should compile and run the program at this stage and check the intermediate value, which should be 25.0.
Finally, we can use <code>Math.sqrt</code> to compute and return the result.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> distance
        (<span style="color:blue">double</span> x1, <span style="color:blue">double</span> y1, <span style="color:blue">double</span> x2, <span style="color:blue">double</span> y2) {
    <span style="color:blue">double</span> dx = x2 - x1;
    <span style="color:blue">double</span> dy = y2 - y1;
    <span style="color:blue">double</span> dsquared = dx * dx + dy * dy;
    <span style="color:blue">double</span> result = Math.sqrt(dsquared);
    <span style="color:blue">return</span> result;
}</td></tr>
</table><p>As you gain more experience programming, you might write and debug more than one line at a time.
Nevertheless, incremental development can save you a lot of time.</p>
<!--TOC section id="sec72" Method composition-->
<h2 id="sec72" class="section">6.3&#XA0;&#XA0;Method composition</h2><!--SEC END --><p><a id="hevea_default317"></a></p><p>Once you define a new method, you can use it as part of an expression, or build new methods using existing methods.
For example, suppose someone gave you two points, the center of the circle and a point on the perimeter, and asked for the area of the circle.
Let&#X2019;s say the center point is stored in the variables <code>xc</code> and <code>yc</code>, and the perimeter point is in <code>xp</code> and <code>yp</code>.</p><p>The first step is to find the radius of the circle, which is the distance between the two points.
Fortunately, we have a method that does just that (<code>distance</code>).</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> radius = distance(xc, yc, xp, yp);</td></tr>
</table><p>The second step is to find the area of a circle with that radius.
We have a method for that computation too (<code>calculateArea</code>).</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> area = calculateArea(radius);
<span style="color:blue">return</span> area;</td></tr>
</table><p>Putting everything together in a new method, we get:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> circleArea
        (<span style="color:blue">double</span> xc, <span style="color:blue">double</span> yc, <span style="color:blue">double</span> xp, <span style="color:blue">double</span> yp) {
    <span style="color:blue">double</span> radius = distance(xc, yc, xp, yp);
    <span style="color:blue">double</span> area = calculateArea(radius);
    <span style="color:blue">return</span> area;
}</td></tr>
</table><p>The temporary variables <code>radius</code> and <code>area</code> are useful for development and debugging, but once the program is working we can make it more concise by composing the method calls:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> circleArea
        (<span style="color:blue">double</span> xc, <span style="color:blue">double</span> yc, <span style="color:blue">double</span> xp, <span style="color:blue">double</span> yp) {
    <span style="color:blue">return</span> calculateArea(distance(xc, yc, xp, yp));
}</td></tr>
</table><p><a id="hevea_default318"></a></p><p>This example demonstrates a process called <span style="font-weight:bold">functional decomposition</span>; that is, breaking a complex computation into simple methods, testing the methods in isolation, and then composing the methods to perform the computation.
This process reduces debugging time and yields code that is more likely to be correct and easier to maintain.</p>
<!--TOC section id="sec73" Overloading-->
<h2 id="sec73" class="section">6.4&#XA0;&#XA0;Overloading</h2><!--SEC END --><p>
<a id="overloading"></a></p><p>You might have noticed that <code>circleArea</code> and <code>calculateArea</code> perform similar functions.
They both find the area of a circle, but they take different parameters.
For <code>calculateArea</code>, we have to provide the radius; for <code>circleArea</code> we provide two points.</p><p><a id="hevea_default319"></a></p><p>If two methods do the same thing, it is natural to give them the same name.
Having more than one method with the same name is called <span style="font-weight:bold">overloading</span>, and it is legal in Java as long as each version takes different parameters.
So we could rename <code>circleArea</code> to <code>calculateArea</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> calculateArea
        (<span style="color:blue">double</span> xc, <span style="color:blue">double</span> yc, <span style="color:blue">double</span> xp, <span style="color:blue">double</span> yp) {
    <span style="color:blue">return</span> calculateArea(distance(xc, yc, xp, yp));
}</td></tr>
</table><p>Note that this new <code>calculateArea</code> method is <em>not</em> recursive.
When you invoke an overloaded method, Java knows which version you want by looking at the arguments that you provide.
If you write:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> x = calculateArea(3.0);</td></tr>
</table><p>Java looks for a method named <code>calculateArea</code> that takes one <code><span style="color:blue">double</span></code> as an argument, and so it uses the first version, which interprets the argument as a radius.
If you write:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> y = calculateArea(1.0, 2.0, 4.0, 6.0);</td></tr>
</table><p>Java uses the second version of <code>calculateArea</code>, which interprets the arguments as two points.
In this example, the second version actually invokes the first version.</p><p>Many Java methods are overloaded, meaning that there are different versions that accept different numbers or types of parameters.
For example, there are versions of <code>print</code> and <code>println</code> that accept a single parameter of any data type.
In the <code>Math</code> class, there is a version of <code>abs</code> that works on <code><span style="color:blue">double</span></code>s, and there is also a version for <code><span style="color:blue">int</span></code>s.</p><p>Although overloading is a useful feature, it should be used with caution.
You might get yourself nicely confused if you are trying to debug one version of a method while accidentally invoking a different one.</p>
<!--TOC section id="sec74" Boolean methods-->
<h2 id="sec74" class="section">6.5&#XA0;&#XA0;Boolean methods</h2><!--SEC END --><p>
<a id="boolean"></a></p><p><a id="hevea_default320"></a>
<a id="hevea_default321"></a></p><p>Methods can return <code><span style="color:blue">boolean</span></code> values, just like any other type, which is often convenient for hiding tests inside methods.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static boolean</span> isSingleDigit(<span style="color:blue">int</span> x) {
    <span style="color:blue">if</span> (x &gt; -10 &amp;&amp; x &lt; 10) {
        <span style="color:blue">return true</span>;
    } <span style="color:blue">else</span> {
        <span style="color:blue">return false</span>;
    }
}</td></tr>
</table><p>The name of this method is <code>isSingleDigit</code>.
It is common to give <code><span style="color:blue">boolean</span></code> methods names that sound like yes/no questions.
Since the return type is <code><span style="color:blue">boolean</span></code>, the return statement has to provide a boolean expression.</p><p>The code itself is straightforward, although it is longer than it needs to be.
Remember that the expression <code>x&#XA0;&gt;&#XA0;-10&#XA0;&amp;&amp;&#XA0;x&#XA0;&lt;&#XA0;10</code> has type <code><span style="color:blue">boolean</span></code>, so there is nothing wrong with returning it directly (without the <code><span style="color:blue">if</span></code> statement):</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static boolean</span> isSingleDigit(<span style="color:blue">int</span> x) {
    <span style="color:blue">return</span> x &gt; -10 &amp;&amp; x &lt; 10;
}</td></tr>
</table><p>In <code>main</code>, you can invoke the method in the usual ways:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(isSingleDigit(2));
<span style="color:blue">boolean</span> bigFlag = !isSingleDigit(17);</td></tr>
</table><p>The first line displays <code><span style="color:blue">true</span></code> because 2 is a single-digit number.
The second line sets <code>bigFlag</code> to <code><span style="color:blue">true</span></code>, because 17 is <em>not</em> a single-digit number.</p><p>Conditional statements often invoke <code><span style="color:blue">boolean</span></code> methods and use the result as the condition:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (isSingleDigit(z)) {
    System.out.println(<span style="color:#B20000">"z is small"</span>);
} <span style="color:blue">else</span> {
    System.out.println(<span style="color:#B20000">"z is big"</span>);
}</td></tr>
</table><p>Examples like this one almost read like English:
&#X201C;If is single digit z, print ... else print ...&#X201D;.</p>
<!--TOC section id="sec75" Javadoc tags-->
<h2 id="sec75" class="section">6.6&#XA0;&#XA0;Javadoc tags</h2><!--SEC END --><p>In Section&#XA0;<a href="#sec%3Ajavadoc">4.9</a>, we discussed how to write documentation comments using <span style="color:#007C00"><code>/**</code></span>.
It&#X2019;s generally a good idea to document each class and method, so that other programmers can understand what they do without having to read the code.</p><p><a id="hevea_default322"></a>
<a id="hevea_default323"></a>
<a id="hevea_default324"></a>
<a id="hevea_default325"></a></p><p>To organize the documentation into sections, Javadoc supports optional <span style="font-weight:bold">tags</span> that begin with the at sign (<code>@</code>).
For example, we can use <code>@param</code> and <code>@return</code> to provide additional information about parameters and return values.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:#007C00">/**
 * Tests whether x is a single digit integer.
 *
 * @param x the integer to test
 * @return true if x has one digit, false otherwise
 */</span>
<span style="color:blue">public static boolean</span> isSingleDigit(<span style="color:blue">int</span> x) {</td></tr>
</table><p><a id="hevea_default326"></a>
<a id="hevea_default327"></a></p><p>Figure&#XA0;<a href="#fig.javadoc">6.1</a> shows part of the resulting HTML page generated by Javadoc.
Notice the relationship between the source code and the documentation.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6011.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 6.1: HTML documentation for <code>isSingleDigit</code>.</td></tr>
</table></div>
<a id="fig.javadoc"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>Methods with multiple parameters should have separate <code>@param</code> tags that describe each one.
Void methods should have no <code>@return</code> tag, since they do not return a value.</p>
<!--TOC section id="sec76" More recursion-->
<h2 id="sec76" class="section">6.7&#XA0;&#XA0;More recursion</h2><!--SEC END --><p>
<a id="factorial"></a></p><p><a id="hevea_default328"></a>
<a id="hevea_default329"></a></p><p><a id="hevea_default330"></a>
<a id="hevea_default331"></a></p><p>Now that we have methods that return values, we have a <span style="font-weight:bold">Turing complete</span> programming language.
That means Java can compute anything computable, for any reasonable definition of &#X201C;computable&#X201D;.
This idea was developed by Alonzo Church and Alan Turing, so it is known as the Church-Turing thesis.
</p><p><a id="hevea_default332"></a></p><p>To give you an idea of what you can do with the tools we have learned, let&#X2019;s look at some methods for evaluating recursively-defined mathematical functions.
A recursive definition is similar to a circular definition, in the sense that the definition refers to the thing being defined.</p><p>Of course, a truly circular definition is not very useful:</p><dl class="description"><dt class="dt-description">
<span style="font-weight:bold">recursive:</span></dt><dd class="dd-description"><a id="hevea_default333"></a> An adjective used to describe a method that is recursive.
</dd></dl><p>If you saw that definition in the dictionary, you might be annoyed.
But if you search for recursion on Google, it displays &#X201C;Did you mean: recursion&#X201D; as an inside joke.</p><p><a id="hevea_default334"></a></p><p>Many mathematical functions are defined recursively, because that is often the simplest way.
For example, the <span style="font-weight:bold">factorial</span> of an integer <span style="font-style:italic">n</span>, which is written <span style="font-style:italic">n</span>!, is defined like this:
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" >0!&#XA0;=&#XA0;1&#XA0;</td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" ><span style="font-style:italic">n</span>!&#XA0;=&#XA0;<span style="font-style:italic">n</span>&#XA0;&#XB7;(<span style="font-style:italic">n</span>&#X2212;1)!
</td></tr>
</table></td></tr>
</table><p>Don&#X2019;t confuse the mathematical symbol !, which means <em>factorial</em>, with the Java operator <code>!</code>, which means <em>not</em>.
This definition says that <code>factorial(0)</code> is <code>1</code>, and that <code>factorial(n)</code> is <code>n&#XA0;*&#XA0;factorial(n&#XA0;-&#XA0;1)</code>.</p><p>So <code>factorial(3)</code> is <code>3&#XA0;*&#XA0;factorial(2)</code>; <code>factorial(2)</code> is <code>2&#XA0;*&#XA0;factorial(1)</code>; <code>factorial(1)</code> is <code>1&#XA0;*&#XA0;factorial(0)</code>; and <code>factorial(0)</code> is <code>1</code>.
Putting it all together, we get <code>3&#XA0;*&#XA0;2&#XA0;*&#XA0;1&#XA0;*&#XA0;1</code>, which is 6.</p><p>If you can formulate a recursive definition of something, you can easily write a Java method to evaluate it.
The first step is to decide what the parameters and return type are.
Since factorial is defined for integers, the method takes an <code><span style="color:blue">int</span></code> as a parameter and returns an <code><span style="color:blue">int</span></code>.
So here&#X2019;s a good starting place:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> factorial(<span style="color:blue">int</span> n) {
    <span style="color:blue">return</span> 0;
}</td></tr>
</table><p>Next, we think about the base case.
If the argument happens to be zero, we return 1.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> factorial(<span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (n == 0) {
        <span style="color:blue">return</span> 1;
    }
    <span style="color:blue">return</span> 0;
}</td></tr>
</table><p>Otherwise, and this is the interesting part, we have to make a recursive call to find the factorial of <span style="font-style:italic">n</span>&#X2212;1, and then multiply it by <span style="font-style:italic">n</span>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> factorial(<span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (n == 0) {
        <span style="color:blue">return</span> 1;
    }
    <span style="color:blue">int</span> recurse = factorial(n - 1);
    <span style="color:blue">int</span> result = n * recurse;
    <span style="color:blue">return</span> result;
}</td></tr>
</table><p>The flow of execution for this program is similar to <code>countdown</code> from Section&#XA0;<a href="#recursion">5.8</a>.
If we invoke <code>factorial</code> with the value 3:</p><blockquote class="quote">
Since 3 is not zero, we take the second branch and calculate the factorial of <span style="font-style:italic">n</span>&#X2212;1...
<blockquote class="quote">
Since 2 is not zero, we take the second branch and calculate the factorial of <span style="font-style:italic">n</span>&#X2212;1...
<blockquote class="quote">
Since 1 is not zero, we take the second branch and calculate the factorial of <span style="font-style:italic">n</span>&#X2212;1...
<blockquote class="quote">
Since 0 <em>is</em> zero, we take the first branch and return the value 1 immediately.
</blockquote>
The return value (1) gets multiplied by <code>n</code>, which is 1, and the result is returned.
</blockquote>
The return value (1) gets multiplied by <code>n</code>, which is 2, and the result is returned.
</blockquote>
The return value (2) gets multiplied by <code>n</code>, which is 3, and the result, 6, is returned to whatever invoked <code>factorial(3)</code>.
</blockquote><p><a id="hevea_default335"></a>
<a id="hevea_default336"></a></p><p>Figure&#XA0;<a href="#fig.stack3">6.2</a> shows what the stack diagram looks like for this sequence of method invocations.
The return values are shown being passed back up the stack.
Notice that <code>recurse</code> and <code>result</code> do not exist in the last frame, because when <code>n&#XA0;==&#XA0;0</code> the code that declares them does not execute.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6012.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 6.2: Stack diagram for the <code>factorial</code> method.</td></tr>
</table></div>
<a id="fig.stack3"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote>
<!--TOC section id="sec77" Leap of faith-->
<h2 id="sec77" class="section">6.8&#XA0;&#XA0;Leap of faith</h2><!--SEC END --><p>
<a id="leap of faith"></a></p><p><a id="hevea_default337"></a></p><p>Following the flow of execution is one way to read programs, but it can quickly become overwhelming.
An alternative is the <span style="font-weight:bold">leap of faith</span>:
when you come to a method invocation, instead of following the flow of execution, you <em>assume</em> that the method works correctly and returns the appropriate value.</p><p>In fact, you are already practicing a leap of faith when you use methods in the Java library.
When you invoke <code>Math.cos</code> or <code>System.out.println</code>, you don&#X2019;t examine the implementations of those methods.
You just assume that they work properly.</p><p>You should apply the same reasoning to your own methods.
For example, in Section&#XA0;<a href="#boolean">6.5</a> we wrote a method called <code>isSingleDigit</code> that determines whether a number is between 0 and 9.
Once we convince ourselves that this method is correct &#X2013; by testing and examination of the code &#X2013; we can use the method without ever looking at the implementation again.</p><p>The same is true of recursive methods.
When you get to the recursive call, instead of following the flow of execution you should <em>assume</em> that the recursive invocation works.
For example, &#X201C;Assuming that I can find the factorial of <span style="font-style:italic">n</span>&#X2212;1, can I compute the factorial of <span style="font-style:italic">n</span>?&#X201D;
Yes you can, by multiplying by <span style="font-style:italic">n</span>.</p><p>Of course, it is strange to assume that the method works correctly when you have not finished writing it, but that&#X2019;s why it&#X2019;s called a leap of faith!</p>
<!--TOC section id="sec78" One more example-->
<h2 id="sec78" class="section">6.9&#XA0;&#XA0;One more example</h2><!--SEC END --><p>
<a id="fibonacci"></a></p><p><a id="hevea_default338"></a></p><p>Another common recursively-defined mathematical function is the Fibonacci sequence, which has the following definition:
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" ><span style="font-style:italic">fibonacci</span>(1)&#XA0;=&#XA0;1&#XA0;</td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" ><span style="font-style:italic">fibonacci</span>(2)&#XA0;=&#XA0;1&#XA0;</td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >&nbsp;</td><td style="text-align:left;white-space:nowrap" ><span style="font-style:italic">fibonacci</span>(<span style="font-style:italic">n</span>)&#XA0;=&#XA0;<span style="font-style:italic">fibonacci</span>(<span style="font-style:italic">n</span>&#X2212;1)&#XA0;+&#XA0;<span style="font-style:italic">fibonacci</span>(<span style="font-style:italic">n</span>&#X2212;2)
</td></tr>
</table></td></tr>
</table><p>Translated into Java, this function is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> fibonacci(<span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (n == 1 || n == 2) {
        <span style="color:blue">return</span> 1;
    }
    <span style="color:blue">return</span> fibonacci(n - 1) + fibonacci(n - 2);
}</td></tr>
</table><p>If you try to follow the flow of execution here, even for small values of <code>n</code>, your head will explode.
But if we take a leap of faith and assume that the two recursive invocations work correctly, it is clear that their sum is the result.</p>
<!--TOC section id="sec79" Vocabulary-->
<h2 id="sec79" class="section">6.10&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">void method:</span></dt><dd class="dd-description"><a id="hevea_default339"></a>
A method that does not return a value.</dd><dt class="dt-description"><span style="font-weight:bold">value method:</span></dt><dd class="dd-description"><a id="hevea_default340"></a>
A method that returns a value.</dd><dt class="dt-description"><span style="font-weight:bold">return type:</span></dt><dd class="dd-description"><a id="hevea_default341"></a>
The type of value a method returns.</dd><dt class="dt-description"><span style="font-weight:bold">return value:</span></dt><dd class="dd-description"><a id="hevea_default342"></a>
The value provided as the result of a method invocation.</dd><dt class="dt-description"><span style="font-weight:bold">temporary variable:</span></dt><dd class="dd-description"><a id="hevea_default343"></a>
A short-lived variable, often used for debugging.</dd><dt class="dt-description"><span style="font-weight:bold">dead code:</span></dt><dd class="dd-description"><a id="hevea_default344"></a>
Part of a program that can never be executed, often because it appears after a <code><span style="color:blue">return</span></code> statement.</dd><dt class="dt-description"><span style="font-weight:bold">incremental development:</span></dt><dd class="dd-description"><a id="hevea_default345"></a>
A process for creating programs by writing a few lines at a time, compiling, and testing.</dd><dt class="dt-description"><span style="font-weight:bold">stub:</span></dt><dd class="dd-description"><a id="hevea_default346"></a>
A placeholder for an incomplete method so that the class will compile.</dd><dt class="dt-description"><span style="font-weight:bold">scaffolding:</span></dt><dd class="dd-description"><a id="hevea_default347"></a>
Code that is used during program development but is not part of the final version.</dd><dt class="dt-description"><span style="font-weight:bold">functional decomposition:</span></dt><dd class="dd-description"><a id="hevea_default348"></a>
A process for breaking down a complex computation into simple methods, then composing the methods to perform the computation.</dd><dt class="dt-description"><span style="font-weight:bold">overload:</span></dt><dd class="dd-description"><a id="hevea_default349"></a>
To define more than one method with the same name but different parameters.
</dd><dt class="dt-description"><span style="font-weight:bold">tag:</span></dt><dd class="dd-description"><a id="hevea_default350"></a>
A label that begins with an at sign (<code>@</code>) and is used by Javadoc to organize documentation into sections.</dd><dt class="dt-description"><span style="font-weight:bold">Turing complete:</span></dt><dd class="dd-description"><a id="hevea_default351"></a>
A programming language that can implement any theoretically possible algorithm.</dd><dt class="dt-description"><span style="font-weight:bold">factorial:</span></dt><dd class="dd-description"><a id="hevea_default352"></a>
The product of all the integers up to and including a given integer.</dd><dt class="dt-description"><span style="font-weight:bold">leap of faith:</span></dt><dd class="dd-description"><a id="hevea_default353"></a>
A way to read recursive programs by assuming that the recursive call works, rather than following the flow of execution.</dd></dl>
<!--TOC section id="sec80" Exercises-->
<h2 id="sec80" class="section">6.11&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch06</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><p>If you have not already read Appendix&#XA0;<a href="#JUnit">A.7</a>, now might be a good time.
It describes JUnit, a tool for efficiently testing value methods.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>If you have a question about whether something is legal, and what happens if it is not, a good way to find out is to ask the compiler.
Answer the following questions by trying them out.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>What happens if you invoke a value method and don&#X2019;t do anything with the result; that is, if you don&#X2019;t assign it to a variable or use it as part of a larger expression?</em></li><li class="li-enumerate"><em>What happens if you use a void method as part of an expression?
For example, try <code>System.out.println(<span style="color:#B20000">"boo!"</span>)&#XA0;+&#XA0;7;</code></em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;
<a id="ex.isdiv"></a><p><em>Write a method named <code>isDivisible</code> that takes two integers, <code>n</code> and <code>m</code>, and that returns <span style="color:blue"><code>true</code></span> if <code>n</code> is divisible by <code>m</code>, and <span style="color:blue"><code>false</code></span> otherwise.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<p><em>If you are given three sticks, you may or may not be able to arrange them in a triangle.
For example, if one of the sticks is 12 inches long and the other two are one inch long, you will not be able to get the short sticks to meet in the middle.
For any three lengths, there is a simple test to see if it is possible to form a triangle:</em></p><blockquote class="quotation"><em>
If any of the three lengths is greater than the sum of the other two, you cannot form a triangle.
</em></blockquote><p><em>Write a method named <code>isTriangle</code> that takes three integers as arguments and returns either <span style="color:blue"><code>true</code></span> or <span style="color:blue"><code>false</code></span>, depending on whether you can or cannot form a triangle from sticks with the given lengths.
The point of this exercise is to use conditional statements to write a value method.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;
<a id="ex.multadd"></a><p><em>Many computations can be expressed more concisely using the &#X201C;multadd&#X201D; operation, which takes three operands and computes <code>a&#XA0;*&#XA0;b&#XA0;+&#XA0;c</code>.
Some processors even provide a hardware implementation of this operation for floating-point numbers.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Create a new program called <span style="font-family:monospace">Multadd.java</span>.</em></li><li class="li-enumerate"><em>Write a method called <code>multadd</code> that takes three <code>doubles</code> as parameters and that returns <code>a&#XA0;*&#XA0;b&#XA0;+&#XA0;c</code>.</em></li><li class="li-enumerate"><em>Write a <code>main</code> method that tests <code>multadd</code> by invoking it with a few simple parameters, like <code>1.0,&#XA0;2.0,&#XA0;3.0</code>.</em></li><li class="li-enumerate"><em>Also in <code>main</code>, use <code>multadd</code> to compute the following values:
</em><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" ><table class="display"><tr style="vertical-align:middle"><td class="dcell">sin</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">&#X3C0;</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">4</td></tr>
</table></td><td class="dcell">&#XA0;+&#XA0;</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell">cos</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">&#X3C0;</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">4</td></tr>
</table></td></tr>
</table></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center">2</td></tr>
</table></td></tr>
</table></td><td style="text-align:left;white-space:nowrap" >&nbsp;</td></tr>
<tr><td style="text-align:right;white-space:nowrap" >&nbsp;</td><td style="text-align:center;white-space:nowrap" >log10&#XA0;+&#XA0;log20</td></tr>
</table></td></tr>
</table></li><li class="li-enumerate"><em>Write a method called <code>expSum</code> that takes a double as a parameter and that uses <code>multadd</code> to calculate:
</em><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" ><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span>&#XA0;<span style="font-style:italic">e</span><sup>&#X2212;<span style="font-style:italic">x</span></sup>&#XA0;+&#XA0;</td><td class="dcell"><span style="font-size:x-large">&#X221A;</span></td><td class="dcell"><table style="border:0;border-spacing:1;border-collapse:separate;" class="cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td style="text-align:center;white-space:nowrap" >1&#XA0;&#X2212;&#XA0;<span style="font-style:italic">e</span><sup>&#X2212;<span style="font-style:italic">x</span></sup></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table>
Hint:<em> The method for raising </em><span style="font-style:italic">e</span><em> to a power is <code>Math.exp</code>.</em></li></ol><p><em>In the last part of this exercise, you need to write a method that invokes another method you wrote.
Whenever you do that, it is a good idea to test the first method carefully before working on the second.
Otherwise, you might find yourself debugging two methods at the same time, which can be difficult.</em></p><p><em>One of the purposes of this exercise is to practice pattern-matching: the ability to recognize a specific problem as an instance of a general category of problems.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;5</span>&#XA0;&#XA0;<p><em>What is the output of the following program?</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> main(String[] args) {
    <span style="color:blue">boolean</span> flag1 = isHoopy(202);
    <span style="color:blue">boolean</span> flag2 = isFrabjuous(202);
    System.out.println(flag1);
    System.out.println(flag2);
    <span style="color:blue">if</span> (flag1 &amp;&amp; flag2) {
        System.out.println(<span style="color:#B20000">"ping!"</span>);
    }
    <span style="color:blue">if</span> (flag1 || flag2) {
        System.out.println(<span style="color:#B20000">"pong!"</span>);
    }
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static boolean</span> isHoopy(<span style="color:blue">int</span> x) {
    <span style="color:blue">boolean</span> hoopyFlag;
    <span style="color:blue">if</span> (x % 2 == 0) {
        hoopyFlag = <span style="color:blue">true</span>;
    } <span style="color:blue">else</span> {
        hoopyFlag = <span style="color:blue">false</span>;
    }
    <span style="color:blue">return</span> hoopyFlag;
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static boolean</span> isFrabjuous(<span style="color:blue">int</span> x) {
    <span style="color:blue">boolean</span> frabjuousFlag;
    <span style="color:blue">if</span> (x &gt; 0) {
        frabjuousFlag = <span style="color:blue">true</span>;
    } <span style="color:blue">else</span> {
        frabjuousFlag = <span style="color:blue">false</span>;
    }
    <span style="color:blue">return</span> frabjuousFlag;
}</em></td></tr>
</table><p><em>The purpose of this exercise is to make sure you understand logical operators and the flow of execution through value methods.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;6</span>&#XA0;&#XA0;<p><em>In this exercise, you will use a stack diagram to understand the execution of the following recursive program.</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> main(String[] args) {
    System.out.println(prod(1, 4));
}

<span style="color:blue">public static int</span> prod(<span style="color:blue">int</span> m, <span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (m == n) {
        <span style="color:blue">return</span> n;
    } <span style="color:blue">else</span> {
        <span style="color:blue">int</span> recurse = prod(m, n - 1);
        <span style="color:blue">int</span> result = n * recurse;
        <span style="color:blue">return</span> result;
    }
}</em></td></tr>
</table><ol class="enumerate" type=1><li class="li-enumerate"><em>Draw a stack diagram showing the state of the program just before the last invocation of <code>prod</code> completes.</em></li><li class="li-enumerate"><em>What is the output of this program?
(Try to answer this question on paper first, then run the code to check your answer.)</em></li><li class="li-enumerate"><em>Explain in a few words what <code>prod</code> does (without getting into the details of how it works).</em></li><li class="li-enumerate"><em>Rewrite <code>prod</code> without the temporary variables <code>recurse</code> and <code>result</code>.
</em>Hint:<em> You only need one line for the <span style="color:blue"><code>else</code></span> branch.</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;7</span>&#XA0;&#XA0;<em>
Write a recursive method named <code>oddSum</code> that takes a positive odd integer <code>n</code> and returns the sum of odd integers from 1 to n.
Start with a base case, and use temporary variables to debug your solution.
You might find it helpful to print the value of <code>n</code> each time <code>oddSum</code> is invoked.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;8</span>&#XA0;&#XA0;<p><em>The goal of this exercise is to translate a recursive definition into a Java method.
The Ackermann function is defined for non-negative integers as follows:
</em></p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:right;white-space:nowrap" ><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">A</span>(<span style="font-style:italic">m</span>,&#XA0;<span style="font-style:italic">n</span>)&#XA0;=&#XA0;</td><td class="dcell"><table class="display"><tr style="vertical-align:middle"><td class="dcell">&#X23A7;<br>
&#X23AA;<br>
&#X23A8;<br>
&#X23AA;<br>
&#X23A9;</td><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" >&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;<span style="font-style:italic">n</span>+1</td><td style="text-align:left;white-space:nowrap" >if &#XA0;<span style="font-style:italic">m</span>&#XA0;=&#XA0;0&#XA0;</td></tr>
<tr><td style="text-align:left;white-space:nowrap" >&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;<span style="font-style:italic">A</span>(<span style="font-style:italic">m</span>&#X2212;1,&#XA0;1)</td><td style="text-align:left;white-space:nowrap" >if &#XA0;<span style="font-style:italic">m</span>&#XA0;&gt;&#XA0;0&#XA0; and &#XA0;<span style="font-style:italic">n</span>&#XA0;=&#XA0;0&#XA0;</td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-style:italic">A</span>(<span style="font-style:italic">m</span>&#X2212;1,&#XA0;<span style="font-style:italic">A</span>(<span style="font-style:italic">m</span>,&#XA0;<span style="font-style:italic">n</span>&#X2212;1))</td><td style="text-align:left;white-space:nowrap" >if &#XA0;<span style="font-style:italic">m</span>&#XA0;&gt;&#XA0;0&#XA0; and &#XA0;<span style="font-style:italic">n</span>&#XA0;&gt;&#XA0;0
</td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table><p><em>Write a method called <code>ack</code> that takes two <span style="color:blue"><code>int</code></span>s as parameters and that computes and returns the value of the Ackermann function.</em></p><p><em>Test your implementation of Ackermann by invoking it from <code>main</code> and displaying the return value.
Note the return value gets very big very quickly.
You should try it only for small values of </em><span style="font-style:italic">m</span><em> and </em><span style="font-style:italic">n</span><em> (not bigger than 3).</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;9</span>&#XA0;&#XA0;
<a id="ex.power"></a><p><em>Write a recursive method called <code>power</code> that takes a double <code>x</code> and an integer <code>n</code> and returns </em><span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span></sup><em>.</em></p><p>Hint:<em> A recursive definition of this operation is </em><span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span></sup> = <span style="font-style:italic">x</span> &#XB7; <span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span>&#X2212;1</sup><em>.
Also, remember that anything raised to the zeroth power is 1.</em></p><p><em>Optional challenge: you can make this method more efficient, when <code>n</code> is even, using </em><span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span></sup> = ( <span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span>/2</sup> )<sup>2</sup><em>.</em></p></div>
<!--TOC chapter id="sec81" Loops-->
<h1 id="sec81" class="chapter">Chapter&#XA0;7&#XA0;&#XA0;Loops</h1><!--SEC END --><p>Computers are often used to automate repetitive tasks.
Repeating tasks without making errors is something that computers do well and people do poorly.</p><p><a id="hevea_default354"></a></p><p>Running the same code multiple times is called <span style="font-weight:bold">iteration</span>.
We have seen methods, like <code>countdown</code> and <code>factorial</code>, that use recursion to iterate.
Although recursion is elegant and powerful, it takes some getting used to.
Java provides language features that make iteration much easier:
the <code><span style="color:blue">while</span></code> and <code><span style="color:blue">for</span></code> statements.</p>
<!--TOC section id="sec82" The while statement-->
<h2 id="sec82" class="section">7.1&#XA0;&#XA0;The while statement</h2><!--SEC END --><p>
<a id="while"></a></p><p><a id="hevea_default355"></a>
<a id="hevea_default356"></a>
<a id="hevea_default357"></a></p><p>Using a <code><span style="color:blue">while</span></code> statement, we can rewrite <code>countdown</code> like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> countdown(<span style="color:blue">int</span> n) {
    <span style="color:blue">while</span> (n &gt; 0) {
        System.out.println(n);
        n = n - 1;
    }
    System.out.println(<span style="color:#B20000">"Blastoff!"</span>);
}</td></tr>
</table><p>You can almost read the <code><span style="color:blue">while</span></code> statement like English:
&#X201C;While <code>n</code> is greater than zero, print the value of <code>n</code> and then reduce the value of <code>n</code> by 1.
When you get to zero, print Blastoff!&#X201D;</p><p><a id="hevea_default358"></a></p><p>The expression in parentheses is called the condition.
The statements in braces are called the <span style="font-weight:bold">body</span>.
The flow of execution for a <code><span style="color:blue">while</span></code> statement is:</p><ol class="enumerate" type=1><li class="li-enumerate">Evaluate the condition, yielding <code><span style="color:blue">true</span></code> or <code><span style="color:blue">false</span></code>.</li><li class="li-enumerate">If the condition is <code><span style="color:blue">false</span></code>, skip the body and go to the next statement.</li><li class="li-enumerate">If the condition is <code><span style="color:blue">true</span></code>, execute the body and go back to step 1.</li></ol><p><a id="hevea_default359"></a></p><p>This type of flow is called a <span style="font-weight:bold">loop</span>, because the last step loops back around to the first.</p><p><a id="hevea_default360"></a>
<a id="hevea_default361"></a></p><p>The body of the loop should change the value of one or more variables so that, eventually, the condition becomes <code><span style="color:blue">false</span></code> and the loop terminates.
Otherwise the loop will repeat forever, which is called an <span style="font-weight:bold">infinite loop</span>.
An endless source of amusement for computer scientists is the observation that the directions on shampoo, &#X201C;Lather, rinse, repeat,&#X201D; are an infinite loop.</p><p>In the case of <code>countdown</code>, we can prove that the loop terminates when <code>n</code> is positive.
But in general, it is not so easy to tell whether a loop terminates.
For example, this loop continues until <code>n</code> is 1 (which makes the condition <code><span style="color:blue">false</span></code>):</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> sequence(<span style="color:blue">int</span> n) {
    <span style="color:blue">while</span> (n != 1) {
        System.out.println(n);
        <span style="color:blue">if</span> (n % 2 == 0) {         <span style="color:#007C00">// n is even</span>
            n = n / 2;
        } <span style="color:blue">else</span> {                  <span style="color:#007C00">// n is odd</span>
            n = n * 3 + 1;
        }
    }
}</td></tr>
</table><p>Each time through the loop, the program displays the value of <code>n</code> and then checks whether it is even or odd.
If it is even, the value of <code>n</code> is divided by two.
If it is odd, the value is replaced by 3<span style="font-style:italic">n</span>+1.
For example, if the starting value (the argument passed to <code>sequence</code>) is 3, the resulting sequence is 3, 10, 5, 16, 8, 4, 2, 1.</p><p>Since <code>n</code> sometimes increases and sometimes decreases, there is no obvious proof that <code>n</code> will ever reach 1 and that the program will ever terminate.
For some values of <code>n</code>, we can prove that it terminates.
For example, if the starting value is a power of two, then the value of <code>n</code> will be even every time through the loop until we get to 1.
The previous example ends with such a sequence, starting when <code>n</code> is 16.</p><p>The hard question is whether this program terminates for <em>all</em> values of n.
So far, no one has been able to prove it <em>or</em> disprove it!
For more information, see <a href="https://en.wikipedia.org/wiki/Collatz_conjecture"><span style="font-family:monospace">https://en.wikipedia.org/wiki/Collatz_conjecture</span></a>.
</p>
<!--TOC section id="sec83" Generating tables-->
<h2 id="sec83" class="section">7.2&#XA0;&#XA0;Generating tables</h2><!--SEC END --><p><a id="hevea_default362"></a>
<a id="hevea_default363"></a></p><p>Loops are good for generating and displaying tabular data.
Before computers were readily available, people had to calculate logarithms, sines and cosines, and other common mathematical functions by hand.
To make that easier, there were books of tables where you could look up values of various functions.
Creating these tables by hand was slow and boring, and the results were often full of errors.</p><p>When computers appeared on the scene, one of the initial reactions was: &#X201C;This is great!
We can use a computer to generate the tables, so there will be no errors.&#X201D;
That turned out to be true (mostly), but shortsighted.
Not much later, computers were so pervasive that printed tables became obsolete.</p><p><a id="hevea_default364"></a></p><p>Even so, for some operations, computers use tables of values to get an approximate answer, and then perform computations to improve the approximation.
In some cases, there have been errors in the underlying tables, most famously in the table the original Intel Pentium used to perform floating-point division (see <a href="https://en.wikipedia.org/wiki/Pentium_FDIV_bug"><span style="font-family:monospace">https://en.wikipedia.org/wiki/Pentium_FDIV_bug</span></a>).</p><p>Although a &#X201C;log table&#X201D; is not as useful as it once was, it still makes a good example of iteration.
The following loop displays a table with a sequence of values in the left column and their logarithms in the right column:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> i = 1;
<span style="color:blue">while</span> (i &lt; 10) {
    <span style="color:blue">double</span> x = i;
    System.out.println(x + <span style="color:#B20000">"   "</span> + Math.log(x));
    i = i + 1;
}</td></tr>
</table><p>The output of this program is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">1.0   0.0
2.0   0.6931471805599453
3.0   1.0986122886681098
4.0   1.3862943611198906
5.0   1.6094379124341003
6.0   1.791759469228055
7.0   1.9459101490553132
8.0   2.0794415416798357
9.0   2.1972245773362196</td></tr>
</table><p><code>Math.log</code> computes natural logarithms, that is, logarithms base <span style="font-style:italic">e</span>.
For computer science applications, we often want logarithms with respect to base 2.
To compute them, we can apply this equation:
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell">log<sub>2</sub>&#XA0;<span style="font-style:italic">x</span>&#XA0;=&#XA0;</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center"><span style="font-style:italic">log</span><sub><span style="font-style:italic">e</span></sub>&#XA0;<span style="font-style:italic">x</span></td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">log</span><sub><span style="font-style:italic">e</span></sub>&#XA0;2</td></tr>
</table></td><td class="dcell">&#XA0;</td></tr>
</table><p>
We can modify the loop as follows:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> i = 1;
<span style="color:blue">while</span> (i &lt; 10) {
    <span style="color:blue">double</span> x = i;
    System.out.println(x + <span style="color:#B20000">"   "</span> + Math.log(x) / Math.log(2));
    i = i + 1;
}</td></tr>
</table><p>And here are the results:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">1.0   0.0
2.0   1.0
3.0   1.5849625007211563
4.0   2.0
5.0   2.321928094887362
6.0   2.584962500721156
7.0   2.807354922057604
8.0   3.0
9.0   3.1699250014423126</td></tr>
</table><p>Each time through the loop, we add one to <code>x</code>, so the result is an arithmetic sequence.
If we multiply <code>x</code> by something instead, we get a geometric sequence:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">final double</span> LOG2 = Math.log(2);
<span style="color:blue">int</span> i = 1;
<span style="color:blue">while</span> (i &lt; 100) {
    <span style="color:blue">double</span> x = i;
    System.out.println(x + <span style="color:#B20000">"   "</span> + Math.log(x) / LOG2);
    i = i * 2;
}</td></tr>
</table><p><a id="hevea_default365"></a></p><p>The first line stores <code>Math.log(2)</code> in a <code><span style="color:blue">final</span></code> variable to avoid computing that value over and over again.
The last line multiplies <code>x</code> by 2.
The result is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">1.0   0.0
2.0   1.0
4.0   2.0
8.0   3.0
16.0   4.0
32.0   5.0
64.0   6.0</td></tr>
</table><p>This table shows the powers of two and their logarithms, base 2.
Log tables may not be useful anymore, but for computer scientists, knowing the powers of two helps a lot!
</p>
<!--TOC section id="sec84" Encapsulation and generalization-->
<h2 id="sec84" class="section">7.3&#XA0;&#XA0;Encapsulation and generalization</h2><!--SEC END --><p>
<a id="encapsulation"></a></p><p><a id="hevea_default366"></a>
<a id="hevea_default367"></a></p><p>In Section&#XA0;<a href="#distance">6.2</a>, we presented a way of writing programs called incremental development.
In this section we present another <span style="font-weight:bold">program development</span> process called &#X201C;encapsulation and generalization&#X201D;.
The steps are:</p><ol class="enumerate" type=1><li class="li-enumerate">Write a few lines of code in <code>main</code> or another method, and test them.</li><li class="li-enumerate">When they are working, wrap them in a new method, and test again.</li><li class="li-enumerate">If it&#X2019;s appropriate, replace literal values with variables and parameters.</li></ol><p><a id="hevea_default368"></a>
<a id="hevea_default369"></a></p><p>The second step is called <span style="font-weight:bold">encapsulation</span>; the third step is <span style="font-weight:bold">generalization</span>.</p><p>To demonstrate this process, we&#X2019;ll develop methods that display multiplication tables.
Here is a loop that displays the multiples of two, all on one line:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> i = 1;
<span style="color:blue">while</span> (i &lt;= 6) {
    System.out.printf(<span style="color:#B20000">"%4d"</span>, 2 * i);
    i = i + 1;
}
System.out.println();</td></tr>
</table><p><a id="hevea_default370"></a>
<a id="hevea_default371"></a></p><p>The first line initializes a variable named <code>i</code>, which is going to act as a <span style="font-weight:bold">loop variable</span>: as the loop executes, the value of <code>i</code> increases from 1 to 6; when <code>i</code> is 7, the loop terminates.</p><p>Each time through the loop, we display the value <code>2&#XA0;*&#XA0;i</code> padded with spaces so it&#X2019;s four characters wide.
Since we use <code>System.out.printf</code>, the output appears on a single line.</p><p>After the loop, we call <code>println</code> to print a newline and complete the line.
Remember that in some environments, none of the output is displayed until the line is complete.</p><p>The output of the code so far is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">   2   4   6   8  10  12</td></tr>
</table><p>The next step is to &#X201C;encapsulate&#X201D; this code in a new method.
Here&#X2019;s what it looks like:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printRow() {
    <span style="color:blue">int</span> i = 1;
    <span style="color:blue">while</span> (i &lt;= 6) {
        System.out.printf(<span style="color:#B20000">"%4d"</span>, 2 * i);
        i = i + 1;
    }
    System.out.println();
}</td></tr>
</table><p><a id="hevea_default372"></a></p><p>Next we replace the constant value, <code>2</code>, with a parameter, <code>n</code>.
This step is called &#X201C;generalization&#X201D; because it makes the method more general (less specific).</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printRow(<span style="color:blue">int</span> n) {
    <span style="color:blue">int</span> i = 1;
    <span style="color:blue">while</span> (i &lt;= 6) {
        System.out.printf(<span style="color:#B20000">"%4d"</span>, n * i);
        i = i + 1;
    }
    System.out.println();
}</td></tr>
</table><p>Invoking this method with the argument 2 yields the same output as before.
With the argument 3, the output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">   3   6   9  12  15  18</td></tr>
</table><p>And with argument 4, the output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">   4   8  12  16  20  24</td></tr>
</table><p>By now you can probably guess how we are going to display a multiplication table: we&#X2019;ll invoke <code>printRow</code> repeatedly with different arguments.
In fact, we&#X2019;ll use another loop to iterate through the rows.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> i = 1;
<span style="color:blue">while</span> (i &lt;= 6) {
    printRow(i);
    i = i + 1;
}</td></tr>
</table><p>And the output looks like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">   1   2   3   4   5   6
   2   4   6   8  10  12
   3   6   9  12  15  18
   4   8  12  16  20  24
   5  10  15  20  25  30
   6  12  18  24  30  36</td></tr>
</table><p>The format specifier <code>\%4d</code> in <code>printRow</code> causes the output to align vertically, regardless of whether the numbers are one or two digits.</p><p>Finally, we encapsulate the second loop in a method:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printTable() {
    <span style="color:blue">int</span> i = 1;
    <span style="color:blue">while</span> (i &lt;= 6) {
        printRow(i);
        i = i + 1;
    }
}</td></tr>
</table><p>One of the challenges of programming, especially for beginners, is figuring out how to divide up a program into methods.
The process of encapsulation and generalization allows you to design as you go along.</p>
<!--TOC section id="sec85" More generalization-->
<h2 id="sec85" class="section">7.4&#XA0;&#XA0;More generalization</h2><!--SEC END --><p><a id="hevea_default373"></a></p><p>The previous version of <code>printTable</code> always displays six rows.
We can generalize it by replacing the literal <code>6</code> with a parameter:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printTable(<span style="color:blue">int</span> rows) {
    <span style="color:blue">int</span> i = 1;
    <span style="color:blue">while</span> (i &lt;= rows) {
        printRow(i);
        i = i + 1;
    }
}</td></tr>
</table><p>Here is the output with the argument 7:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">   1   2   3   4   5   6
   2   4   6   8  10  12
   3   6   9  12  15  18
   4   8  12  16  20  24
   5  10  15  20  25  30
   6  12  18  24  30  36
   7  14  21  28  35  42</td></tr>
</table><p>That&#X2019;s better, but it still has a problem: it always displays the same number of columns.
We can generalize more by adding a parameter to <code>printRow</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printRow(<span style="color:blue">int</span> n, <span style="color:blue">int</span> cols) {
    <span style="color:blue">int</span> i = 1;
    <span style="color:blue">while</span> (i &lt;= cols) {
        System.out.printf(<span style="color:#B20000">"%4d"</span>, n * i);
        i = i + 1;
    }
    System.out.println();
}</td></tr>
</table><p>Now <code>printRow</code> takes two parameters: <code>n</code> is the value whose multiples should be displayed, and <code>cols</code> is the number of columns.
Since we added a parameter to <code>printRow</code>, we also have to change the line in <code>printTable</code> where it is invoked:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printTable(<span style="color:blue">int</span> rows) {
    <span style="color:blue">int</span> i = 1;
    <span style="color:blue">while</span> (i &lt;= rows) {
        printRow(i, rows);
        i = i + 1;
    }
}</td></tr>
</table><p>When this line executes, it evaluates <code>rows</code> and passes the value, which is 7 in this example, as an argument.
In <code>printRow</code>, this value is assigned to <code>cols</code>.
As a result, the number of columns equals the number of rows, so we get a square 7x7 table:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">   1   2   3   4   5   6   7
   2   4   6   8  10  12  14
   3   6   9  12  15  18  21
   4   8  12  16  20  24  28
   5  10  15  20  25  30  35
   6  12  18  24  30  36  42
   7  14  21  28  35  42  49</td></tr>
</table><p>When you generalize a method appropriately, you often find that it has capabilities you did not plan.
For example, you might notice that the multiplication table is symmetric; since <span style="font-style:italic">ab</span> = <span style="font-style:italic">ba</span>, all the entries in the table appear twice.
You could save ink by printing half of the table, and you would only have to change one line of <code>printTable</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">printRow(i, i);</td></tr>
</table><p>In words, the length of each row is the same as its row number.
The result is a triangular multiplication table.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">   1
   2   4
   3   6   9
   4   8  12  16
   5  10  15  20  25
   6  12  18  24  30  36
   7  14  21  28  35  42  49</td></tr>
</table><p>Generalization makes code more versatile, more likely to be reused, and sometimes easier to write.</p>
<!--TOC section id="sec86" The for statement-->
<h2 id="sec86" class="section">7.5&#XA0;&#XA0;The for statement</h2><!--SEC END --><p>
<a id="for"></a></p><p><a id="hevea_default374"></a>
<a id="hevea_default375"></a>
<a id="hevea_default376"></a></p><p>The loops we have written so far have several elements in common.
They start by initializing a variable, they have a condition that depends on that variable, and inside the loop they do something to update that variable.
This type of loop is so common that there is another statement, the <code><span style="color:blue">for</span></code> loop, that expresses it more concisely.</p><p>For example, we could rewrite <code>printTable</code> like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printTable(<span style="color:blue">int</span> rows) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 1; i &lt;= rows; i = i + 1) {
        printRow(i, rows);
    }
}</td></tr>
</table><p><code><span style="color:blue">for</span></code> loops have three components in parentheses, separated by semicolons: the initializer, the condition, and the update.</p><ol class="enumerate" type=1><li class="li-enumerate">The <em>initializer</em> runs once at the very beginning of the loop.</li><li class="li-enumerate">The <em>condition</em> is checked each time through the loop.
If it is <code><span style="color:blue">false</span></code>, the loop ends.
Otherwise, the body of the loop is executed (again).</li><li class="li-enumerate">At the end of each iteration, the <em>update</em> runs, and we go back to step 2.</li></ol><p>The <code><span style="color:blue">for</span></code> loop is often easier to read because it puts all the loop-related statements at the top of the loop.</p><p>There is one difference between <code><span style="color:blue">for</span></code> loops and <code><span style="color:blue">while</span></code> loops: if you declare a variable in the initializer, it only exists inside the <code><span style="color:blue">for</span></code> loop.
For example, here is a version of <code>printRow</code> that uses a <code><span style="color:blue">for</span></code> loop:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printRow(<span style="color:blue">int</span> n, <span style="color:blue">int</span> cols) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 1; i &lt;= cols; i = i + 1) {
        System.out.printf(<span style="color:#B20000">"%4d"</span>, n * i);
    }
    System.out.println(i);  <span style="color:#007C00">// compiler error</span>
}</td></tr>
</table><p>The last line tries to display <code>i</code> (for no reason other than demonstration) but it won&#X2019;t work.
If you need to use a loop variable outside the loop, you have to declare it outside the loop, like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printRow(<span style="color:blue">int</span> n, <span style="color:blue">int</span> cols) {
    <span style="color:blue">int</span> i;
    <span style="color:blue">for</span> (i = 1; i &lt;= cols; i = i + 1) {
        System.out.printf(<span style="color:#B20000">"%4d"</span>, n * i);
    }
    System.out.println(i);
}</td></tr>
</table><p><a id="hevea_default377"></a>
<a id="hevea_default378"></a></p><p>Assignments like <code>i&#XA0;=&#XA0;i&#XA0;+&#XA0;1</code> don&#X2019;t often appear in <code><span style="color:blue">for</span></code> loops, because Java provides a more concise way to add and subtract by one.
Specifically, <code>++</code> is the <span style="font-weight:bold">increment</span> operator; it has the same effect as <code>i&#XA0;=&#XA0;i&#XA0;+&#XA0;1</code>.
And <code>--</code> is the <span style="font-weight:bold">decrement</span> operator; it has the same effect as <code>i&#XA0;=&#XA0;i&#XA0;-&#XA0;1</code>.</p><p>If you want to increment or decrement a variable by an amount other than <code>1</code>, you can use <code>+=</code> and <code>-=</code>.
For example, <code>i&#XA0;+=&#XA0;2</code> increments <code>i</code> by <code>2</code>.</p>
<!--TOC section id="sec87" The do-while loop-->
<h2 id="sec87" class="section">7.6&#XA0;&#XA0;The do-while loop</h2><!--SEC END --><p><a id="hevea_default379"></a></p><p>The <code><span style="color:blue">while</span></code> and <code><span style="color:blue">for</span></code> statements are <span style="font-weight:bold">pretest loops</span>; that is, they test the condition first and at the beginning of each pass through the loop.</p><p><a id="hevea_default380"></a>
<a id="hevea_default381"></a></p><p>Java also provides a <span style="font-weight:bold">posttest loop</span>: the <code><span style="color:blue">do</span></code>-<code><span style="color:blue">while</span></code> statement.
This type of loop is useful when you need to run the body of the loop at least once.</p><p>For example, in Section&#XA0;<a href="#validate">5.7</a> we used the <code><span style="color:blue">return</span></code> statement to avoid reading invalid input from the user.
We can use a <code><span style="color:blue">do</span></code>-<code><span style="color:blue">while</span></code> loop to keep reading input until it&#X2019;s valid:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Scanner in = <span style="color:blue">new</span> Scanner(System.in);
<span style="color:blue">boolean</span> okay;
<span style="color:blue">do</span> {
    System.out.print(<span style="color:#B20000">"Enter a number: "</span>);
    <span style="color:blue">if</span> (in.hasNextDouble()) {
        okay = <span style="color:blue">true</span>;
    } <span style="color:blue">else</span> {
        okay = <span style="color:blue">false</span>;
        String word = in.next();
        System.err.println(word + <span style="color:#B20000">" is not a number"</span>);
    }
} <span style="color:blue">while</span> (!okay);
<span style="color:blue">double</span> x = in.nextDouble();</td></tr>
</table><p>Although this code looks complicated, it is essentially only three steps:</p><ol class="enumerate" type=1><li class="li-enumerate">
Display a prompt.
</li><li class="li-enumerate">Check the input; if invalid, display an error and start over.
</li><li class="li-enumerate">Read the input.
</li></ol><p><a id="hevea_default382"></a></p><p>The code uses a flag variable, <code>okay</code>, to indicate whether we need to repeat the loop body.
If <code>hasNextDouble()</code> returns <code><span style="color:blue">false</span></code>, we consume the invalid input by calling <code>next()</code>.
We then display an error message via <code>System.err</code>.
The loop terminates when <code>hasNextDouble()</code> return <code><span style="color:blue">true</span></code>.</p>
<!--TOC section id="sec88" Break and continue-->
<h2 id="sec88" class="section">7.7&#XA0;&#XA0;Break and continue</h2><!--SEC END --><p>Sometimes neither a pretest nor a posttest loop will provide exactly what you need.
In the previous example, the &#X201C;test&#X201D; needed to happen in the middle of the loop.
As a result, we used a flag variable and a nested <code><span style="color:blue">if</span></code>-<code><span style="color:blue">else</span></code> statement.</p><p><a id="hevea_default383"></a></p><p>A simpler way to solve this problem is to use a <code><span style="color:blue">break</span></code> statement.
When a program reaches a <code><span style="color:blue">break</span></code> statement, it exits the current loop.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Scanner in = <span style="color:blue">new</span> Scanner(System.in);
<span style="color:blue">while</span> (<span style="color:blue">true</span>) {
    System.out.print(<span style="color:#B20000">"Enter a number: "</span>);
    <span style="color:blue">if</span> (in.hasNextDouble()) {
        <span style="color:blue">break</span>;
    }
    String word = in.next();
    System.err.println(word + <span style="color:#B20000">" is not a number"</span>);
}
<span style="color:blue">double</span> x = in.nextDouble();</td></tr>
</table><p>Using <code><span style="color:blue">true</span></code> as a conditional in a <code><span style="color:blue">while</span></code> loop is an idiom that means &#X201C;loop forever&#X201D;, or in this case &#X201C;loop until you get to a <code><span style="color:blue">break</span></code> statement.&#X201D;</p><p><a id="hevea_default384"></a></p><p>In addition to the <code><span style="color:blue">break</span></code> statement, which exits the loop, Java provides a <code><span style="color:blue">continue</span></code> statement that moves on to the next iteration.
For example, the following code reads integers from the keyboard and computes a running total.
The <code><span style="color:blue">continue</span></code> statement causes the program to skip over any negative values.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Scanner in = <span style="color:blue">new</span> Scanner(System.in);
<span style="color:blue">int</span> x = -1;
<span style="color:blue">int</span> sum = 0;
<span style="color:blue">while</span> (x != 0) {
    x = in.nextInt();
    <span style="color:blue">if</span> (x &lt;= 0) {
        <span style="color:blue">continue</span>;
    }
    System.out.println(<span style="color:#B20000">"Adding "</span> + x);
    sum += x;
}</td></tr>
</table><p>Although <code><span style="color:blue">break</span></code> and <code><span style="color:blue">continue</span></code> statements give you more control of the loop execution, they can make code difficult to understand and debug.
Use them sparingly.</p>
<!--TOC section id="sec89" Vocabulary-->
<h2 id="sec89" class="section">7.8&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">iteration:</span></dt><dd class="dd-description"><a id="hevea_default385"></a>
Executing a sequence of statements repeatedly.</dd><dt class="dt-description"><span style="font-weight:bold">loop:</span></dt><dd class="dd-description"><a id="hevea_default386"></a>
A statement that executes a sequence of statements repeatedly.</dd><dt class="dt-description"><span style="font-weight:bold">loop body:</span></dt><dd class="dd-description"><a id="hevea_default387"></a>
The statements inside the loop.</dd><dt class="dt-description"><span style="font-weight:bold">infinite loop:</span></dt><dd class="dd-description"><a id="hevea_default388"></a>
A loop whose condition is always true.</dd><dt class="dt-description"><span style="font-weight:bold">program development:</span></dt><dd class="dd-description"><a id="hevea_default389"></a>
A process for writing programs.
So far we have seen &#X201C;incremental development&#X201D; and &#X201C;encapsulation and generalization&#X201D;.</dd><dt class="dt-description"><span style="font-weight:bold">encapsulate:</span></dt><dd class="dd-description"><a id="hevea_default390"></a>
To wrap a sequence of statements in a method.</dd><dt class="dt-description"><span style="font-weight:bold">generalize:</span></dt><dd class="dd-description"><a id="hevea_default391"></a>
To replace something unnecessarily specific (like a constant value) with something appropriately general (like a variable or parameter).</dd><dt class="dt-description"><span style="font-weight:bold">loop variable:</span></dt><dd class="dd-description"><a id="hevea_default392"></a>
A variable that is initialized, tested, and updated in order to control a loop.</dd><dt class="dt-description"><span style="font-weight:bold">increment:</span></dt><dd class="dd-description"><a id="hevea_default393"></a>
Increase the value of a variable.</dd><dt class="dt-description"><span style="font-weight:bold">decrement:</span></dt><dd class="dd-description"><a id="hevea_default394"></a>
Decrease the value of a variable.</dd><dt class="dt-description"><span style="font-weight:bold">pretest loop:</span></dt><dd class="dd-description"><a id="hevea_default395"></a>
A loop that tests the condition before each iteration.</dd><dt class="dt-description"><span style="font-weight:bold">posttest loop:</span></dt><dd class="dd-description"><a id="hevea_default396"></a>
A loop that tests the condition after each iteration.</dd></dl>
<!--TOC section id="sec90" Exercises-->
<h2 id="sec90" class="section">7.9&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch07</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><p>If you have not already read Appendix&#XA0;<a href="#checkstyle">A.5</a>, now might be a good time.
It describes Checkstyle, a tool that analyzes many aspects of your source code.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>Consider the following methods:</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> main(String[] args) {
    loop(10);
}

<span style="color:blue">public static void</span> loop(<span style="color:blue">int</span> n) {
    <span style="color:blue">int</span> i = n;
    <span style="color:blue">while</span> (i &gt; 1) {
        System.out.println(i);
        <span style="color:blue">if</span> (i % 2 == 0) {
            i = i / 2;
        } <span style="color:blue">else</span> {
            i = i + 1;
        }
    }
}</em></td></tr>
</table><ol class="enumerate" type=1><li class="li-enumerate"><em>Draw a table that shows the value of the variables <code>i</code> and <code>n</code> during the execution of <code>loop</code>.
The table should contain one column for each variable and one line for each iteration.</em></li><li class="li-enumerate"><em>What is the output of this program?</em></li><li class="li-enumerate"><em>Can you prove that this loop terminates for any positive value of <code>n</code>?</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<p><em>Let&#X2019;s say you are given a number, </em><span style="font-style:italic">a</span><em>, and you want to find its square root.
One way to do that is to start with a rough guess about the answer, </em><span style="font-style:italic">x</span><sub>0</sub><em>, and then improve the guess using this formula:
</em></p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">x</span><sub>1</sub>&#XA0;=(<span style="font-style:italic">x</span><sub>0</sub>&#XA0;+&#XA0;<span style="font-style:italic">a</span>/<span style="font-style:italic">x</span><sub>0</sub>)&#XA0;/&#XA0;2&#XA0;</td></tr>
</table><p><em>
For example, if we want to find the square root of 9, and we start with </em><span style="font-style:italic">x</span><sub>0</sub> = 6<em>, then </em><span style="font-style:italic">x</span><sub>1</sub> = (6 + 9/6) / 2 = 3.75<em>, which is closer.
We can repeat the procedure, using </em><span style="font-style:italic">x</span><sub>1</sub><em> to calculate </em><span style="font-style:italic">x</span><sub>2</sub><em>, and so on.
In this case, </em><span style="font-style:italic">x</span><sub>2</sub> = 3.075<em> and </em><span style="font-style:italic">x</span><sub>3</sub> = 3.00091<em>.
So it converges quickly on the correct answer.</em></p><p><em>Write a method called <code>squareRoot</code> that takes a <span style="color:blue"><code>double</code></span> and returns an approximation of the square root of the parameter, using this technique.
You should not use <code>Math.sqrt</code>.</em></p><p><em>As your initial guess, you should use </em><span style="font-style:italic">a</span>/2<em>.
Your method should iterate until it gets two consecutive estimates that differ by less than 0.0001.
You can use <code>Math.abs</code> to calculate the absolute value of the difference.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<p><em>In Exercise&#XA0;</em><a href="#ex.power"><em>9</em></a><em> we wrote a recursive version of <code>power</code>, which takes a double <code>x</code> and an integer <code>n</code> and returns </em><span style="font-style:italic">x</span><sup><span style="font-style:italic">n</span></sup><em>.
Now write an iterative method to perform the same calculation.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;<p><em>Section&#XA0;</em><a href="#factorial"><em>6.7</em></a><em> presents a recursive method that computes the factorial function.
Write an iterative version of <code>factorial</code>.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;5</span>&#XA0;&#XA0;<p><em>One way to calculate </em><span style="font-style:italic">e</span><sup><span style="font-style:italic">x</span></sup><em> is to use the infinite series expansion:
</em></p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">e</span><sup><span style="font-style:italic">x</span></sup>&#XA0;=&#XA0;1&#XA0;+&#XA0;<span style="font-style:italic">x</span>&#XA0;+&#XA0;<span style="font-style:italic">x</span><sup>2</sup>&#XA0;/&#XA0;2!&#XA0;+&#XA0;<span style="font-style:italic">x</span><sup>3</sup>&#XA0;/&#XA0;3!&#XA0;+&#XA0;<span style="font-style:italic">x</span><sup>4</sup>&#XA0;/&#XA0;4!&#XA0;+&#XA0;&#X2026;&#XA0;</td></tr>
</table><p><em>
The </em><span style="font-style:italic">i</span><em>th term in the series is </em><span style="font-style:italic">x</span><sup><span style="font-style:italic">i</span></sup> / <span style="font-style:italic">i</span>!<em>.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a method called <code>myexp</code> that takes <code>x</code> and <code>n</code> as parameters and estimates </em><span style="font-style:italic">e</span><sup><span style="font-style:italic">x</span></sup><em> by adding the first <code>n</code> terms of this series.
You can use the <code>factorial</code> method from Section&#XA0;</em><a href="#factorial"><em>6.7</em></a><em> or your iterative version from the previous exercise.</em><p><a id="hevea_default397"></a></p></li><li class="li-enumerate"><em>You can make this method more efficient if you realize that the numerator of each term is the same as its predecessor multiplied by <code>x</code>, and the denominator is the same as its predecessor multiplied by <code>i</code>.
Use this observation to eliminate the use of <code>Math.pow</code> and <code>factorial</code>, and check that you get the same result.</em></li><li class="li-enumerate"><em>Write a method called <code>check</code> that takes a parameter, <code>x</code>, and displays <code>x</code>, <code>myexp(x)</code>, and <code>Math.exp(x)</code>.
The output should look something like:</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>1.0     2.708333333333333     2.718281828459045</em></td></tr>
</table><p><em>You can use the escape sequence <span style="color:#B20000"><code>"\\t"</code></span> to put a tab character between columns of a table.</em></p></li><li class="li-enumerate"><em>Vary the number of terms in the series (the second argument that <code>check</code> sends to <code>myexp</code>) and see the effect on the accuracy of the result.
Adjust this value until the estimated value agrees with the correct answer when <code>x</code> is 1.</em></li><li class="li-enumerate"><em>Write a loop in <code>main</code> that invokes <code>check</code> with the values 0.1, 1.0, 10.0, and 100.0.
How does the accuracy of the result vary as <code>x</code> varies?
Compare the number of digits of agreement rather than the difference between the actual and estimated values.</em></li><li class="li-enumerate"><em>Add a loop in <code>main</code> that checks <code>myexp</code> with the values -0.1, -1.0, -10.0, and -100.0.
Comment on the accuracy.</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;6</span>&#XA0;&#XA0;<p><em>One way to evaluate </em>exp(&#X2212;<span style="font-style:italic">x</span><sup>2</sup>)<em> is to use the infinite series expansion:
</em></p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell">exp(&#X2212;<span style="font-style:italic">x</span><sup>2</sup>)&#XA0;=&#XA0;1&#XA0;&#X2212;&#XA0;<span style="font-style:italic">x</span><sup>2</sup>&#XA0;+&#XA0;<span style="font-style:italic">x</span><sup>4</sup>/2&#XA0;&#X2212;&#XA0;<span style="font-style:italic">x</span><sup>6</sup>/6&#XA0;+&#XA0;&#X2026;&#XA0;</td></tr>
</table><p><em>
The </em><span style="font-style:italic">i</span><em>th term in this series is </em>(&#X2212;1)<sup><span style="font-style:italic">i</span></sup> <span style="font-style:italic">x</span><sup>2<span style="font-style:italic">i</span></sup> / <span style="font-style:italic">i</span>!<em>.
Write a method named <code>gauss</code> that takes <code>x</code> and <code>n</code> as arguments and returns the sum of the first <code>n</code> terms of the series.
You should not use <code>factorial</code> or <code>pow</code>.</em></p></div>
<!--TOC chapter id="sec91" Arrays-->
<h1 id="sec91" class="chapter">Chapter&#XA0;8&#XA0;&#XA0;Arrays</h1><!--SEC END --><p>
<a id="arrays"></a></p><p>Up to this point, the only variables we have used were for individual values such as numbers or strings.
In this chapter, we&#X2019;ll learn how to store multiple values of the same type using a single variable.
This language feature will enable you to write programs that manipulate larger amounts of data.</p>
<!--TOC section id="sec92" Creating arrays-->
<h2 id="sec92" class="section">8.1&#XA0;&#XA0;Creating arrays</h2><!--SEC END --><p><a id="hevea_default398"></a>
<a id="hevea_default399"></a></p><p>An <span style="font-weight:bold">array</span> is a sequence of values; the values in the array are called <span style="font-weight:bold">elements</span>.
You can make an array of <code><span style="color:blue">int</span></code>s, <code><span style="color:blue">double</span></code>s, or any other type, but all the values in an array must have the same type.</p><p><a id="hevea_default400"></a></p><p>To create an array, you have to declare a variable with an <em>array type</em> and then create the array itself.
Array types look like other Java types, except they are followed by square brackets (<code>[]</code>).
For example, the following lines declare that <code>counts</code> is an &#X201C;integer array&#X201D; and <code>values</code> is a &#X201C;double array&#X201D;:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span>[] counts;
<span style="color:blue">double</span>[] values;</td></tr>
</table><p><a id="hevea_default401"></a>
<a id="hevea_default402"></a></p><p>To create the array itself, you have to use the <code><span style="color:blue">new</span></code> operator, which we first saw in Section&#XA0;<a href="#scanner">3.2</a>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">counts = <span style="color:blue">new int</span>[4];
values = <span style="color:blue">new double</span>[size];</td></tr>
</table><p>The first assignment makes <code>count</code> refer to an array of four integers.
The second makes <code>values</code> refer to an array of <code><span style="color:blue">double</span></code>, where the number of elements in <code>values</code> depends on the value of <code>size</code>.</p><p>Of course, you can also declare the variable and create the array in a single line of code:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span>[] counts = <span style="color:blue">new int</span>[4];
<span style="color:blue">double</span>[] values = <span style="color:blue">new double</span>[size];</td></tr>
</table><p><a id="hevea_default403"></a>
<a id="hevea_default404"></a></p><p>You can use any integer expression for the size of an array, as long as the value is nonnegative.
If you try to create an array with &#X2212;4 elements, for example, you will get a <code>NegativeArraySizeException</code>.
An array with zero elements is allowed, and there are special uses for such arrays that we&#X2019;ll see later on.</p>
<!--TOC section id="sec93" Accessing elements-->
<h2 id="sec93" class="section">8.2&#XA0;&#XA0;Accessing elements</h2><!--SEC END --><p>
<a id="elements"></a></p><p><a id="hevea_default405"></a>
<a id="hevea_default406"></a></p><p>When you create an array of <code><span style="color:blue">int</span></code>s, the elements are initialized to zero.
Figure&#XA0;<a href="#fig.array">8.1</a> shows a state diagram of the <code>counts</code> array so far.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6013.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 8.1: State diagram of an <code><span style="color:blue">int</span></code> array.</td></tr>
</table></div>
<a id="fig.array"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default407"></a></p><p>The arrow indicates that the value of <code>counts</code> is a <span style="font-weight:bold">reference</span> to the array.
You should think of <em>the array</em> and <em>the variable</em> that refers to it as two different things.
As we&#X2019;ll soon see, we can assign a different variable to refer to the same array, and we can change the value of <code>counts</code> to refer to a different array.</p><p><a id="hevea_default408"></a>
<a id="hevea_default409"></a>
<a id="hevea_default410"></a>
<a id="hevea_default411"></a></p><p>The large numbers inside the boxes are the elements of the array.
The small numbers outside the boxes are the <span style="font-weight:bold">indexes</span> (or indices) used to identify each location in the array.
Notice that the index of the first element is 0, not 1, as you might have expected.</p><p>The <code>[]</code> operator selects elements from an array:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(<span style="color:#B20000">"The zeroth element is "</span> + counts[0]);</td></tr>
</table><p>You can use the <code>[]</code> operator anywhere in an expression:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">counts[0] = 7;
counts[1] = counts[0] * 2;
counts[2]++;
counts[3] -= 60;</td></tr>
</table><p>Figure&#XA0;<a href="#fig.array2">8.2</a> shows the result of these statements.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6014.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 8.2: State diagram after several assignment statements.</td></tr>
</table></div>
<a id="fig.array2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>You can use any expression as an index, as long as it has type <code><span style="color:blue">int</span></code>.
One of the most common ways to index an array is with a loop variable.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> i = 0;
<span style="color:blue">while</span> (i &lt; 4) {
    System.out.println(counts[i]);
    i++;
}</td></tr>
</table><p>This <code><span style="color:blue">while</span></code> loop counts from 0 up to 4.
When <code>i</code> is 4, the condition fails and the loop terminates.
So the body of the loop is only executed when <code>i</code> is 0, 1, 2, and 3.</p><p><a id="hevea_default412"></a>
<a id="hevea_default413"></a></p><p>Each time through the loop we use <code>i</code> as an index into the array, displaying the <code>i</code>th element.
This type of array processing is often written using a <code><span style="color:blue">for</span></code> loop.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; 4; i++) {
    System.out.println(counts[i]);
}</td></tr>
</table><p><a id="hevea_default414"></a>
<a id="hevea_default415"></a></p><p>For the <code>counts</code> array, the only legal indexes are 0, 1, 2, and 3.
If the index is negative or greater than 3, the result is an <code>ArrayIndexOutOfBoundsException</code>.</p>
<!--TOC section id="sec94" Displaying arrays-->
<h2 id="sec94" class="section">8.3&#XA0;&#XA0;Displaying arrays</h2><!--SEC END --><p>
<a id="printarray"></a></p><p>You can use <code>println</code> to display an array, but it probably doesn&#X2019;t do what you would like.
For example, the following fragment (1) declares an array variable, (2) makes it refer to an array of four elements, and (3) attempts to display the contents of the array using <code>println</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span>[] a = {1, 2, 3, 4};
System.out.println(a);</td></tr>
</table><p>Unfortunately, the output is something like:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">[I@bf3f7e0</td></tr>
</table><p>The bracket indicates that the value is an array, <code>I</code> stands for &#X201C;integer&#X201D;, and the rest represents the address of the array.
If we want to display the elements of the array, we can do it ourselves:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printArray(<span style="color:blue">int</span>[] a) {
    System.out.print(<span style="color:#B20000">"{"</span> + a[0]);
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 1; i &lt; a.length; i++) {
        System.out.print(<span style="color:#B20000">", "</span> + a[i]);
    }
    System.out.println(<span style="color:#B20000">"}"</span>);
}</td></tr>
</table><p>Given the previous array, the output of this method is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">{1, 2, 3, 4}</td></tr>
</table><p><a id="hevea_default416"></a>
<a id="hevea_default417"></a></p><p>The Java library provides a utility class <code>java.util.Arrays</code> that provides methods for working with arrays.
One of them, <code>toString</code>, returns a string representation of an array.
We can invoke it like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(Arrays.toString(a));</td></tr>
</table><p>And the output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">[1, 2, 3, 4]</td></tr>
</table><p>As usual, we have to import <code>java.util.Arrays</code> before we can use it.
Notice that the string format is slightly different: it uses square brackets instead of curly braces.
But it beats having to write the <code>printArray</code> method.</p>
<!--TOC section id="sec95" Copying arrays-->
<h2 id="sec95" class="section">8.4&#XA0;&#XA0;Copying arrays</h2><!--SEC END --><p>
<a id="copyarray"></a></p><p><a id="hevea_default418"></a></p><p>As explained in Section&#XA0;<a href="#elements">8.2</a>, array variables contain <em>references</em> to arrays.
When you make an assignment to an array variable, it simply copies the reference.
But it doesn&#X2019;t copy the array itself!
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span>[] a = <span style="color:blue">new double</span>[3];
<span style="color:blue">double</span>[] b = a;</td></tr>
</table><p>These statements create an array of three <code><span style="color:blue">double</span></code>s and make two different variables refer to it, as shown in Figure&#XA0;<a href="#fig.array3">8.3</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6015.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 8.3: State diagram showing two variables that refer to the same array.</td></tr>
</table></div>
<a id="fig.array3"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default419"></a></p><p>Any changes made through either variable will be seen by the other.
For example, if we set <code>a[0]&#XA0;=&#XA0;17.0</code>, and then display <code>b[0]</code>, the result is <span style="font-family:monospace">17.0</span>.
Because <code>a</code> and <code>b</code> are different names for the same thing, they are sometimes called <span style="font-weight:bold">aliases</span>.</p><p>If you actually want to copy the array, not just a reference, you have to create a new array and copy the elements from the old to the new, like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span>[] b = <span style="color:blue">new double</span>[3];
<span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; 3; i++) {
    b[i] = a[i];
}</td></tr>
</table><p><a id="hevea_default420"></a></p><p>Another option is to use <code>java.util.Arrays</code>, which provides a method named <code>copyOf</code> that copies an array.
You can invoke it like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span>[] b = Arrays.copyOf(a, 3);</td></tr>
</table><p>The second parameter is the number of elements you want to copy, so you can also use <code>copyOf</code> to copy just part of an array.</p>
<!--TOC section id="sec96" Array length-->
<h2 id="sec96" class="section">8.5&#XA0;&#XA0;Array length</h2><!--SEC END --><p><a id="hevea_default421"></a>
<a id="hevea_default422"></a></p><p>The examples in the previous section only work if the array has three elements.
It would be better to generalize the code to work with arrays of any size.
We can do that by replacing the magic number, <code>3</code>, with <code>a.length</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span>[] b = <span style="color:blue">new double</span>[a.length];
<span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; a.length; i++) {
    b[i] = a[i];
}</td></tr>
</table><p>All arrays have a built-in constant, <code>length</code>, that stores the number of elements.
The expression <code>a.length</code> may look like a method invocation, but there are no parentheses and no arguments.
</p><p>The last time this loop gets executed, <code>i</code> is <code>a.length&#XA0;-&#XA0;1</code>, which is the index of the last element.
When <code>i</code> is equal to <code>a.length</code>, the condition fails and the body is not executed &#X2013; which is a good thing, because trying to access <code>a[a.length]</code> would throw an exception.</p><p>You can also use <code>a.length</code> with <code>Arrays.copyOf</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span>[] b = Arrays.copyOf(a, a.length);</td></tr>
</table>
<!--TOC section id="sec97" Array traversal-->
<h2 id="sec97" class="section">8.6&#XA0;&#XA0;Array traversal</h2><!--SEC END --><p>
<a id="traversal"></a></p><p>Many computations can be implemented by looping through the elements of an array and performing an operation on each element.
For example, the following loop squares the elements of a <code><span style="color:blue">double</span></code> array:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; a.length; i++) {
    a[i] = Math.pow(a[i], 2.0);
}</td></tr>
</table><p><a id="hevea_default423"></a>
<a id="hevea_default424"></a></p><p>Looping through the elements of an array is called a <span style="font-weight:bold">traversal</span>.
Another common pattern is a <span style="font-weight:bold">search</span>, which involves traversing an array looking for a particular element.
For example, the following method takes an <code><span style="color:blue">int</span></code> array and an integer value, and it returns the index where the value appears:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> search(<span style="color:blue">double</span>[] a, <span style="color:blue">double</span> target) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; a.length; i++) {
        <span style="color:blue">if</span> (a[i] == target) {
            <span style="color:blue">return</span> i;
        }
    }
    <span style="color:blue">return</span> -1;
}</td></tr>
</table><p>If we find the target value in the array, we return its index immediately.
If the loop exits without finding the target, it returns <code>-1</code>, a special value chosen to indicate a failed search.</p><p><a id="hevea_default425"></a></p><p>Another common traversal is a <span style="font-weight:bold">reduce</span> operation, which &#X201C;reduces&#X201D; an array of values down to a single value.
Examples include the sum or product of the elements, the minimum, and the maximum.
The following method takes a <code><span style="color:blue">double</span></code> array and returns the sum of the elements:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> sum(<span style="color:blue">double</span>[] a) {
    <span style="color:blue">double</span> total = 0.0;
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; a.length; i++) {
        total += a[i];
    }
    <span style="color:blue">return</span> total;
}</td></tr>
</table><p><a id="hevea_default426"></a></p><p>Before the loop, we initialize <code>total</code> to zero.
Each time through the loop, we update <code>total</code> by adding one element from the array.
At the end of the loop, <code>total</code> contains the sum of the elements.
A variable used this way is sometimes called an <span style="font-weight:bold">accumulator</span>.</p>
<!--TOC section id="sec98" Random numbers-->
<h2 id="sec98" class="section">8.7&#XA0;&#XA0;Random numbers</h2><!--SEC END --><p>
<a id="random"></a></p><p><a id="hevea_default427"></a></p><p>Most computer programs do the same thing every time they run; programs like that are <span style="font-weight:bold">deterministic</span>.
Usually determinism is a good thing, since we expect the same calculation to yield the same result.
But for some applications, we want the computer to be unpredictable.
Games are an obvious example, but there are many others.</p><p><a id="hevea_default428"></a>
<a id="hevea_default429"></a></p><p>Making a program <span style="font-weight:bold">nondeterministic</span> turns out to be hard, because it&#X2019;s hard for a computer to generate truly random numbers.
But there are algorithms that generate unpredictable sequences called <span style="font-weight:bold">pseudorandom</span> numbers.
For most applications, they are as good as random.</p><p><a id="hevea_default430"></a>
<a id="hevea_default431"></a></p><p>If you did Exercise&#XA0;<a href="#guess">4</a>, you have already seen <code>java.util.Random</code>, which generates pseudorandom numbers.
The method <code>nextInt</code> takes an integer argument, <code>n</code>, and returns a random integer between <code>0</code> and <code>n&#XA0;-&#XA0;1</code> (inclusive).</p><p>If you generate a long series of random numbers, every value should appear, at least approximately, the same number of times.
One way to test this behavior of <code>nextInt</code> is to generate a large number of values, store them in an array, and count the number of times each value occurs.</p><p>The following method creates an <code><span style="color:blue">int</span></code> array and fills it with random numbers between 0 and 99.
The argument specifies the size of the array, and the return value is a reference to the new array.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span>[] randomArray(<span style="color:blue">int</span> size) {
    Random random = <span style="color:blue">new</span> Random();
    <span style="color:blue">int</span>[] a = <span style="color:blue">new int</span>[size];
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; a.length; i++) {
        a[i] = random.nextInt(100);
    }
    <span style="color:blue">return</span> a;
}</td></tr>
</table><p>The following fragment generates an array and displays it using <code>printArray</code> from Section&#XA0;<a href="#printarray">8.3</a>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> numValues = 8;
<span style="color:blue">int</span>[] array = randomArray(numValues);
printArray(array);</td></tr>
</table><p>The output looks like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">{15, 62, 46, 74, 67, 52, 51, 10}</td></tr>
</table><p>If you run it, you will probably get different values.</p>
<!--TOC section id="sec99" Traverse and count-->
<h2 id="sec99" class="section">8.8&#XA0;&#XA0;Traverse and count</h2><!--SEC END --><p><a id="hevea_default432"></a>
<a id="hevea_default433"></a></p><p>If these values were exam scores &#X2013; and they would be pretty bad exam scores &#X2013; the teacher might present them to the class in the form of a <span style="font-weight:bold">histogram</span>.
In statistics, a histogram is a set of counters that keeps track of the number of times each value appears.</p><p>For exam scores, we might have ten counters to keep track of how many students scored in the 90s, the 80s, etc.
To do that, we can traverse the array and count the number of elements that fall in a given range.</p><p>The following method takes an array and two integers, <code>low</code> and <code>high</code>.
It returns the number of elements that fall in the range from <code>low</code> to <code>high</code>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> inRange(<span style="color:blue">int</span>[] a, <span style="color:blue">int</span> low, <span style="color:blue">int</span> high) {
    <span style="color:blue">int</span> count = 0;
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; a.length; i++) {
        <span style="color:blue">if</span> (a[i] &gt;= low &amp;&amp; a[i] &lt; high) {
            count++;
        }
    }
    <span style="color:blue">return</span> count;
}</td></tr>
</table><p><a id="hevea_default434"></a></p><p>This pattern should look familiar: it is another reduce operation.
Notice that <code>low</code> is included in the range (<code>&gt;=</code>), but <code>high</code> is excluded (<code>&lt;</code>).
This detail keeps us from counting any scores twice.</p><p>Now we can count the number of scores in each grade range:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span>[] scores = randomArray(30);
<span style="color:blue">int</span> a = inRange(scores, 90, 100);
<span style="color:blue">int</span> b = inRange(scores, 80, 90);
<span style="color:blue">int</span> c = inRange(scores, 70, 80);
<span style="color:blue">int</span> d = inRange(scores, 60, 70);
<span style="color:blue">int</span> f = inRange(scores, 0, 60);</td></tr>
</table>
<!--TOC section id="sec100" Building a histogram-->
<h2 id="sec100" class="section">8.9&#XA0;&#XA0;Building a histogram</h2><!--SEC END --><p>The previous code is repetitious, but it is acceptable as long as the number of ranges is small.
But suppose we wanted to keep track of the number of times each score appears.
We would have to write 100 lines of code:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> count0 = inRange(scores, 0, 1);
<span style="color:blue">int</span> count1 = inRange(scores, 1, 2);
<span style="color:blue">int</span> count2 = inRange(scores, 2, 3);
...
<span style="color:blue">int</span> count99 = inRange(scores, 99, 100);</td></tr>
</table><p>What we need is a way to store 100 counters, preferably so we can use an index to access them.
In other words, we need another array!</p><p>The following fragment creates an array of 100 counters, one for each possible score.
It loops through the scores and uses <code>inRange</code> to count how many times each score appears.
Then it stores the results in the array:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span>[] counts = <span style="color:blue">new int</span>[100];
<span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; counts.length; i++) {
    counts[i] = inRange(scores, i, i + 1);
}</td></tr>
</table><p>Notice that we are using the loop variable <code>i</code> three times: as an index into the <code>counts</code> array, and as two arguments for <code>inRange</code>.
The code works, but it is not as efficient as it could be.
Every time the loop invokes <code>inRange</code>, it traverses the entire array.</p><p><a id="hevea_default435"></a></p><p>It would be better to make a single pass through the array, and for each score, compute which range it falls in and increment the corresponding counter.
This code traverses the array of scores <em>only once</em> to generate the histogram:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span>[] counts = <span style="color:blue">new int</span>[100];
<span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; scores.length; i++) {
    <span style="color:blue">int</span> index = scores[i];
    counts[index]++;
}</td></tr>
</table><p>Each time through the loop, it selects one element from <code>scores</code> and uses it as an index to increment the corresponding element of <code>counts</code>.
Because this code only traverses the array of scores once, it is much more efficient.</p>
<!--TOC section id="sec101" The enhanced for loop-->
<h2 id="sec101" class="section">8.10&#XA0;&#XA0;The enhanced for loop</h2><!--SEC END --><p>
<a id="enhanced"></a></p><p>Since traversing arrays is so common, Java provides an alternative syntax that makes the code more compact.
For example, consider a <code><span style="color:blue">for</span></code> loop that displays the elements of an array on separate lines:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; values.length; i++) {
    <span style="color:blue">int</span> value = values[i];
    System.out.println(value);
}</td></tr>
</table><p>We could rewrite the loop like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">for</span> (<span style="color:blue">int</span> value : values) {
    System.out.println(value);
}</td></tr>
</table><p><a id="hevea_default436"></a></p><p>This statement is called an <span style="font-weight:bold">enhanced for loop</span>.
You can read it as, &#X201C;for each <code>value</code> in <code>values</code>&#X201D;.
It&#X2019;s conventional to use plural nouns for array variables and singular nouns for element variables.</p><p>Notice how the single line <code><span style="color:blue">for</span>&#XA0;(<span style="color:blue">int</span>&#XA0;value&#XA0;:&#XA0;values)</code> replaces the first two lines of the standard <code><span style="color:blue">for</span></code> loop.
It hides the details of iterating each index of the array, and instead, focuses on the values themselves.</p><p>Using the enhanced <code><span style="color:blue">for</span></code> loop, and removing the temporary variable, we can write the histogram code from the previous section more concisely:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span>[] counts = <span style="color:blue">new int</span>[100];
<span style="color:blue">for</span> (<span style="color:blue">int</span> score : scores) {
    counts[score]++;
}</td></tr>
</table><p>Enhanced <code><span style="color:blue">for</span></code> loops often make the code more readable, especially for accumulating values.
But they are not helpful when you need to refer to the index, as in search operations.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">for</span> (<span style="color:blue">double</span> d : array) {
    <span style="color:blue">if</span> (d == target) {
        <span style="color:#007C00">// array contains d, but we don't know the index</span>
    }
}</td></tr>
</table>
<!--TOC section id="sec102" Vocabulary-->
<h2 id="sec102" class="section">8.11&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">array:</span></dt><dd class="dd-description"><a id="hevea_default437"></a>
A collection of values, where all the values have the same type, and each value is identified by an index.</dd><dt class="dt-description"><span style="font-weight:bold">element:</span></dt><dd class="dd-description"><a id="hevea_default438"></a>
One of the values in an array.
The <code>[]</code> operator selects elements.</dd><dt class="dt-description"><span style="font-weight:bold">index:</span></dt><dd class="dd-description"><a id="hevea_default439"></a>
An integer variable or value used to indicate an element of an array.</dd><dt class="dt-description"><span style="font-weight:bold">reference:</span></dt><dd class="dd-description"><a id="hevea_default440"></a>
A value that indicates another value, like an array.
In a state diagram, a reference appears as an arrow.</dd><dt class="dt-description"><span style="font-weight:bold">alias:</span></dt><dd class="dd-description"><a id="hevea_default441"></a>
A variable that refers to the same object as another variable.</dd><dt class="dt-description"><span style="font-weight:bold">traversal:</span></dt><dd class="dd-description"><a id="hevea_default442"></a>
Looping through the elements of an array (or other collection).</dd><dt class="dt-description"><span style="font-weight:bold">search:</span></dt><dd class="dd-description"><a id="hevea_default443"></a>
A traversal pattern used to find a particular element of an array.</dd><dt class="dt-description"><span style="font-weight:bold">reduce:</span></dt><dd class="dd-description"><a id="hevea_default444"></a>
A traversal pattern that combines the elements of an array into a single value.</dd><dt class="dt-description"><span style="font-weight:bold">accumulator:</span></dt><dd class="dd-description"><a id="hevea_default445"></a>
A variable used to accumulate results during a traversal.</dd><dt class="dt-description"><span style="font-weight:bold">deterministic:</span></dt><dd class="dd-description"><a id="hevea_default446"></a>
A program that does the same thing every time it is invoked.</dd><dt class="dt-description"><span style="font-weight:bold">nondeterministic:</span></dt><dd class="dd-description"><a id="hevea_default447"></a>
A program that always behaves differently, even when run multiple times with the same input.</dd><dt class="dt-description"><span style="font-weight:bold">pseudorandom:</span></dt><dd class="dd-description"><a id="hevea_default448"></a>
A sequence of numbers that appear to be random, but which are actually the product of a deterministic computation.</dd><dt class="dt-description"><span style="font-weight:bold">histogram:</span></dt><dd class="dd-description"><a id="hevea_default449"></a>
An array of integers where each integer counts the number of values that fall into a certain range.</dd><dt class="dt-description"><span style="font-weight:bold">enhanced for loop:</span></dt><dd class="dd-description"><a id="hevea_default450"></a>
An alternative syntax for traversing the elements (values) of an array.</dd></dl>
<!--TOC section id="sec103" Exercises-->
<h2 id="sec103" class="section">8.12&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch08</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<em>
The goal of this exercise is to practice encapsulation with some of the examples in this chapter.</em><ol class="enumerate" type=1><li class="li-enumerate"><em>Starting with the code in Section&#XA0;</em><a href="#traversal"><em>8.6</em></a><em>, write a method called <code>powArray</code> that takes a <span style="color:blue"><code>double</code></span> array, <code>a</code>, and returns a new array that contains the elements of <code>a</code> squared.
Generalize it to take a second argument and raise the elements of <code>a</code> to the given power.</em></li><li class="li-enumerate"><em>Starting with the code in Section&#XA0;</em><a href="#enhanced"><em>8.10</em></a><em>, write a method called <code>histogram</code> that takes an <span style="color:blue"><code>int</code></span> array of scores from 0 to (but not including) 100, and returns a histogram of 100 counters.
Generalize it to take the number of counters as an argument.</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
The purpose of this exercise is to practice reading code and recognizing the traversal patterns in this chapter.
The following methods are hard to read, because instead of using meaningful names for the variables and methods, they use names of fruit.</em><p><em>For each method, write one sentence that describes what the method does, without getting into the details of how it works.
For each variable, identify the role it plays.</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static int</span> banana(<span style="color:blue">int</span>[] a) {
    <span style="color:blue">int</span> kiwi = 1;
    <span style="color:blue">int</span> i = 0;
    <span style="color:blue">while</span> (i &lt; a.length) {
        kiwi = kiwi * a[i];
        i++;
    }
    <span style="color:blue">return</span> kiwi;
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static int</span> grapefruit(<span style="color:blue">int</span>[] a, <span style="color:blue">int</span> grape) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; a.length; i++) {
        <span style="color:blue">if</span> (a[i] == grape) {
            <span style="color:blue">return</span> i;
        }
    }
    <span style="color:blue">return</span> -1;
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static int</span> pineapple(<span style="color:blue">int</span>[] a, <span style="color:blue">int</span> apple) {
    <span style="color:blue">int</span> pear = 0;
    <span style="color:blue">for</span> (<span style="color:blue">int</span> pine: a) {
        <span style="color:blue">if</span> (pine == apple) {
            pear++;
        }
    }
    <span style="color:blue">return</span> pear;
}</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<em>
What is the output of the following program?
Describe in a few words what <code>mus</code> does.
Draw a stack diagram just before <code>mus</code> returns.
</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static int</span>[] make(<span style="color:blue">int</span> n) {
    <span style="color:blue">int</span>[] a = <span style="color:blue">new int</span>[n];
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; n; i++) {
        a[i] = i + 1;
    }
    <span style="color:blue">return</span> a;
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> dub(<span style="color:blue">int</span>[] jub) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; jub.length; i++) {
        jub[i] *= 2;
    }
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static int</span> mus(<span style="color:blue">int</span>[] zoo) {
    <span style="color:blue">int</span> fus = 0;
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; zoo.length; i++) {
        fus += zoo[i];
    }
    <span style="color:blue">return</span> fus;
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> main(String[] args) {
    <span style="color:blue">int</span>[] bob = make(5);
    dub(bob);
    System.out.println(mus(bob));
}</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;<em>
Write a method called <code>indexOfMax</code> that takes an array of integers and returns the index of the largest element.
Can you write this method using an enhanced <span style="color:blue"><code>for</code></span> loop?
Why or why not?
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;5</span>&#XA0;&#XA0;<em>
The Sieve of Eratosthenes is &#X201C;a simple, ancient algorithm for finding all prime numbers up to any given limit,&#X201D; which you can read about at </em><a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes"><em><span style="font-family:monospace">https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes</span></em></a><em>.</em><p><em>Write a method called <code>sieve</code> that takes an integer parameter, <code>n</code>, and returns a <span style="color:blue"><code>boolean</code></span> array that indicates, for each number from <code>0</code> to <code>n&#XA0;-&#XA0;1</code>, whether the number is prime.
</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;6</span>&#XA0;&#XA0;<em>
Write a method named <code>areFactors</code> that takes an integer <code>n</code> and an array of integers, and that returns <span style="color:blue"><code>true</code></span> if the numbers in the array are all factors of <code>n</code> (which is to say that <code>n</code> is divisible by all of them).
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;7</span>&#XA0;&#XA0;<em>
Write a method named <code>arePrimeFactors</code> that takes an integer <code>n</code> and an array of integers, and that returns <span style="color:blue"><code>true</code></span> if the numbers in the array are all prime </em>and<em> their product is <code>n</code>.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;8</span>&#XA0;&#XA0;<em>
Many of the patterns we have seen for traversing arrays can also be written recursively.
It is not common, but it is a useful exercise.</em><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a method called <code>maxInRange</code> that takes an array of integers and two indexes, <code>lowIndex</code> and <code>highIndex</code>, and finds the maximum value in the array, but only considering the elements between <code>lowIndex</code> and <code>highIndex</code>, including both.</em><p><em>This method should be recursive.
If the length of the range is 1, that is, if <code>lowIndex&#XA0;==&#XA0;highIndex</code>, we know immediately that the sole element in the range must be the maximum.
So that&#X2019;s the base case.</em></p><p><em>If there is more than one element in the range, we can break the array into two pieces, find the maximum in each of the pieces, and then find the maximum of the maxima.</em></p></li><li class="li-enumerate"><em>Methods like <code>maxInRange</code> can be awkward to use.
To find the largest element in an array, we have to provide the range for the entire array.</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">double</span> max = maxInRange(a, 0, a.length - 1);</em></td></tr>
</table><p><em>Write a method called <code>max</code> that takes an array and uses <code>maxInRange</code> to find and return the largest element.</em></p></li></ol></div>
<!--TOC chapter id="sec104" Strings and things-->
<h1 id="sec104" class="chapter">Chapter&#XA0;9&#XA0;&#XA0;Strings and things</h1><!--SEC END --><p>
<a id="strings"></a></p><p><a id="hevea_default451"></a>
<a id="hevea_default452"></a>
<a id="hevea_default453"></a></p><p>In Java and other object-oriented languages, an <span style="font-weight:bold">object</span> is a collection of data that provides a set of methods.
For example, <code>Scanner</code>, which we saw in Section&#XA0;<a href="#scanner">3.2</a>, is an object that provides methods for parsing input.
<code>System.out</code> and <code>System.in</code> are also objects.</p><p>Strings are objects, too.
They contain characters and provide methods for manipulating character data.
We explore some of those methods in this chapter.</p><p><a id="hevea_default454"></a></p><p>Not everything in Java is an object: <code><span style="color:blue">int</span></code>, <code><span style="color:blue">double</span></code>, and <code><span style="color:blue">boolean</span></code> are so-called <span style="font-weight:bold">primitive</span> types.
We will explain some of the differences between object types and primitive types as we go along.</p>
<!--TOC section id="sec105" Characters-->
<h2 id="sec105" class="section">9.1&#XA0;&#XA0;Characters</h2><!--SEC END --><p><a id="hevea_default455"></a>
<a id="hevea_default456"></a>
<a id="hevea_default457"></a></p><p>Strings provide a method named <code>charAt</code>, which extracts a character.
It returns a <code><span style="color:blue">char</span></code>, a primitive type that stores an individual character (as opposed to strings of them).</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String fruit = <span style="color:#B20000">"banana"</span>;
<span style="color:blue">char</span> letter = fruit.charAt(0);</td></tr>
</table><p>The argument <code>0</code> means that we want the letter at position 0.
Like array indexes, string indexes start at 0, so the character assigned to <code>letter</code> is <code>b</code>.</p><p>Characters work like the other primitive types we have seen.
You can compare them using relational operators:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (letter == <span style="color:#B20000">'a'</span>) {
    System.out.println(<span style="color:#B20000">'?'</span>);
}</td></tr>
</table><p><a id="hevea_default458"></a>
<a id="hevea_default459"></a></p><p>Character literals, like <span style="color:#B20000"><code>'a'</code></span>, appear in single quotes.
Unlike string literals, which appear in double quotes, character literals can only contain a single character.
Escape sequences, like <span style="color:#B20000"><code>'\\t'</code></span>, are legal because they represent a single character.</p><p>The increment and decrement operators work with characters.
So this loop displays the letters of the alphabet:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"Roman alphabet: "</span>);
<span style="color:blue">for</span> (<span style="color:blue">char</span> c = <span style="color:#B20000">'A'</span>; c &lt;= <span style="color:#B20000">'Z'</span>; c++) {
    System.out.print(c);
}
System.out.println();</td></tr>
</table><p><a id="hevea_default460"></a></p><p>Java uses <span style="font-weight:bold">Unicode</span> to represent characters, so strings can store text in other alphabets like Cyrillic and Greek, and non-alphabetic languages like Chinese.
You can read more about it at <a href="http://unicode.org/"><span style="font-family:monospace">http://unicode.org/</span></a>.</p><p>In Unicode, each character is represented by a &#X201C;code unit&#X201D;, which you can think of as an integer.
The code units for uppercase Greek letters run from 913 to 937, so we can display the Greek alphabet like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.print(<span style="color:#B20000">"Greek alphabet: "</span>);
<span style="color:blue">for</span> (<span style="color:blue">int</span> i = 913; i &lt;= 937; i++) {
    System.out.print((<span style="color:blue">char</span>) i);
}
System.out.println();</td></tr>
</table><p>This example uses a type cast to convert each integer (in the range) to the corresponding character.</p>
<!--TOC section id="sec106" Strings are immutable-->
<h2 id="sec106" class="section">9.2&#XA0;&#XA0;Strings are immutable</h2><!--SEC END --><p>
<a id="immutable"></a></p><p><a id="hevea_default461"></a>
<a id="hevea_default462"></a>
<a id="hevea_default463"></a></p><p>Strings provide methods, <code>toUpperCase</code> and <code>toLowerCase</code>, that convert from uppercase to lowercase and back.
These methods are often a source of confusion, because it sounds like they modify strings.
But neither these methods nor any others can change a string, because strings are <span style="font-weight:bold">immutable</span>.</p><p>When you invoke <code>toUpperCase</code> on a string, you get a new string object as a return value.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String name = <span style="color:#B20000">"Alan Turing"</span>;
String upperName = name.toUpperCase();</td></tr>
</table><p><a id="hevea_default464"></a></p><p>After these statements run, <code>upperName</code> refers to the string <span style="color:#B20000"><code>"ALAN&#XA0;TURING"</code></span>.
But <code>name</code> still refers to <span style="color:#B20000"><code>"Alan&#XA0;Turing"</code></span>.</p><p><a id="hevea_default465"></a></p><p>Another useful method is <code>replace</code>, which finds and replaces instances of one string within another.
This example replaces <span style="color:#B20000"><code>"Computer&#XA0;Science"</code></span> with <span style="color:#B20000"><code>"CS"</code></span>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String text = <span style="color:#B20000">"Computer Science is fun!"</span>;
text = text.replace(<span style="color:#B20000">"Computer Science"</span>, <span style="color:#B20000">"CS"</span>);</td></tr>
</table><p>This example demonstrates a common way to work with string methods.
It invokes <code>text.replace</code>, which returns a reference to a new string, <span style="color:#B20000"><code>"CS&#XA0;is&#XA0;fun!"</code></span>.
Then it assigns the new string to <code>text</code>, replacing the old string.</p><p>This assignment is important; if you don&#X2019;t save the return value, invoking <code>text.replace</code> has no effect.</p>
<!--TOC section id="sec107" String traversal-->
<h2 id="sec107" class="section">9.3&#XA0;&#XA0;String traversal</h2><!--SEC END --><p>
<a id="stringtraverse"></a></p><p><a id="hevea_default466"></a></p><p>The following loop traverses the characters in <code>fruit</code> and displays them, one on each line:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; fruit.length(); i++) {
    <span style="color:blue">char</span> letter = fruit.charAt(i);
    System.out.println(letter);
}</td></tr>
</table><p><a id="hevea_default467"></a>
<a id="hevea_default468"></a></p><p>Strings provide a method called <code>length</code> that returns the number of characters in the string.
Because it is a method, you have to invoke it with the empty argument list, <code>()</code>.
</p><p><a id="hevea_default469"></a>
<a id="hevea_default470"></a></p><p>The condition is <code>i&#XA0;&lt;&#XA0;fruit.length()</code>, which means that when <code>i</code> is equal to the length of the string, the condition is <code><span style="color:blue">false</span></code> and the loop terminates.</p><p><a id="hevea_default471"></a></p><p>Unfortunately, the enhanced <code><span style="color:blue">for</span></code> loop does not work with strings.
But you can convert any string to a character array and iterate that:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">for</span> (<span style="color:blue">char</span> letter : fruit.toCharArray()) {
    System.out.println(letter);
}</td></tr>
</table><p>To find the last letter of a string, you might be tempted to try something like:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> length = fruit.length();
<span style="color:blue">char</span> last = fruit.charAt(length);      <span style="color:#007C00">// wrong!</span></td></tr>
</table><p><a id="hevea_default472"></a>
<a id="hevea_default473"></a></p><p>This code compiles and runs, but invoking the <code>charAt</code> method throws a <code>StringIndexOutOfBoundsException</code>.
The problem is that there is no sixth letter in <span style="color:#B20000"><code>"banana"</code></span>.
Since we started counting at 0, the 6 letters are indexed from 0 to 5.
To get the last character, you have to subtract 1 from <code>length</code>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> length = fruit.length();
<span style="color:blue">char</span> last = fruit.charAt(length - 1);  <span style="color:#007C00">// correct</span></td></tr>
</table><p>Many string traversals involve reading one string and creating another.
For example, to reverse a string, we simply add one character at a time:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static</span> String reverse(String s) {
    String r = <span style="color:#B20000">""</span>;
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = s.length() - 1; i &gt;= 0; i--) {
        r = r + s.charAt(i);
    }
    <span style="color:blue">return</span> r;
}</td></tr>
</table><p><a id="hevea_default474"></a></p><p>The initial value of <code>r</code> is <span style="color:#B20000"><code>""</code></span>, which is the <span style="font-weight:bold">empty string</span>.
The loop traverses the letters of <code>s</code> in reverse order.
Each time through the loop, it creates a new string and assigns it to <code>r</code>.
When the loop exits, <code>r</code> contains the letters from <code>s</code> in reverse order.
So the result of <code>reverse(<span style="color:#B20000">"banana"</span>)</code> is <span style="color:#B20000"><code>"ananab"</code></span>.</p>
<!--TOC section id="sec108" Substrings-->
<h2 id="sec108" class="section">9.4&#XA0;&#XA0;Substrings</h2><!--SEC END --><p>The <code>substring</code> method returns a new string that copies letters from an existing string, starting at the given index.</p><ul class="itemize"><li class="li-itemize">
<code>fruit.substring(0)</code> returns <span style="color:#B20000"><code>"banana"</code></span>
</li><li class="li-itemize"><code>fruit.substring(2)</code> returns <span style="color:#B20000"><code>"nana"</code></span>
</li><li class="li-itemize"><code>fruit.substring(6)</code> returns <span style="color:#B20000"><code>""</code></span>
</li></ul><p>The first example returns a copy of the entire string.
The second example returns all but the first two characters.
As the last example shows, <code>substring</code> returns the empty string if the argument is the length of the string.</p><p>To visualize how the <code>substring</code> method works, it helps to draw a picture like Figure&#XA0;<a href="#fig.banana">9.1</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6016.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 9.1: State diagram for a <code>String</code> of six characters.</td></tr>
</table></div>
<a id="fig.banana"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>Like most string methods, <code>substring</code> is overloaded.
That is, there are other versions of <code>substring</code> that have different parameters.
If it&#X2019;s invoked with two arguments, they are treated as a start and end index:</p><ul class="itemize"><li class="li-itemize">
<code>fruit.substring(0,&#XA0;3)</code> returns <span style="color:#B20000"><code>"ban"</code></span>
</li><li class="li-itemize"><code>fruit.substring(2,&#XA0;5)</code> returns <span style="color:#B20000"><code>"nan"</code></span>
</li><li class="li-itemize"><code>fruit.substring(6,&#XA0;6)</code> returns <span style="color:#B20000"><code>""</code></span>
</li></ul><p>Notice that the character indicated by the end index is not included.
Defining <code>substring</code> this way simplifies some common operations.
For example, to select a substring with length <code>len</code>, starting at index <code>i</code>, you could write <code>fruit.substring(i,&#XA0;i&#XA0;+&#XA0;len)</code>.</p>
<!--TOC section id="sec109" The indexOf method-->
<h2 id="sec109" class="section">9.5&#XA0;&#XA0;The indexOf method</h2><!--SEC END --><p><a id="hevea_default475"></a></p><p>The <code>indexOf</code> method searches for a character in a string.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String fruit = <span style="color:#B20000">"banana"</span>;
<span style="color:blue">int</span> index = fruit.indexOf(<span style="color:#B20000">'a'</span>);</td></tr>
</table><p>This example finds the index of <span style="color:#B20000"><code>'a'</code></span> in the string.
But the letter appears three times, so it&#X2019;s not obvious what <code>indexOf</code> should do.
According to the documentation, it returns the index of the <em>first</em> appearance.</p><p>To find subsequent appearances, you can use another version of <code>indexOf</code>, which takes a second argument that indicates where in the string to start looking.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> index = fruit.indexOf(<span style="color:#B20000">'a'</span>, 2);</td></tr>
</table><p>This code starts at index 2 (the first <span style="color:#B20000"><code>'n'</code></span>) and finds the next <span style="color:#B20000"><code>'a'</code></span>, which is at index 3.
If the letter happens to appear at the starting index, the starting index is the answer.
So <code>fruit.indexOf(<span style="color:#B20000">'a'</span>,&#XA0;5)</code> returns <code>5</code>.</p><p>If the character does not appear in the string, <code>indexOf</code> returns <code>-1</code>.
Since indexes cannot be negative, this value indicates the character was not found.</p><p>You can also use <code>indexOf</code> to search for a substring, not just a single character.
For example, the expression <code>fruit.indexOf(<span style="color:#B20000">"nan"</span>)</code> returns <code>2</code>.</p>
<!--TOC section id="sec110" String comparison-->
<h2 id="sec110" class="section">9.6&#XA0;&#XA0;String comparison</h2><!--SEC END --><p>
<a id="strcmp"></a></p><p><a id="hevea_default476"></a>
<a id="hevea_default477"></a></p><p>To compare two strings, it may be tempting to use the <code>==</code> and <code>!=</code> operators.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String name1 = <span style="color:#B20000">"Alan Turing"</span>;
String name2 = <span style="color:#B20000">"Ada Lovelace"</span>;
<span style="color:blue">if</span> (name1 == name2) {                 <span style="color:#007C00">// wrong!</span>
    System.out.println(<span style="color:#B20000">"The names are the same."</span>);
}</td></tr>
</table><p>This code compiles and runs, and most of the time it gets the answer right.
But it is not correct, and sometimes it gets the answer wrong.
The problem is that the <code>==</code> operator checks whether the two variables refer to the same object (by comparing the references).
If you give it two different strings that contain the same letters, it yields <code><span style="color:blue">false</span></code>.</p><p>The right way to compare strings is with the <code>equals</code> method, like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (name1.equals(name2)) {
    System.out.println(<span style="color:#B20000">"The names are the same."</span>);
}</td></tr>
</table><p>This example invokes <code>equals</code> on <code>name1</code> and passes <code>name2</code> as an argument.
The <code>equals</code> method returns <code><span style="color:blue">true</span></code> if the strings contain the same characters; otherwise it returns <code><span style="color:blue">false</span></code>.</p><p>If the strings differ, we can use <code>compareTo</code> to see which comes first in alphabetical order:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> diff = name1.compareTo(name2);
<span style="color:blue">if</span> (diff == 0) {
    System.out.println(<span style="color:#B20000">"The names are the same."</span>);
} <span style="color:blue">else if</span> (diff &lt; 0) {
    System.out.println(<span style="color:#B20000">"name1 comes before name2."</span>);
} <span style="color:blue">else if</span> (diff &gt; 0) {
    System.out.println(<span style="color:#B20000">"name2 comes before name1."</span>);
}</td></tr>
</table><p>The return value from <code>compareTo</code> is the difference between the first characters in the strings that differ.
If the strings are equal, their difference is zero.
If the first string (the one on which the method is invoked) comes first in the alphabet, the difference is negative.
Otherwise, the difference is positive.</p><p>In the preceding code, <code>compareTo</code> returns positive 8, because the second letter of <span style="color:#B20000"><code>"Ada"</code></span> comes before the second letter of <span style="color:#B20000"><code>"Alan"</code></span> by 8 letters.</p><p><a id="hevea_default478"></a></p><p>Both <code>equals</code> and <code>compareTo</code> are case-sensitive.
The uppercase letters come before the lowercase letters, so <span style="color:#B20000"><code>"Ada"</code></span> comes before <span style="color:#B20000"><code>"ada"</code></span>.</p>
<!--TOC section id="sec111" String formatting-->
<h2 id="sec111" class="section">9.7&#XA0;&#XA0;String formatting</h2><!--SEC END --><p><a id="hevea_default479"></a>
<a id="hevea_default480"></a></p><p>In Section&#XA0;<a href="#printf">3.6</a>, we learned how to use <code>printf</code> to display formatted output.
Sometimes programs need to create strings that are formatted a certain way, but not display them immediately, or ever.
For example, the following method returns a time string in 12-hour format:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static</span> String timeString(<span style="color:blue">int</span> hour, <span style="color:blue">int</span> minute) {
    String ampm;
    <span style="color:blue">if</span> (hour &lt; 12) {
        ampm = <span style="color:#B20000">"AM"</span>;
        <span style="color:blue">if</span> (hour == 0) {
            hour = 12;  <span style="color:#007C00">// midnight</span>
        }
    } <span style="color:blue">else</span> {
        ampm = <span style="color:#B20000">"PM"</span>;
        hour = hour - 12;
    }
    <span style="color:blue">return</span> String.format(<span style="color:#B20000">"%02d:%02d %s"</span>, hour, minute, ampm);
}</td></tr>
</table><p><a id="hevea_default481"></a></p><p><code>String.format</code> takes the same arguments as <code>System.out.printf</code>: a format specifier followed by a sequence of values.
The main difference is that <code>System.out.printf</code> displays the result on the screen; <code>String.format</code> creates a new string, but does not display anything.</p><p>In this example, the format specifier <code>\%02d</code> means &#X201C;two digit integer padded with zeros&#X201D;, so <code>timeString(19,&#XA0;5)</code> returns the string <span style="color:#B20000"><code>"07:05&#XA0;PM"</code></span>.</p>
<!--TOC section id="sec112" Wrapper classes-->
<h2 id="sec112" class="section">9.8&#XA0;&#XA0;Wrapper classes</h2><!--SEC END --><p>
<a id="wrappers"></a></p><p>Primitive values (like <code><span style="color:blue">int</span></code>s, <code><span style="color:blue">double</span></code>s, and <code><span style="color:blue">char</span></code>s) do not provide methods.
For example, you can&#X2019;t call <code>equals</code> on an <code><span style="color:blue">int</span></code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> i = 5;
System.out.println(i.equals(5));  <span style="color:#007C00">// compiler error</span></td></tr>
</table><p><a id="hevea_default482"></a>
<a id="hevea_default483"></a>
<a id="hevea_default484"></a>
<a id="hevea_default485"></a></p><p>But for each primitive type, there is a corresponding class in the Java library, called a <span style="font-weight:bold">wrapper class</span>.
The wrapper class for <code><span style="color:blue">char</span></code> is called <code>Character</code>; for <code><span style="color:blue">int</span></code> it&#X2019;s called <code>Integer</code>.
Other wrapper classes include <code>Boolean</code>, <code>Long</code>, and <code>Double</code>.
They are in the <code>java.lang</code> package, so you can use them without importing them.</p><p>Each wrapper class defines constants <code>MIN_VALUE</code> and <code>MAX_VALUE</code>.
For example, <code>Integer.MIN_VALUE</code> is <code>-2147483648</code>, and <code>Integer.MAX_VALUE</code> is <code>2147483647</code>.
Because these constants are available in wrapper classes, you don&#X2019;t have to remember them, and you don&#X2019;t have to include them in your programs.</p><p>Wrapper classes provide methods for converting strings to other types.
For example, <code>Integer.parseInt</code> converts a string to (you guessed it) an integer:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String str = <span style="color:#B20000">"12345"</span>;
<span style="color:blue">int</span> num = Integer.parseInt(str);</td></tr>
</table><p><a id="hevea_default486"></a></p><p>In this context, <span style="font-weight:bold">parse</span> means something like &#X201C;read and translate&#X201D;.</p><p>The other wrapper classes provide similar methods, like <code>Double.parseDouble</code> and <code>Boolean.parseBoolean</code>.
They also provide <code>toString</code>, which returns a string representation of a value:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> num = 12345;
String str = Integer.toString(num);</td></tr>
</table><p>The result is the string <span style="color:#B20000"><code>"12345"</code></span>.</p>
<!--TOC section id="sec113" Command-line arguments-->
<h2 id="sec113" class="section">9.9&#XA0;&#XA0;Command-line arguments</h2><!--SEC END --><p>Now that you know about arrays and strings, we can <em>finally</em> explain the <code>args</code> parameter for <code>main</code> that we have been ignoring since Chapter&#XA0;<a href="#theway">1</a>.
If you are unfamiliar with the command-line interface, please read or review Appendix&#XA0;<a href="#commandline">A.3</a>.</p><p>Continuing an earlier example, let&#X2019;s write a program to find the largest value in a sequence of numbers.
Rather than read the numbers from <code>System.in</code>, we&#X2019;ll pass them as command-line arguments.
Here is a starting point:</p><p><script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/java#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script><iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen></iframe><!--
[[[[ Max.java ]]]]
public class Max {
    public static void main(String[] args) {
        System.out.println(Arrays.toString(args));
    }
}
--></p><p>You can run this program from the command line by typing:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">java Max</td></tr>
</table><p><a id="hevea_default487"></a></p><p>The output indicates that <code>args</code> is an <span style="font-weight:bold">empty array</span>; that is, it has no elements:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">[]</td></tr>
</table><p>But if you provide additional values on the command line, they are passed as arguments to <code>main</code>.
For example, if you run it like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">java Max 10 -3 55 0 14</td></tr>
</table><p>The output is:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">[10, -3, 55, 0, 14]</td></tr>
</table><p>But remember that the elements of <code>args</code> are strings.
To find the maximum number, we have to convert the arguments to integers.</p><p>The following fragment uses an enhanced <code><span style="color:blue">for</span></code> loop to parse the arguments (using the <code>Integer</code> wrapper class) and find the largest value:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> max = Integer.MIN_VALUE;
<span style="color:blue">for</span> (String arg : args) {
    <span style="color:blue">int</span> value = Integer.parseInt(arg);
    <span style="color:blue">if</span> (value &gt; max) {
        max = value;
    }
}
System.out.println(<span style="color:#B20000">"The max is "</span> + max);</td></tr>
</table><p>The initial value of <code>max</code> is the smallest (most negative) number an <code><span style="color:blue">int</span></code> can represent, so any other value is greater.
If <code>args</code> is empty, the result is <code>MIN_VALUE</code>.</p>
<!--TOC section id="sec114" Vocabulary-->
<h2 id="sec114" class="section">9.10&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">object:</span></dt><dd class="dd-description"><a id="hevea_default488"></a>
A collection of related data that comes with a set of methods that operate on it.</dd><dt class="dt-description"><span style="font-weight:bold">primitive:</span></dt><dd class="dd-description"><a id="hevea_default489"></a>
A data type that stores a single value and provides no methods.</dd><dt class="dt-description"><span style="font-weight:bold">Unicode:</span></dt><dd class="dd-description"><a id="hevea_default490"></a>
A standard for representing characters in most of the world&#X2019;s languages.</dd><dt class="dt-description"><span style="font-weight:bold">immutable:</span></dt><dd class="dd-description"><a id="hevea_default491"></a>
An object that, once created, cannot be modified.
Strings are immutable by design.</dd><dt class="dt-description"><span style="font-weight:bold">empty string:</span></dt><dd class="dd-description"><a id="hevea_default492"></a>
The string <span style="color:#B20000"><code>""</code></span>, which contains no characters and has a length of zero.</dd><dt class="dt-description"><span style="font-weight:bold">wrapper class:</span></dt><dd class="dd-description"><a id="hevea_default493"></a>
Classes in <code>java.lang</code> that provide constants and methods for working with primitive types.</dd><dt class="dt-description"><span style="font-weight:bold">parse:</span></dt><dd class="dd-description"><a id="hevea_default494"></a>
To read a string and interpret or translate it.</dd><dt class="dt-description"><span style="font-weight:bold">empty array:</span></dt><dd class="dd-description"><a id="hevea_default495"></a>
An array with no elements and a length of zero.</dd></dl>
<!--TOC section id="sec115" Exercises-->
<h2 id="sec115" class="section">9.11&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch09</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>The point of this exercise is to explore Java types and fill in some of the details that aren&#X2019;t covered in the chapter.</em></p><p><a id="hevea_default496"></a></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Create a new program named <span style="font-family:monospace">Test.java</span> and write a <code>main</code> method that contains expressions that combine various types using the <code>+</code> operator.
For example, what happens when you &#X201C;add&#X201D; a <code>String</code> and a <span style="color:blue"><code>char</code></span>?
Does it perform character addition or string concatenation?
What is the type of the result?
(How can you determine the type of the result?)</em></li><li class="li-enumerate"><em>Make a bigger copy of the following table and fill it in.
At the intersection of each pair of types, you should indicate whether it is legal to use the <code>+</code> operator with these types, what operation is performed (addition or concatenation), and what the type of the result is.</em><div class="center">
<table border=1  style="border-spacing:0;" class="cellpadding1"><tr><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>boolean</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>&#XA0;char&#XA0;</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>&#XA0;&#XA0;int&#XA0;&#XA0;</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>double</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>String </em></td></tr>
<tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>boolean</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td></tr>
<tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>char</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td></tr>
<tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>int</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td></tr>
<tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>double</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td></tr>
<tr><td style="text-align:left;border:solid 1px;white-space:nowrap" ><em>String</em></td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td><td style="text-align:left;border:solid 1px;white-space:nowrap" >&nbsp;</td></tr>
</table>
</div></li><li class="li-enumerate"><em>Think about some of the choices the designers of Java made when they filled in this table.
How many of the entries seem unavoidable, as if there was no other choice?
How many seem like arbitrary choices from several equally reasonable possibilities?
Which entries seem most problematic?</em></li><li class="li-enumerate"><em>Here&#X2019;s a puzzler: normally, the statement <code>x++</code> is exactly equivalent to <code>x&#XA0;=&#XA0;x&#XA0;+&#XA0;1</code>.
But if <code>x</code> is a <span style="color:blue"><code>char</code></span>, it&#X2019;s not exactly the same!
In that case, <code>x++</code> is legal, but <code>x&#XA0;=&#XA0;x&#XA0;+&#XA0;1</code> causes an error.
Try it out and see what the error message is, then see if you can figure out what is going on.</em></li><li class="li-enumerate"><em>What happens when you add <span style="color:#B20000"><code>""</code></span> (the empty string) to the other types, for example, <code><span style="color:#B20000">""</span>&#XA0;+&#XA0;5</code>?</em></li><li class="li-enumerate"><em>For each data type, what types of values can you assign to it?
For example, you can assign an <span style="color:blue"><code>int</code></span> to a <span style="color:blue"><code>double</code></span> but not vice versa.</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
Write a method called <code>letterHist</code> that takes a string as a parameter and returns a histogram of the letters in the string.
The zeroth element of the histogram should contain the number of a&#X2019;s in the string (upper- and lowercase); the 25th element should contain the number of z&#X2019;s.
Your solution should only traverse the string once.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<p><a id="hevea_default497"></a>
<a id="hevea_default498"></a></p><p><em>The purpose of this exercise is to review encapsulation and generalization (see Section&#XA0;</em><a href="#encapsulation"><em>7.3</em></a><em>).
The following code fragment traverses a string and checks whether it has the same number of open and close parentheses:</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>String s = <span style="color:#B20000">"((3 + 7) * 2)"</span>;
<span style="color:blue">int</span> count = 0;

<span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; s.length(); i++) {
    <span style="color:blue">char</span> c = s.charAt(i);
    <span style="color:blue">if</span> (c == <span style="color:#B20000">'('</span>) {
        count++;
    } <span style="color:blue">else if</span> (c == <span style="color:#B20000">')'</span>) {
        count--;
    }
}

System.out.println(count);</em></td></tr>
</table><ol class="enumerate" type=1><li class="li-enumerate"><em>Encapsulate this fragment in a method that takes a string argument and returns the final value of <code>count</code>.</em></li><li class="li-enumerate"><em>Now that you have generalized the code so that it works on any string, what could you do to generalize it more?</em></li><li class="li-enumerate"><em>Test your method with multiple strings, including some that are balanced and some that are not.</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;<p><em>Create a program called <span style="font-family:monospace">Recurse.java</span> and type in the following methods:</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:#007C00">/**
 * Returns the first character of the given String.
 */</span>
<span style="color:blue">public static char</span> first(String s) {
    <span style="color:blue">return</span> s.charAt(0);
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:#007C00">/**
 * Returns all but the first letter of the given String.
 */</span>
<span style="color:blue">public static</span> String rest(String s) {
    <span style="color:blue">return</span> s.substring(1);
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:#007C00">/**
 * Returns all but the first and last letter of the String.
 */</span>
<span style="color:blue">public static</span> String middle(String s) {
    <span style="color:blue">return</span> s.substring(1, s.length() - 1);
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:#007C00">/**
 * Returns the length of the given String.
 */</span>
<span style="color:blue">public static int</span> length(String s) {
    <span style="color:blue">return</span> s.length();
}</em></td></tr>
</table><ol class="enumerate" type=1><li class="li-enumerate"><em>Write some code in <code>main</code> that tests each of these methods.
Make sure they work, and you understand what they do.</em></li><li class="li-enumerate"><em>Using these methods, and without using any other <code>String</code> methods, write a method called <code>printString</code> that takes a string as a parameter and that displays the letters of the string, one on each line.
It should be a void method.</em></li><li class="li-enumerate"><em>Again using only these methods, write a method called <code>printBackward</code> that does the same thing as <code>printString</code> but that displays the string backward (again, one character per line).</em></li><li class="li-enumerate"><em>Now write a method called <code>reverseString</code> that takes a string as a parameter and that returns a new string as a return value.
The new string should contain the same letters as the parameter, but in reverse order.</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>String backwards = reverseString(<span style="color:#B20000">"coffee"</span>);
System.out.println(backwards);</em></td></tr>
</table><p><em>The output of this example code should be:</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>eeffoc</em></td></tr>
</table><p><a id="hevea_default499"></a></p></li><li class="li-enumerate"><em>A palindrome is a word that reads the same both forward and backward, like &#X201C;otto&#X201D; and &#X201C;palindromeemordnilap&#X201D;.
Here&#X2019;s one way to test whether a string is a palindrome:</em><blockquote class="quotation"><em>
A single letter is a palindrome, a two-letter word is a palindrome if the letters are the same, and any other word is a palindrome if the first letter is the same as the last and the middle is a palindrome.
</em></blockquote><p><em>Write a recursive method named <code>isPalindrome</code> that takes a <code>String</code> and returns a <span style="color:blue"><code>boolean</code></span> indicating whether the word is a palindrome.</em></p></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;5</span>&#XA0;&#XA0;
<a id="abecedarian"></a>
<a id="hevea_default500"></a><p><em>A word is said to be &#X201C;abecedarian&#X201D; if the letters in the word appear in alphabetical order.
For example, the following are all six-letter English abecedarian words:</em></p><blockquote class="quote"><em>
abdest, acknow, acorsy, adempt, adipsy, agnosy, befist, behint, beknow, bijoux, biopsy, cestuy, chintz, deflux, dehors, dehort, deinos, diluvy, dimpsy </em></blockquote><p><em>Write a method called <code>isAbecedarian</code> that takes a <code>String</code> and returns a <span style="color:blue"><code>boolean</code></span> indicating whether the word is abecedarian.
Your method can be iterative or recursive.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;6</span>&#XA0;&#XA0;
<a id="hevea_default501"></a><p><em>A word is said to be a &#X201C;doubloon&#X201D; if every letter that appears in the word appears exactly twice.
Here are some example doubloons found in the dictionary:</em></p><blockquote class="quote"><em>
Abba, Anna, appall, appearer, appeases, arraigning, beriberi, bilabial, boob, Caucasus, coco, Dada, deed, Emmett, Hannah, horseshoer, intestines, Isis, mama, Mimi, murmur, noon, Otto, papa, peep, reappear, redder, sees, Shanghaiings, Toto
</em></blockquote><p><em>Write a method called <code>isDoubloon</code> that takes a string and checks whether it is a doubloon.
To ignore case, invoke the <code>toLowerCase</code> method before checking.
</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;7</span>&#XA0;&#XA0;
<a id="hevea_default502"></a><p><em>Two words are anagrams if they contain the same letters and the same number of each letter.
For example, &#X201C;stop&#X201D; is an anagram of &#X201C;pots&#X201D; and &#X201C;allen downey&#X201D; is an anagram of &#X201C;well annoyed&#X201D;.</em></p><p><em>Write a method that takes two strings and checks whether they are anagrams of each other.
</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;8</span>&#XA0;&#XA0;
<a id="hevea_default503"></a><p><em>In Scrabble</em><sup><a id="text1" href="#note1"><em>1</em></a></sup><em> each player has a set of tiles with letters on them.
The object of the game is to use those letters to spell words.
The scoring system is complex, but longer words are usually worth more than shorter words.</em></p><p><em>Imagine you are given your set of tiles as a string, like <span style="color:#B20000"><code>"quijibo"</code></span>, and you are given another string to test, like <span style="color:#B20000"><code>"jib"</code></span>.</em></p><p><em>Write a method called <code>canSpell</code> that takes two strings and checks whether the set of tiles can spell the word.
You might have more than one tile with the same letter, but you can only use each tile once.</em></p></div>
<!--BEGIN NOTES chapter-->
<hr class="footnoterule"><dl class="thefootnotes"><dt class="dt-thefootnotes">
<a id="note1" href="#text1">1</a></dt><dd class="dd-thefootnotes"><div class="footnotetext">Scrabble is a registered trademark owned in the USA and Canada by Hasbro Inc., and in the rest of the world by J. W. Spear &amp; Sons Limited of Maidenhead, Berkshire, England, a subsidiary of Mattel Inc.</div>
</dd></dl>
<!--END NOTES-->
<!--TOC chapter id="sec116" Objects-->
<h1 id="sec116" class="chapter">Chapter&#XA0;10&#XA0;&#XA0;Objects</h1><!--SEC END --><p>
<a id="objects"></a></p><p><a id="hevea_default504"></a>
<a id="hevea_default505"></a></p><p>As we learned in the previous chapter, an object is a collection of data that provides a set of methods.
For example, a <code>String</code> is a collection of characters that provides methods like <code>charAt</code> and <code>substring</code>.</p><p><a id="hevea_default506"></a></p><p>Java is an &#X201C;object-oriented&#X201D; language, which means that it uses objects to represent data <em>and</em> provide methods related to them.
This way of organizing programs is a powerful design concept, and we will introduce it a little at a time throughout the remainder of the book.</p><p>In this chapter, we introduce two new types of objects: <code>Point</code> and <code>Rectangle</code>.
We show how to write methods that take objects as parameters and produce objects as return values.
We also take a look at the source code for the Java library.</p>
<!--TOC section id="sec117" Point objects-->
<h2 id="sec117" class="section">10.1&#XA0;&#XA0;Point objects</h2><!--SEC END --><p>
<a id="point"></a></p><p><a id="hevea_default507"></a>
<a id="hevea_default508"></a>
<a id="hevea_default509"></a>
<a id="hevea_default510"></a></p><p>The <code>java.awt</code> package provides a class named <code>Point</code> intended to represent the coordinates of a location in a Cartesian plane.
In mathematical notation, points are often written in parentheses with a comma separating the coordinates.
For example, (0,0) indicates the origin, and (<span style="font-style:italic">x</span>,<span style="font-style:italic">y</span>) indicates the point <span style="font-style:italic">x</span> units to the right and <span style="font-style:italic">y</span> units up from the origin.</p><p>In order to use the <code>Point</code> class, you have to import it:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">import</span> java.awt.Point;</td></tr>
</table><p><a id="hevea_default511"></a>
<a id="hevea_default512"></a></p><p>Then, to create a new point, you have to use the <code><span style="color:blue">new</span></code> operator:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Point blank;
blank = <span style="color:blue">new</span> Point(3, 4);</td></tr>
</table><p><a id="hevea_default513"></a>
<a id="hevea_default514"></a></p><p>The first line declares that <code>blank</code> has type <code>Point</code>.
The second line creates the new <code>Point</code> with the given arguments as coordinates.</p><p><a id="hevea_default515"></a></p><p>The result of the <code><span style="color:blue">new</span></code> operator is a <em>reference</em> to the new object.
So <code>blank</code> contains a reference to the new <code>Point</code> object.
Figure&#XA0;<a href="#fig.reference">10.1</a> shows the result.</p><p><a id="hevea_default516"></a>
<a id="hevea_default517"></a></p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6017.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 10.1: State diagram showing a variable that refers to a <code>Point</code> object.</td></tr>
</table></div>
<a id="fig.reference"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>As usual, the name of the variable <code>blank</code> appears outside the box, and its value appears inside the box.
In this case, the value is a reference, which is represented with an arrow.
The arrow points to the new object, which contains two variables, <code>x</code> and <code>y</code>.</p>
<!--TOC section id="sec118" Attributes-->
<h2 id="sec118" class="section">10.2&#XA0;&#XA0;Attributes</h2><!--SEC END --><p>
<a id="attribute"></a></p><p><a id="hevea_default518"></a>
<a id="hevea_default519"></a></p><p>Variables that belong to an object are usually called <span style="font-weight:bold">attributes</span>, but you might also see them called &#X201C;fields&#X201D;.
To access an attribute of an object, Java uses <span style="font-weight:bold">dot notation</span>.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> x = blank.x;</td></tr>
</table><p>The expression <code>blank.x</code> means &#X201C;go to the object <code>blank</code> refers to, and get the value of the attribute <code>x</code>.&#X201D;
In this case, we assign that value to a local variable named <code>x</code>.
There is no conflict between the local variable named <code>x</code> and the attribute named <code>x</code>.
The purpose of dot notation is to identify <em>which</em> variable you are referring to unambiguously.</p><p>You can use dot notation as part of an expression.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(blank.x + <span style="color:#B20000">", "</span> + blank.y);
<span style="color:blue">int</span> sum = blank.x * blank.x + blank.y * blank.y;</td></tr>
</table><p>The first line displays <code>3,&#XA0;4</code>; the second line calculates the value <code>25</code>.</p>
<!--TOC section id="sec119" Objects as parameters-->
<h2 id="sec119" class="section">10.3&#XA0;&#XA0;Objects as parameters</h2><!--SEC END --><p><a id="hevea_default520"></a>
<a id="hevea_default521"></a></p><p>You can pass objects as parameters in the usual way.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printPoint(Point p) {
    System.out.println(<span style="color:#B20000">"("</span> + p.x + <span style="color:#B20000">", "</span> + p.y + <span style="color:#B20000">")"</span>);
}</td></tr>
</table><p>This method takes a point as an argument and displays its attributes in parentheses.
If you invoke <code>printPoint(blank)</code>, it displays <code>(3,&#XA0;4)</code>.</p><p>But we don&#X2019;t really need a method like <code>printPoint</code>, because if you invoke <code>System.out.println(blank)</code> you get:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">java.awt.Point[x=3,y=4]</td></tr>
</table><p><code>Point</code> objects provide a method called <code>toString</code> that returns a string representation of a point.
When you call <code>println</code> with objects, it automatically calls <code>toString</code> and displays the result.
In this case, it shows the name of the type (<code>java.awt.Point</code>) and the names and values of the attributes.</p><p>As another example, we can rewrite the <code>distance</code> method from Section&#XA0;<a href="#distance">6.2</a> so that it takes two <code>Point</code>s as parameters instead of four <code><span style="color:blue">double</span></code>s.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static double</span> distance(Point p1, Point p2) {
    <span style="color:blue">int</span> dx = p2.x - p1.x;
    <span style="color:blue">int</span> dy = p2.y - p1.y;
    <span style="color:blue">return</span> Math.sqrt(dx * dx + dy * dy);
}</td></tr>
</table><p>Passing objects as parameters makes the source code more readable and less error-prone, because related values are bundled together.</p>
<!--TOC section id="sec120" Objects as return types-->
<h2 id="sec120" class="section">10.4&#XA0;&#XA0;Objects as return types</h2><!--SEC END --><p><a id="hevea_default522"></a>
<a id="hevea_default523"></a></p><p>The <code>java.awt</code> package also provides a class called <code>Rectangle</code>.
To use it, you have to import it:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">import</span> java.awt.Rectangle;</td></tr>
</table><p><code>Rectangle</code> objects are similar to points, but they have four attributes: <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code>.
The following example creates a <code>Rectangle</code> object and makes the variable <code>box</code> refer to it:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Rectangle box = <span style="color:blue">new</span> Rectangle(0, 0, 100, 200);</td></tr>
</table><p>Figure&#XA0;<a href="#fig.rectangle">10.2</a> shows the effect of this assignment.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6018.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 10.2: State diagram showing a <code>Rectangle</code> object.</td></tr>
</table></div>
<a id="fig.rectangle"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>If you run <code>System.out.println(box)</code>, you get:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">java.awt.Rectangle[x=0,y=0,width=100,height=200]</td></tr>
</table><p>Again, <code>println</code> uses the <code>toString</code> method provided by <code>Rectangle</code>, which knows how to display <code>Rectangle</code> objects.</p><p><a id="hevea_default524"></a>
<a id="hevea_default525"></a></p><p>You can write methods that return objects.
For example, <code>findCenter</code> takes a <code>Rectangle</code> as an argument and returns a <code>Point</code> with the coordinates of the center of the rectangle:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static</span> Point findCenter(Rectangle box) {
    <span style="color:blue">int</span> x = box.x + box.width / 2;
    <span style="color:blue">int</span> y = box.y + box.height / 2;
    <span style="color:blue">return new</span> Point(x, y);
}</td></tr>
</table><p>The return type of this method is <code>Point</code>.
The last line creates a new <code>Point</code> object and returns a reference to it.</p>
<!--TOC section id="sec121" Mutable objects-->
<h2 id="sec121" class="section">10.5&#XA0;&#XA0;Mutable objects</h2><!--SEC END --><p><a id="hevea_default526"></a>
<a id="hevea_default527"></a></p><p>You can change the contents of an object by making an assignment to one of its attributes.
For example, to &#X201C;move&#X201D; a rectangle without changing its size, you can modify the <code>x</code> and <code>y</code> values:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Rectangle box = <span style="color:blue">new</span> Rectangle(0, 0, 100, 200);
box.x = box.x + 50;
box.y = box.y + 100;</td></tr>
</table><p>The result is shown in Figure&#XA0;<a href="#fig.rectangle2">10.3</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6019.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 10.3: State diagram showing updated attributes.</td></tr>
</table></div>
<a id="fig.rectangle2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default528"></a>
<a id="hevea_default529"></a></p><p>We can encapsulate this code in a method and generalize it to move the rectangle by any amount:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> moveRect(Rectangle box, <span style="color:blue">int</span> dx, <span style="color:blue">int</span> dy) {
    box.x = box.x + dx;
    box.y = box.y + dy;
}</td></tr>
</table><p>The variables <code>dx</code> and <code>dy</code> indicate how far to move the rectangle in each direction.
Invoking this method has the effect of modifying the <code>Rectangle</code> that is passed as an argument.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Rectangle box = <span style="color:blue">new</span> Rectangle(0, 0, 100, 200);
moveRect(box, 50, 100);
System.out.println(box);</td></tr>
</table><p>Modifying objects by passing them as arguments to methods can be useful.
But it can also make debugging more difficult, because it is not always clear which method invocations modify their arguments.</p><p>Java provides a number of methods that operate on <code>Point</code>s and <code>Rectangle</code>s.
For example, <code>translate</code> has the same effect as <code>moveRect</code>, but instead of passing the rectangle as an argument, you use dot notation:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">box.translate(50, 100);</td></tr>
</table><p>This line invokes the <code>translate</code> method for the object that <code>box</code> refers to.
As a result, the <code>box</code> object is updated directly.</p><p><a id="hevea_default530"></a></p><p>This example is a good illustration of <span style="font-weight:bold">object-oriented</span> programming.
Rather than write methods like <code>moveRect</code> that modify one or more parameters, we apply methods to objects themselves using dot notation.</p>
<!--TOC section id="sec122" Aliasing-->
<h2 id="sec122" class="section">10.6&#XA0;&#XA0;Aliasing</h2><!--SEC END --><p>
<a id="aliasing"></a></p><p><a id="hevea_default531"></a></p><p>Remember that when you assign an object to a variable, you are assigning a <em>reference</em> to an object.
It is possible to have multiple variables that refer to the same object.
The state diagram in Figure&#XA0;<a href="#fig.aliasing">10.4</a> shows the result.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Rectangle box1 = <span style="color:blue">new</span> Rectangle(0, 0, 100, 200);
Rectangle box2 = box1;</td></tr>
</table><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6020.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 10.4: State diagram showing two variables that refer to the same object.</td></tr>
</table></div>
<a id="fig.aliasing"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default532"></a></p><p>Notice how <code>box1</code> and <code>box2</code> are aliases for the same object, so any changes that affect one variable also affect the other.
This example adds 50 to all four sides of the rectangle, so it moves the corner up and to the left by 50, and it increases the height and width by 100:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(box2.width);
box1.grow(50, 50);
System.out.println(box2.width);</td></tr>
</table><p>The first line displays <span style="font-family:monospace">100</span>, which is the width of the <code>Rectangle</code> referred to by <code>box2</code>.
The second line invokes the <code>grow</code> method on <code>box1</code>, which stretches the <code>Rectangle</code> horizontally and vertically.
The effect is shown in Figure&#XA0;<a href="#fig.aliasing2">10.5</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6021.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 10.5: State diagram showing the effect of invoking <code>grow</code>.</td></tr>
</table></div>
<a id="fig.aliasing2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>When we make a change using <code>box1</code>, we see the change using <code>box2</code>.
Thus, the value displayed by the third line is <span style="font-family:monospace">200</span>, the width of the expanded rectangle.
</p>
<!--TOC section id="sec123" The null keyword-->
<h2 id="sec123" class="section">10.7&#XA0;&#XA0;The null keyword</h2><!--SEC END --><p><a id="hevea_default533"></a></p><p>When you create an object variable, remember that you are storing a reference to an object.
In Java, the keyword <code><span style="color:blue">null</span></code> is a special value that means &#X201C;no object&#X201D;.
You can declare and initialize object variables this way:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Point blank = <span style="color:blue">null</span>;</td></tr>
</table><p>The value <code><span style="color:blue">null</span></code> is represented in state diagrams by a small box with no arrow, as in Figure&#XA0;<a href="#fig.reference2">10.6</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6022.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 10.6: State diagram showing a variable that contains a <code><span style="color:blue">null</span></code> reference.</td></tr>
</table></div>
<a id="fig.reference2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default534"></a>
<a id="hevea_default535"></a>
<a id="hevea_default536"></a></p><p>If you try to use a <code><span style="color:blue">null</span></code> value, either by accessing an attribute or invoking a method, Java throws a <code>NullPointerException</code>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Point blank = <span style="color:blue">null</span>;
<span style="color:blue">int</span> x = blank.x;              <span style="color:#007C00">// NullPointerException</span>
blank.translate(50, 50);      <span style="color:#007C00">// NullPointerException</span></td></tr>
</table><p>On the other hand, it is legal to pass a null reference as an argument or receive one as a return value.
For example, <code><span style="color:blue">null</span></code> is often used to represent a special condition or indicate an error.</p>
<!--TOC section id="sec124" Garbage collection-->
<h2 id="sec124" class="section">10.8&#XA0;&#XA0;Garbage collection</h2><!--SEC END --><p>In Section&#XA0;<a href="#aliasing">10.6</a>, we saw what happens when more than one variable refers to the same object.
What happens when <em>no</em> variables refer to an object?</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Point blank = <span style="color:blue">new</span> Point(3, 4);
blank = <span style="color:blue">null</span>;</td></tr>
</table><p>The first line creates a new <code>Point</code> object and makes <code>blank</code> refer to it.
The second line changes <code>blank</code> so that instead of referring to the object, it refers to nothing.
In the state diagram, we remove the arrow between them, as in Figure&#XA0;<a href="#fig.reference3">10.7</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6023.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 10.7: State diagram showing the effect of setting a variable to <code><span style="color:blue">null</span></code>.</td></tr>
</table></div>
<a id="fig.reference3"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>If there are no references to an object, there is no way to access its attributes or invoke a method on it.
From the programmer&#X2019;s view, it ceases to exist.
However it&#X2019;s still present in the computer&#X2019;s memory, taking up space.</p><p><a id="hevea_default537"></a></p><p>As your program runs, the system automatically looks for stranded objects and reclaims them; then the space can be reused for new objects.
This process is called <span style="font-weight:bold">garbage collection</span>.</p><p>You don&#X2019;t have to do anything to make garbage collection happen, and in general don&#X2019;t have to be aware of it.
But in high-performance applications, you may notice a slight delay every now and then when Java reclaims space from discarded objects.
</p>
<!--TOC section id="sec125" Class diagrams-->
<h2 id="sec125" class="section">10.9&#XA0;&#XA0;Class diagrams</h2><!--SEC END --><p>
<a id="UML"></a></p><p>To summarize what we&#X2019;ve learned so far, <code>Point</code> and <code>Rectangle</code> objects each have their own attributes and methods.
Attributes are an object&#X2019;s <em>data</em>, and methods are an object&#X2019;s <em>code</em>.
An object&#X2019;s class defines which attributes and methods it will have.</p><p><a id="hevea_default538"></a></p><p>In practice, it&#X2019;s more convenient to look at high-level pictures than to examine the source code.
<span style="font-weight:bold">Unified Modeling Language</span> (UML) defines a standard way to summarize the design of a class.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6024.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 10.8: UML class diagrams for <code>Point</code> and <code>Rectangle</code>.</td></tr>
</table></div>
<a id="fig.umlPoint"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default539"></a>
<a id="hevea_default540"></a></p><p>As shown in Figure&#XA0;<a href="#fig.umlPoint">10.8</a>, a <span style="font-weight:bold">class diagram</span> is divided into two sections.
The top half lists the attributes, and the bottom half lists the methods.
UML uses a language-independent format, so rather than showing <code><span style="color:blue">int</span>&#XA0;x</code>, the diagram uses <span style="font-family:monospace">x:&#XA0;int</span>.</p><p>In contrast to state diagrams, which visualize objects (and variables) at run-time, a class diagram visualizes the source code at compile-time.</p><p>Both <code>Point</code> and <code>Rectangle</code> have additional methods; we are only showing the ones introduced in this chapter.
See the documentation for these classes to learn more about what they can do.</p>
<!--TOC section id="sec126" Java library source-->
<h2 id="sec126" class="section">10.10&#XA0;&#XA0;Java library source</h2><!--SEC END --><p><a id="hevea_default541"></a></p><p>Throughout the book, you have used classes from the Java library including <code>System</code>, <code>String</code>, <code>Scanner</code>, <code>Math</code>, <code>Random</code>, and others.
You may not have realized that these classes are written in Java.
In fact, you can take a look at the source code to see how they work.</p><p><a id="hevea_default542"></a></p><p>The Java library contains thousands of files, many of which are thousands of lines of code.
That&#X2019;s more than one person could read and understand fully, so please don&#X2019;t be intimidated!</p><p>Because it&#X2019;s so large, the library source code is stored in a file named <code>src.zip</code>.
Take a few minutes to locate this file on your machine:</p><ul class="itemize"><li class="li-itemize">
On Linux, it&#X2019;s likely under: <code>/usr/lib/jvm/openjdk-8/</code>
<br>
(You might need to install the <span style="font-family:monospace">openjdk-8-source</span> package.)
</li><li class="li-itemize">On OS X, it&#X2019;s likely under: <br>
<code>/Library/Java/JavaVirtualMachines/jdk.../Contents/Home/</code>
</li><li class="li-itemize">On Windows, it&#X2019;s likely under: <code>C:\Program Files\Java\jdk...\</code>
</li></ul><p>When you open (or unzip) the file, you will see folders that correspond to Java packages.
For example, open the <span style="font-family:monospace">java</span> folder and then open the <span style="font-family:monospace">awt</span> folder.
You should now see <span style="font-family:monospace">Point.java</span> and <span style="font-family:monospace">Rectangle.java</span>, along with the other classes in the <code>java.awt</code> package.</p><p>Open <span style="font-family:monospace">Point.java</span> in your editor and skim through the file.
It uses language features we haven&#X2019;t yet discussed, so you probably won&#X2019;t understand everything.
But you can get a sense of what professional Java software looks like by browsing through the library.</p><p><a id="hevea_default543"></a>
<a id="hevea_default544"></a>
<a id="hevea_default545"></a></p><p>Notice how much of <span style="font-family:monospace">Point.java</span> is documentation.
Each method is thoroughly commented, including <code>@param</code>, <code>@return</code>, and other Javadoc tags.
Javadoc reads these comments and generates documentation in HTML.
You can see the results by reading the documentation for the <code>Point</code> class, which you can find by doing a web search for &#X201C;Java Point&#X201D;.</p><p>Now take a look at <code>Rectangle</code>&#X2019;s <code>grow</code> and <code>translate</code> methods.
There is more to them than you may have realized, but that doesn&#X2019;t limit your ability to use these methods in a program.</p><p>To summarize the whole chapter, objects encapsulate data and provide methods to access and modify the data directly.
Object-oriented programming makes it possible to hide messy details so that you can more easily use and understand code that other people wrote.</p>
<!--TOC section id="sec127" Vocabulary-->
<h2 id="sec127" class="section">10.11&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">attribute:</span></dt><dd class="dd-description"><a id="hevea_default546"></a>
One of the named data items that make up an object.
</dd><dt class="dt-description"><span style="font-weight:bold">dot notation:</span></dt><dd class="dd-description"><a id="hevea_default547"></a>
Use of the dot operator (<code>.</code>) to access an object&#X2019;s attributes or methods.</dd><dt class="dt-description"><span style="font-weight:bold">object-oriented:</span></dt><dd class="dd-description"><a id="hevea_default548"></a>
A way of organizing code and data into objects, rather than independent methods.</dd><dt class="dt-description"><span style="font-weight:bold">garbage collection:</span></dt><dd class="dd-description"><a id="hevea_default549"></a>
The process of finding objects that have no references and reclaiming their storage space.</dd><dt class="dt-description"><span style="font-weight:bold">UML:</span></dt><dd class="dd-description"><a id="hevea_default550"></a>
Unified Modeling Language, a standard way to draw diagrams for software engineering.</dd><dt class="dt-description"><span style="font-weight:bold">class diagram:</span></dt><dd class="dd-description"><a id="hevea_default551"></a>
An illustration of the attributes and methods for a class.</dd></dl>
<!--TOC section id="sec128" Exercises-->
<h2 id="sec128" class="section">10.12&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch10</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<em>
The point of this exercise is to make sure you understand the mechanism for passing objects as parameters.</em><ol class="enumerate" type=1><li class="li-enumerate"><em>For the following program, draw a stack diagram showing the local variables and parameters of <code>main</code> and <code>riddle</code> just before <code>riddle</code> returns.
Use arrows to show which objects each variable references.</em></li><li class="li-enumerate"><em>What is the output of the program?</em></li><li class="li-enumerate"><em>Is the <code>blank</code> object mutable or immutable?
How can you tell?</em></li></ol><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static int</span> riddle(<span style="color:blue">int</span> x, Point p) {
    x = x + 7;
    <span style="color:blue">return</span> x + p.x + p.y;
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> main(String[] args) {
    <span style="color:blue">int</span> x = 5;
    Point blank = <span style="color:blue">new</span> Point(1, 2);

    System.out.println(riddle(x, blank));
    System.out.println(x);
    System.out.println(blank.x);
    System.out.println(blank.y);
}</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
The point of this exercise is to make sure you understand the mechanism for returning new objects from methods.</em><ol class="enumerate" type=1><li class="li-enumerate"><em>Draw a stack diagram showing the state of the program just before <code>distance</code> returns.
Include all variables and parameters, and show the objects those variables refer to.</em></li><li class="li-enumerate"><em>What is the output of this program?
(Can you tell without running it?)</em></li></ol><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static double</span> distance(Point p1, Point p2) {
    <span style="color:blue">int</span> dx = p2.x - p1.x;
    <span style="color:blue">int</span> dy = p2.y - p1.y;
    <span style="color:blue">return</span> Math.sqrt(dx * dx + dy * dy);
}

<span style="color:blue">public static</span> Point findCenter(Rectangle box) {
    <span style="color:blue">int</span> x = box.x + box.width / 2;
    <span style="color:blue">int</span> y = box.y + box.height / 2;
    <span style="color:blue">return new</span> Point(x, y);
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> main(String[] args) {
    Point blank = <span style="color:blue">new</span> Point(5, 8);

    Rectangle rect = <span style="color:blue">new</span> Rectangle(0, 2, 4, 4);
    Point center = findCenter(rect);

    <span style="color:blue">double</span> dist = distance(center, blank);
    System.out.println(dist);
}</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<em>
This exercise is about aliasing.
Recall that aliases are two variables that refer to the same object.</em><ol class="enumerate" type=1><li class="li-enumerate"><em>Draw a diagram that shows the state of the program just before the end of <code>main</code>.
Include all local variables and the objects they refer to.</em></li><li class="li-enumerate"><em>What is the output of the program?</em></li><li class="li-enumerate"><em>At the end of <code>main</code>, are <code>p1</code> and <code>p2</code> aliased?
Why or why not?</em></li></ol><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> printPoint(Point p) {
    System.out.println(<span style="color:#B20000">"("</span> + p.x + <span style="color:#B20000">", "</span> + p.y + <span style="color:#B20000">")"</span>);
}

<span style="color:blue">public static</span> Point findCenter(Rectangle box) {
    <span style="color:blue">int</span> x = box.x + box.width / 2;
    <span style="color:blue">int</span> y = box.y + box.height / 2;
    <span style="color:blue">return new</span> Point(x, y);
}</em></td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static void</span> main(String[] args) {
    Rectangle box1 = <span style="color:blue">new</span> Rectangle(2, 4, 7, 9);
    Point p1 = findCenter(box1);
    printPoint(p1);

    box1.grow(1, 1);
    Point p2 = findCenter(box1);
    printPoint(p2);
}</em></td></tr>
</table></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;
<a id="ex.biginteger"></a><p><a id="hevea_default552"></a></p><p><em>You might be sick of the factorial method by now, but we&#X2019;re going to do one more version.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Create a new program called <span style="font-family:monospace">Big.java</span> and write (or reuse) an iterative version of <code>factorial</code>.</em></li><li class="li-enumerate"><em>Display a table of the integers from 0 to 30 along with their factorials.
At some point around 15, you will probably see that the answers are not right anymore.
Why not?</em><p><a id="hevea_default553"></a></p></li><li class="li-enumerate"><em><code>BigInteger</code> is a Java class that can represent arbitrarily big integers.
There is no upper bound except the limitations of memory size and processing speed.
Take a minute to read the documentation, which you can find by doing a web search for &#X201C;Java BigInteger&#X201D;.</em></li><li class="li-enumerate"><em>To use BigIntegers, you have to import <code>java.math.BigInteger</code> at the beginning of your program.</em></li><li class="li-enumerate"><em>There are several ways to create a BigInteger, but the simplest uses <code>valueOf</code>.
The following code converts an integer to a BigInteger:</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">int</span> x = 17;
BigInteger big = BigInteger.valueOf(x);</em></td></tr>
</table></li><li class="li-enumerate"><em>Since BigIntegers are not primitive types, the usual math operators don&#X2019;t work.
Instead, we have to use methods like <code>add</code>.
To add two BigIntegers, invoke <code>add</code> on one and pass the other as an argument.</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>BigInteger small = BigInteger.valueOf(17);
BigInteger big = BigInteger.valueOf(1700000000);
BigInteger total = small.add(big);</em></td></tr>
</table><p><em>Try out some of the other methods, like <code>multiply</code> and <code>pow</code>.</em></p></li><li class="li-enumerate"><em>Convert <code>factorial</code> so that it performs its calculation using BigIntegers and returns a BigInteger as a result.
You can leave the parameter alone; it will still be an integer.</em></li><li class="li-enumerate"><em>Try displaying the table again with your modified factorial method.
Is it correct up to 30?
How high can you make it go?</em></li><li class="li-enumerate"><em>Are BigInteger objects mutable or immutable?
How can you tell?</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;5</span>&#XA0;&#XA0;<em>
Many encryption algorithms depend on the ability to raise large integers to a power.
Here is a method that implements an efficient algorithm for integer exponentiation:</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">public static int</span> pow(<span style="color:blue">int</span> x, <span style="color:blue">int</span> n) {
    <span style="color:blue">if</span> (n == 0) <span style="color:blue">return</span> 1;

    <span style="color:#007C00">// find x to the n/2 recursively</span>
    <span style="color:blue">int</span> t = pow(x, n / 2);

    <span style="color:#007C00">// if n is even, the result is t squared
    // if n is odd, the result is t squared times x</span>
    <span style="color:blue">if</span> (n % 2 == 0) {
        <span style="color:blue">return</span> t * t;
    } <span style="color:blue">else</span> {
        <span style="color:blue">return</span> t * t * x;
    }
}</em></td></tr>
</table><p><a id="hevea_default554"></a></p><p><em>The problem with this method is that it only works if the result is small enough to be represented by an <span style="color:blue"><code>int</code></span>.
Rewrite it so that the result is a <code>BigInteger</code>.
The parameters should still be integers, though.</em></p><p><em>You should use the <code>BigInteger</code> methods <code>add</code> and <code>multiply</code>.
But don&#X2019;t use <code>BigInteger.pow</code>; that would spoil the fun.
</em></p></div>
<!--TOC chapter id="sec129" Classes-->
<h1 id="sec129" class="chapter">Chapter&#XA0;11&#XA0;&#XA0;Classes</h1><!--SEC END --><p>
<a id="classes"></a></p><p><a id="hevea_default555"></a>
<a id="hevea_default556"></a></p><p>Whenever you define a new class, you also create a new type with the same name.
So way back in Section&#XA0;<a href="#hello">1.4</a>, when we defined the class <code>Hello</code>, we created a type named <code>Hello</code>.
We didn&#X2019;t declare any variables with type <code>Hello</code>, and we didn&#X2019;t use <code><span style="color:blue">new</span></code> to create a <code>Hello</code> object.
It wouldn&#X2019;t have done much if we had &#X2013; but we could have!</p><p><a id="hevea_default557"></a></p><p>In this chapter, we will define classes that represent <em>useful</em> object types.
We will also clarify the difference between classes and objects.
Here are the most important ideas:</p><ul class="itemize"><li class="li-itemize">Defining a <span style="font-weight:bold">class</span> creates a new object type with the same name.<p><a id="hevea_default558"></a></p></li><li class="li-itemize">Every object belongs to some object type; that is, it is an <span style="font-weight:bold">instance</span> of some class.</li><li class="li-itemize">A class definition is like a template for objects: it specifies what attributes the objects have and what methods can operate on them.<p><a id="hevea_default559"></a></p></li><li class="li-itemize">The <code><span style="color:blue">new</span></code> operator <span style="font-weight:bold">instantiates</span> objects, that is, it creates new instances of a class.</li><li class="li-itemize">Think of a class like a blueprint for a house: you can use the same blueprint to build any number of houses.</li><li class="li-itemize">The methods that operate on an object type are defined in the class for that object.</li></ul>
<!--TOC section id="sec130" The Time class-->
<h2 id="sec130" class="section">11.1&#XA0;&#XA0;The Time class</h2><!--SEC END --><p><a id="hevea_default560"></a>
<a id="hevea_default561"></a></p><p>One common reason to define a new class is to encapsulate related data in an object that can be treated as a single unit.
That way, we can use objects as parameters and return values, rather than passing and returning multiple values.
This design principle is called <span style="font-weight:bold">data encapsulation</span>.</p><p><a id="hevea_default562"></a>
<a id="hevea_default563"></a></p><p>We have already seen two types that encapsulate data in this way: <code>Point</code> and <code>Rectangle</code>.
Another example, which we will implement ourselves, is <code>Time</code>, which represents a time of day.
The data encapsulated in a <code>Time</code> object are an hour, a minute, and a number of seconds.
Because every <code>Time</code> object contains these data, we define attributes to hold them.</p><p><a id="hevea_default564"></a>
<a id="hevea_default565"></a></p><p>Attributes are also called <span style="font-weight:bold">instance variables</span>, because each instance has its own variables (as opposed to class variables, coming up in Section&#XA0;<a href="#classvar">12.3</a>).</p><p>The first step is to decide what type each variable should be.
It seems clear that <code>hour</code> and <code>minute</code> should be integers.
Just to keep things interesting, let&#X2019;s make <code>second</code> a double.</p><p>Instance variables are declared at the beginning of the class definition, outside of any method.
By itself, this code fragment is a legal class definition:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Time {
    <span style="color:blue">private int</span> hour;
    <span style="color:blue">private int</span> minute;
    <span style="color:blue">private double</span> second;
}</td></tr>
</table><p><a id="hevea_default566"></a>
<a id="hevea_default567"></a></p><p>The <code>Time</code> class is <code><span style="color:blue">public</span></code>, which means that it can be used in other classes.
But the instance variables are <code><span style="color:blue">private</span></code>, which means they can only be accessed from inside the <code>Time</code> class.
If you try to read or write them from another class, you will get a compiler error.</p><p><a id="hevea_default568"></a></p><p>Private instance variables help keep classes isolated from each other so that changes in one class won&#X2019;t require changes in other classes.
It also simplifies what other programmers need to understand in order to use your classes.
This kind of isolation is called <span style="font-weight:bold">information hiding</span>.</p>
<!--TOC section id="sec131" Constructors-->
<h2 id="sec131" class="section">11.2&#XA0;&#XA0;Constructors</h2><!--SEC END --><p><a id="hevea_default569"></a>
<a id="hevea_default570"></a></p><p>After declaring the instance variables, the next step is to define a <span style="font-weight:bold">constructor</span>, which is a special method that initializes the instance variables.
The syntax for constructors is similar to that of other methods, except:</p><p><a id="hevea_default571"></a></p><ul class="itemize"><li class="li-itemize">
The name of the constructor is the same as the name of the class.
</li><li class="li-itemize">Constructors have no return type (and no return value).
</li><li class="li-itemize">The keyword <code><span style="color:blue">static</span></code> is omitted.
</li></ul><p>Here is an example constructor for the <code>Time</code> class:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Time() {
    <span style="color:blue">this</span>.hour = 0;
    <span style="color:blue">this</span>.minute = 0;
    <span style="color:blue">this</span>.second = 0.0;
}</td></tr>
</table><p>This constructor does not take any arguments.
Each line initializes an instance variable to zero (which in this example means midnight).</p><p><a id="hevea_default572"></a>
<a id="hevea_default573"></a></p><p>The name <code><span style="color:blue">this</span></code> is a keyword that refers to the object we are creating.
You can use <code><span style="color:blue">this</span></code> the same way you use the name of any other object.
For example, you can read and write the instance variables of <code><span style="color:blue">this</span></code>, and you can pass <code><span style="color:blue">this</span></code> as an argument to other methods.
But you do not declare <code><span style="color:blue">this</span></code>, and you can&#X2019;t make an assignment to it.</p><p>A common error when writing constructors is to put a <code><span style="color:blue">return</span></code> statement at the end.
Like void methods, constructors do not return values.</p><p>To create a Time object, you must use the <code><span style="color:blue">new</span></code> operator:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Time time = <span style="color:blue">new</span> Time();</td></tr>
</table><p><a id="hevea_default574"></a>
<a id="hevea_default575"></a></p><p>When you invoke <code><span style="color:blue">new</span></code>, Java creates the object and calls your constructor to initialize the instance variables.
When the constructor is done, <code><span style="color:blue">new</span></code> returns a reference to the new object.
In this example, the reference gets assigned to the variable <code>time</code>, which has type <code>Time</code>.
Figure&#XA0;<a href="#fig.time">11.1</a> shows the result.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6025.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 11.1: State diagram of a <code>Time</code> object.</td></tr>
</table></div>
<a id="fig.time"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default576"></a>
<a id="hevea_default577"></a></p><p>Beginners sometimes make the mistake of invoking <code><span style="color:blue">new</span></code> inside the constructor.
You don&#X2019;t have to, and you shouldn&#X2019;t.
In this example, invoking <code><span style="color:blue">new</span>&#XA0;Time()</code> in the constructor causes an infinite recursion:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Time() {
    <span style="color:blue">new</span> Time();        <span style="color:#007C00">// wrong!</span>
    <span style="color:blue">this</span>.hour = 0;
    <span style="color:blue">this</span>.minute = 0;
    <span style="color:blue">this</span>.second = 0.0;
}</td></tr>
</table>
<!--TOC section id="sec132" More constructors-->
<h2 id="sec132" class="section">11.3&#XA0;&#XA0;More constructors</h2><!--SEC END --><p><a id="hevea_default578"></a></p><p>Like other methods, constructors can be overloaded, which means you can provide multiple constructors with different parameters.
Java knows which constructor to invoke by matching the arguments you provide with the parameters of the constructors.</p><p><a id="hevea_default579"></a>
<a id="hevea_default580"></a></p><p>It is common to provide a constructor that takes no arguments, like the previous one, and a &#X201C;value constructor&#X201D;, like this one:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Time(<span style="color:blue">int</span> hour, <span style="color:blue">int</span> minute, <span style="color:blue">double</span> second) {
    <span style="color:blue">this</span>.hour = hour;
    <span style="color:blue">this</span>.minute = minute;
    <span style="color:blue">this</span>.second = second;
}</td></tr>
</table><p><a id="hevea_default581"></a></p><p>All this constructor does is copy values from the parameters to the instance variables.
In this example, the names and types of the parameters are the same as the instance variables.
As a result, the parameters <span style="font-weight:bold">shadow</span> (or hide) the instance variables, so the keyword <code><span style="color:blue">this</span></code> is necessary to tell them apart.
Parameters don&#X2019;t have to use the same names, but that&#X2019;s a common style.</p><p>To invoke this second constructor, you have to provide arguments after the <code><span style="color:blue">new</span></code> operator.
This example creates a <code>Time</code> object that represents a fraction of a second before noon:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Time time = <span style="color:blue">new</span> Time(11, 59, 59.9);</td></tr>
</table><p>Overloading constructors provides the flexibility to create an object first and then fill in the attributes, or collect all the information before creating the object itself.</p><p>Once you get the hang of it, writing constructors gets boring.
You can write them quickly just by looking at the list of instance variables.
In fact, some IDEs can generate them for you.</p><p>Pulling it all together, here is the complete class definition so far:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Time {
    <span style="color:blue">private int</span> hour;
    <span style="color:blue">private int</span> minute;
    <span style="color:blue">private double</span> second;

    <span style="color:blue">public</span> Time() {
        <span style="color:blue">this</span>.hour = 0;
        <span style="color:blue">this</span>.minute = 0;
        <span style="color:blue">this</span>.second = 0.0;
    }

    <span style="color:blue">public</span> Time(<span style="color:blue">int</span> hour, <span style="color:blue">int</span> minute, <span style="color:blue">double</span> second) {
        <span style="color:blue">this</span>.hour = hour;
        <span style="color:blue">this</span>.minute = minute;
        <span style="color:blue">this</span>.second = second;
    }
}</td></tr>
</table>
<!--TOC section id="sec133" Getters and setters-->
<h2 id="sec133" class="section">11.4&#XA0;&#XA0;Getters and setters</h2><!--SEC END --><p>Recall that the instance variables of <code>Time</code> are <code><span style="color:blue">private</span></code>.
We can access them from within the <code>Time</code> class, but if we try to access them from another class, the compiler generates an error.</p><p><a id="hevea_default582"></a>
<a id="hevea_default583"></a></p><p>For example, here&#X2019;s a new class called <code>TimeClient</code>, because a class that uses objects defined in another class is called a <span style="font-weight:bold">client</span>:</p><p><a id="hevea_default584"></a></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> TimeClient {

    <span style="color:blue">public static void</span> main(String[] args) {
        Time time = <span style="color:blue">new</span> Time(11, 59, 59.9);
        System.out.println(time.hour);      <span style="color:#007C00">// compiler error</span>
    }
}</td></tr>
</table><p>If you try to compile this code, you will get a message like <span style="font-family:monospace">hour has private access in Time</span>.
There are three ways to solve this problem:</p><ul class="itemize"><li class="li-itemize">We could make the instance variables <code><span style="color:blue">public</span></code>.</li><li class="li-itemize">We could provide methods to access the instance variables.</li><li class="li-itemize">We could decide that it&#X2019;s not a problem, and refuse to let other classes access the instance variables.</li></ul><p>The first choice is appealing because it&#X2019;s simple.
But the problem is that when Class <span style="font-style:italic">A</span> accesses the instance variables of Class <span style="font-style:italic">B</span> directly, <span style="font-style:italic">A</span> becomes &#X201C;dependent&#X201D; on <span style="font-style:italic">B</span>.
If anything in <span style="font-style:italic">B</span> changes later, it is likely that <span style="font-style:italic">A</span> will have to change, too.</p><p><a id="hevea_default585"></a>
<a id="hevea_default586"></a></p><p>But if <span style="font-style:italic">A</span> only uses methods to interact with <span style="font-style:italic">B</span>, <span style="font-style:italic">A</span> and <span style="font-style:italic">B</span> are &#X201C;independent&#X201D;, which means that we can make changes in <span style="font-style:italic">B</span> without affecting <span style="font-style:italic">A</span> (as long as we don&#X2019;t change the method signatures).</p><p>So if we decide that <code>TimeClient</code> should be able to read the instance variables of <code>Time</code>, we can provide methods to do it:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public int</span> getHour() {
    <span style="color:blue">return this</span>.hour;
}

<span style="color:blue">public int</span> getMinute() {
    <span style="color:blue">return this</span>.minute;
}

<span style="color:blue">public int</span> getSecond() {
    <span style="color:blue">return this</span>.second;
}</td></tr>
</table><p><a id="hevea_default587"></a>
<a id="hevea_default588"></a>
<a id="hevea_default589"></a>
<a id="hevea_default590"></a></p><p>Methods like these are formally called &#X201C;accessors&#X201D;, but more commonly referred to as <span style="font-weight:bold">getters</span>.
By convention, the method that gets a variable named <code>something</code> is called <code>getSomething</code>.</p><p>If we decide that <code>TimeClient</code> should also be able to modify the instance variables of <code>Time</code>, we can provide methods to do that, too:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> setHour(<span style="color:blue">int</span> hour) {
    <span style="color:blue">this</span>.hour = hour;
}

<span style="color:blue">public void</span> setMinute(<span style="color:blue">int</span> minute) {
    <span style="color:blue">this</span>.minute = minute;
}

<span style="color:blue">public void</span> setSecond(<span style="color:blue">int</span> second) {
    <span style="color:blue">this</span>.second = second;
}</td></tr>
</table><p><a id="hevea_default591"></a>
<a id="hevea_default592"></a>
<a id="hevea_default593"></a>
<a id="hevea_default594"></a></p><p>These methods are formally called &#X201C;mutators&#X201D;, but more commonly known as <span style="font-weight:bold">setters</span>.
The naming convention is similar; the method that sets <code>something</code> is usually called <code>setSomething</code>.</p><p>Writing getters and setters can get boring, but many IDEs can generate them for you based on the instance variables.</p>
<!--TOC section id="sec134" Displaying objects-->
<h2 id="sec134" class="section">11.5&#XA0;&#XA0;Displaying objects</h2><!--SEC END --><p>
<a id="printobject"></a></p><p>If you create a <code>Time</code> object and display it with <code>println</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> main(String[] args) {
    Time time = <span style="color:blue">new</span> Time(11, 59, 59.9);
    System.out.println(time);
}</td></tr>
</table><p><a id="hevea_default595"></a>
<a id="hevea_default596"></a>
<a id="hevea_default597"></a></p><p>The output will look something like:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Time@80cc7c0</td></tr>
</table><p><a id="hevea_default598"></a>
<a id="hevea_default599"></a></p><p>When Java displays the value of an object type, it displays the name of the type and the address of the object (in hexadecimal).
This address can be useful for debugging, if you want to keep track of individual objects.</p><p>To display <code>Time</code> objects in a way that is more meaningful to users, you could write a method to display the hour, minute, and second.
Using <code>printTime</code> in Section&#XA0;<a href="#time">4.6</a> as a starting point, we could write:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printTime(Time t) {
    System.out.print(t.hour);
    System.out.print(<span style="color:#B20000">":"</span>);
    System.out.println(t.minute);
    System.out.print(<span style="color:#B20000">":"</span>);
    System.out.println(t.second);
}</td></tr>
</table><p>The output of this method, given the <code>time</code> object from the previous section, would be <span style="font-family:monospace">11:59:59.9</span>.
We can use <code>printf</code> to write it more concisely:</p><p><a id="hevea_default600"></a>
<a id="hevea_default601"></a>
<a id="hevea_default602"></a></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printTime(Time t) {
    System.out.printf(<span style="color:#B20000">"%02d:%02d:%04.1f\n"</span>,
        t.hour, t.minute, t.second);
}</td></tr>
</table><p>As a reminder, you need to use <code>\%d</code> with integers and <code>\%f</code> with floating-point numbers.
The <code>02</code> option means &#X201C;total width 2, with leading zeros if necessary&#X201D;, and the <code>04.1</code> option means &#X201C;total width 4, one digit after the decimal point, leading zeros if necessary&#X201D;.</p>
<!--TOC section id="sec135" The toString method-->
<h2 id="sec135" class="section">11.6&#XA0;&#XA0;The toString method</h2><!--SEC END --><p><a id="hevea_default603"></a>
<a id="hevea_default604"></a></p><p>Every object type has a method called <code>toString</code> that returns a string representation of the object.
When you display an object using <code>print</code> or <code>println</code>, Java invokes the object&#X2019;s <code>toString</code> method.</p><p><a id="hevea_default605"></a></p><p>By default it simply displays the type of the object and its address, but you can <span style="font-weight:bold">override</span> this behavior by providing your own <code>toString</code> method.
For example, here is a <code>toString</code> method for <code>Time</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> String toString() {
    <span style="color:blue">return</span> String.format(<span style="color:#B20000">"%02d:%02d:%04.1f\n"</span>,
        <span style="color:blue">this</span>.hour, <span style="color:blue">this</span>.minute, <span style="color:blue">this</span>.second);
}</td></tr>
</table><p><a id="hevea_default606"></a>
<a id="hevea_default607"></a></p><p>The definition does not have the keyword <code><span style="color:blue">static</span></code>, because it is not a static method.
It is an <span style="font-weight:bold">instance method</span>, so called because when you invoke it, you invoke it on an instance of the class (<code>Time</code> in this case).
Instance methods are sometimes called &#X201C;non-static&#X201D;; you might see this term in an error message.</p><p>The body of the method is similar to <code>printTime</code> in the previous section, with two changes:</p><ul class="itemize"><li class="li-itemize">Inside the method, we use <code><span style="color:blue">this</span></code> to refer to the current instance; that is, the object the method is invoked on.</li><li class="li-itemize">Instead of <code>printf</code>, it uses <code>String.format</code>, which returns a formatted <code>String</code> rather than displaying it.</li></ul><p><a id="hevea_default608"></a></p><p>Now you can call <code>toString</code> directly:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Time time = <span style="color:blue">new</span> Time(11, 59, 59.9);
String s = time.toString();</td></tr>
</table><p>Or you can invoke it indirectly through <code>println</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(time);</td></tr>
</table><p>In this example, <code><span style="color:blue">this</span></code> in <code>toString</code> refers to the same object as <code>time</code>.
The output is <span style="font-family:monospace">11:59:59.9</span>.</p>
<!--TOC section id="sec136" The equals method-->
<h2 id="sec136" class="section">11.7&#XA0;&#XA0;The equals method</h2><!--SEC END --><p>
<a id="equals"></a></p><p><a id="hevea_default609"></a>
<a id="hevea_default610"></a>
<a id="hevea_default611"></a></p><p>We have seen two ways to check whether values are equal: the <code>==</code> operator and the <code>equals</code> method.
With objects you can use either one, but they are not the same.</p><ul class="itemize"><li class="li-itemize"><p><a id="hevea_default612"></a></p>The <code>==</code> operator checks whether objects are <span style="font-weight:bold">identical</span>; that is, whether they are the same object.<p><a id="hevea_default613"></a></p></li><li class="li-itemize">The <code>equals</code> method checks whether they are <span style="font-weight:bold">equivalent</span>; that is, whether they have the same value.</li></ul><p>The definition of identity is always the same, so the <code>==</code> operator always does the same thing.
But the definition of equivalence is different for different objects, so objects can define their own <code>equals</code> methods.</p><p>Consider the following variables:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Time time1 = <span style="color:blue">new</span> Time(9, 30, 0.0);
Time time2 = time1;
Time time3 = <span style="color:blue">new</span> Time(9, 30, 0.0);</td></tr>
</table><p>Figure&#XA0;<a href="#fig.time2">11.2</a> is a state diagram that shows these variables and their values.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6026.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 11.2: State diagram of three <code>Time</code> variables.</td></tr>
</table></div>
<a id="fig.time2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>The assignment operator copies references, so <code>time1</code> and <code>time2</code> refer to the same object.
Because they are identical, <code>time1&#XA0;==&#XA0;time2</code> is <code><span style="color:blue">true</span></code>.</p><p>But <code>time1</code> and <code>time3</code> refer to different objects.
Because they are not identical, <code>time1&#XA0;==&#XA0;time3</code> is <code><span style="color:blue">false</span></code>.</p><p>By default, the <code>equals</code> method does the same thing as <code>==</code>.
For <code>Time</code> objects, that&#X2019;s probably not what we want.
For example, <code>time1</code> and <code>time3</code> represent the same time of day, so we should consider them equivalent.</p><p><a id="hevea_default614"></a>
<a id="hevea_default615"></a></p><p>We can provide an <code>equals</code> method that implements this notion of equivalence:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public boolean</span> equals(Time that) {
    <span style="color:blue">return this</span>.hour == that.hour
        &amp;&amp; <span style="color:blue">this</span>.minute == that.minute
        &amp;&amp; <span style="color:blue">this</span>.second == that.second;
}</td></tr>
</table><p><code>equals</code> is an instance method, so it uses <code><span style="color:blue">this</span></code> to refer to the current object and it doesn&#X2019;t have the keyword <code><span style="color:blue">static</span></code>.
We can invoke equals as follows:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">time1.equals(time3);</td></tr>
</table><p>Inside the <code>equals</code> method, <code><span style="color:blue">this</span></code> refers to the same object as <code>time1</code>, and <code>that</code> refers to the same object as <code>time3</code>.
Since their instance variables are equal, the result is <code><span style="color:blue">true</span></code>.
</p><p>Many objects use a similar notion of equivalence; that is, two objects are equivalent if their instance variables are equal.
But other definitions are possible.</p>
<!--TOC section id="sec137" Adding times-->
<h2 id="sec137" class="section">11.8&#XA0;&#XA0;Adding times</h2><!--SEC END --><p>Suppose you are going to a movie that starts at 18:50 (or 6:50 PM), and the running time is 2 hours 16 minutes.
What time does the movie end?</p><p><a id="hevea_default616"></a>
<a id="hevea_default617"></a></p><p>We&#X2019;ll use <code>Time</code> objects to figure it out.
Here are two ways we could &#X201C;add&#X201D; <code>Time</code> objects:</p><ul class="itemize"><li class="li-itemize">We could write a static method that takes the two <code>Time</code> objects as parameters.</li><li class="li-itemize">We could write an instance method that gets invoked on one object and takes the other as a parameter.</li></ul><p>To demonstrate the difference, we&#X2019;ll do both.
Here is a rough draft that uses the static approach:</p><p><a id="hevea_default618"></a>
<a id="hevea_default619"></a></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static</span> Time add(Time t1, Time t2) {
    Time sum = <span style="color:blue">new</span> Time();
    sum.hour = t1.hour + t2.hour;
    sum.minute = t1.minute + t2.minute;
    sum.second = t1.second + t2.second;
    <span style="color:blue">return</span> sum;
}</td></tr>
</table><p>And here&#X2019;s how we would invoke the static method:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Time startTime = <span style="color:blue">new</span> Time(18, 50, 0.0);
Time runningTime = <span style="color:blue">new</span> Time(2, 16, 0.0);
Time endTime = Time.add(startTime, runningTime);</td></tr>
</table><p>On the other hand, here&#X2019;s what it looks like as an instance method:</p><p><a id="hevea_default620"></a>
<a id="hevea_default621"></a></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Time add(Time t2) {
    Time sum = <span style="color:blue">new</span> Time();
    sum.hour = <span style="color:blue">this</span>.hour + t2.hour;
    sum.minute = <span style="color:blue">this</span>.minute + t2.minute;
    sum.second = <span style="color:blue">this</span>.second + t2.second;
    <span style="color:blue">return</span> sum;
}</td></tr>
</table><p>The changes are:</p><ul class="itemize"><li class="li-itemize">
We removed the keyword <code><span style="color:blue">static</span></code>.
</li><li class="li-itemize">We removed the first parameter.
</li><li class="li-itemize">We replaced <code>t1</code> with <code><span style="color:blue">this</span></code>.
</li></ul><p>Optionally, you could replace <code>t2</code> with <code>that</code>.
Unlike <code><span style="color:blue">this</span></code>, <code>that</code> is not a keyword; it&#X2019;s just a slightly clever variable name.</p><p>And here&#X2019;s how we would invoke the instance method:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Time endTime = startTime.add(runningTime);</td></tr>
</table><p>That&#X2019;s all there is to it.
Static methods and instance methods do the same thing, and you can convert from one to the other with just a few changes.</p><p>There&#X2019;s only one problem: the addition code itself is not correct.
For this example, it returns <span style="font-family:monospace">20:66</span>, which is not a valid time.
If <code>second</code> exceeds 59, we have to &#X201C;carry&#X201D; into the minutes column, and if <code>minute</code> exceeds 59, we have to carry into <code>hour</code>.</p><p>Here is a better version of <code>add</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Time add(Time t2) {
    Time sum = <span style="color:blue">new</span> Time();
    sum.hour = <span style="color:blue">this</span>.hour + t2.hour;
    sum.minute = <span style="color:blue">this</span>.minute + t2.minute;
    sum.second = <span style="color:blue">this</span>.second + t2.second;

    <span style="color:blue">if</span> (sum.second &gt;= 60.0) {
        sum.second -= 60.0;
        sum.minute += 1;
    }
    <span style="color:blue">if</span> (sum.minute &gt;= 60) {
        sum.minute -= 60;
        sum.hour += 1;
    }
    <span style="color:blue">return</span> sum;
}</td></tr>
</table><p>It&#X2019;s still possible that <code>hour</code> may exceed 23, but there&#X2019;s no <code>days</code> attribute to carry into.
In that case, <code>sum.hour&#XA0;-=&#XA0;24</code> would yield the correct result.</p>
<!--TOC section id="sec138" Pure methods and modifiers-->
<h2 id="sec138" class="section">11.9&#XA0;&#XA0;Pure methods and modifiers</h2><!--SEC END --><p>This implementation of <code>add</code> does not modify either of the parameters.
Instead, it creates and returns a new <code>Time</code> object.
As an alternative, we could have written a method like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> increment(<span style="color:blue">double</span> seconds) {
    <span style="color:blue">this</span>.second += seconds;
    <span style="color:blue">while</span> (<span style="color:blue">this</span>.second &gt;= 60.0) {
        <span style="color:blue">this</span>.second -= 60.0;
        <span style="color:blue">this</span>.minute += 1;
    }
    <span style="color:blue">while</span> (<span style="color:blue">this</span>.minute &gt;= 60) {
        <span style="color:blue">this</span>.minute -= 60;
        <span style="color:blue">this</span>.hour += 1;
    }
}</td></tr>
</table><p>The <code>increment</code> method modifies an existing <code>Time</code> object.
It doesn&#X2019;t create a new one, and it doesn&#X2019;t return anything.</p><p><a id="hevea_default622"></a>
<a id="hevea_default623"></a></p><p>In contrast, methods like <code>add</code> are called <span style="font-weight:bold">pure</span> because:</p><ul class="itemize"><li class="li-itemize">
They don&#X2019;t modify the parameters.
</li><li class="li-itemize">They don&#X2019;t have any other &#X201C;side effects&#X201D;, like printing.
</li><li class="li-itemize">The return value only depends on the parameters, not on any other state.
</li></ul><p><a id="hevea_default624"></a>
<a id="hevea_default625"></a></p><p>Methods like <code>increment</code>, which breaks the first rule, are sometimes called <span style="font-weight:bold">modifiers</span>.
They are usually void methods, but sometimes they return a reference to the object they modify.</p><p>Modifiers can be more efficient because they don&#X2019;t create new objects.
But they can also be error-prone.
When objects are aliased, the effects of modifiers can be confusing.
</p><p><a id="hevea_default626"></a></p><p>To make a class immutable, like <code>String</code>, you can provide getters but no setters and pure methods but no modifiers.
Immutable objects can be more difficult to work with, at first, but they can save you from long hours of debugging.</p>
<!--TOC section id="sec139" Vocabulary-->
<h2 id="sec139" class="section">11.10&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">class:</span></dt><dd class="dd-description"><a id="hevea_default627"></a>
Previously, we defined a class as a collection of related methods.
Now you know that a class is also a template for a new type of object.</dd><dt class="dt-description"><span style="font-weight:bold">instance:</span></dt><dd class="dd-description"><a id="hevea_default628"></a>
A member of a class.
Every object is an instance of some class.</dd><dt class="dt-description"><span style="font-weight:bold">instantiate:</span></dt><dd class="dd-description"><a id="hevea_default629"></a>
Create a new instance of a class in the computer&#X2019;s memory.</dd><dt class="dt-description"><span style="font-weight:bold">data encapsulation:</span></dt><dd class="dd-description"><a id="hevea_default630"></a>
A technique for bundling multiple named variables into a single object.</dd><dt class="dt-description"><span style="font-weight:bold">instance variable:</span></dt><dd class="dd-description"><a id="hevea_default631"></a>
An attribute of an object; a non-static variable defined at the class level.</dd><dt class="dt-description"><span style="font-weight:bold">information hiding:</span></dt><dd class="dd-description"><a id="hevea_default632"></a>
The practice of making instance variables <code><span style="color:blue">private</span></code> to limit dependencies between classes.</dd><dt class="dt-description"><span style="font-weight:bold">constructor:</span></dt><dd class="dd-description"><a id="hevea_default633"></a>
A special method that initializes the instance variables of a newly-constructed object.</dd><dt class="dt-description"><span style="font-weight:bold">shadowing:</span></dt><dd class="dd-description"><a id="hevea_default634"></a>
Defining a local variable or parameter with the same name and type as an instance variable.</dd><dt class="dt-description"><span style="font-weight:bold">client:</span></dt><dd class="dd-description"><a id="hevea_default635"></a>
A class that uses objects defined in another class.</dd><dt class="dt-description"><span style="font-weight:bold">getter:</span></dt><dd class="dd-description"><a id="hevea_default636"></a>
A method that returns the value of an instance variable.</dd><dt class="dt-description"><span style="font-weight:bold">setter:</span></dt><dd class="dd-description"><a id="hevea_default637"></a>
A method that assigns a value to an instance variable.</dd><dt class="dt-description"><span style="font-weight:bold">override:</span></dt><dd class="dd-description"><a id="hevea_default638"></a>
Replacing a default implementation of a method, such as <code>toString</code>.</dd><dt class="dt-description"><span style="font-weight:bold">instance method:</span></dt><dd class="dd-description"><a id="hevea_default639"></a>
A non-static method that has access to <code><span style="color:blue">this</span></code> and the instance variables.</dd><dt class="dt-description"><span style="font-weight:bold">identical:</span></dt><dd class="dd-description"><a id="hevea_default640"></a>
Two values that are the same; in the case of objects, two variables that refer to the same object.</dd><dt class="dt-description"><span style="font-weight:bold">equivalent:</span></dt><dd class="dd-description"><a id="hevea_default641"></a>
Two objects that are &#X201C;equal&#X201D; but not necessarily identical, as defined by the <code>equals</code> method.</dd><dt class="dt-description"><span style="font-weight:bold">pure method:</span></dt><dd class="dd-description"><a id="hevea_default642"></a>
A static method that depends only on its parameters and no other data.</dd><dt class="dt-description"><span style="font-weight:bold">modifier method:</span></dt><dd class="dd-description"><a id="hevea_default643"></a>
A method that changes the state (instance variables) of an object.</dd></dl>
<!--TOC section id="sec140" Exercises-->
<h2 id="sec140" class="section">11.11&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch11</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><p>At this point you know enough to read Appendix&#XA0;<a href="#graphics">B</a>, which is about simple 2D graphics and animations.
During the next few chapters, you should take a detour to read this appendix and work through the exercises.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>Review the documentation of <code>java.awt.Rectangle</code>.
Which methods are pure?
Which are modifiers?</em></p><p><em>If you review the documentation of <code>java.lang.String</code>, you should see that there are no modifiers, because strings are immutable.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<p><em>The implementation of <code>increment</code> in this chapter is not very efficient.
Can you rewrite it so it doesn&#X2019;t use any loops?
</em>Hint:<em> Remember the modulus operator.</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;
<a id="hevea_default644"></a><p><em>In the board game Scrabble, each tile contains a letter, which is used to spell words in rows and columns, and a score, which is used to determine the value of words.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a definition for a class named <code>Tile</code> that represents Scrabble tiles.
The instance variables should include a character named <code>letter</code> and an integer named <code>value</code>.</em></li><li class="li-enumerate"><em>Write a constructor that takes parameters named <code>letter</code> and <code>value</code> and initializes the instance variables.</em></li><li class="li-enumerate"><em>Write a method named <code>printTile</code> that takes a <code>Tile</code> object as a parameter and displays the instance variables in a reader-friendly format.</em></li><li class="li-enumerate"><em>Write a method named <code>testTile</code> that creates a <code>Tile</code> object with the letter <code>Z</code> and the value <code>10</code>, and then uses <code>printTile</code> to display the state of the object.</em></li><li class="li-enumerate"><em>Implement the <code>toString</code> and <code>equals</code> methods for a <code>Tile</code>.</em></li><li class="li-enumerate"><em>Create getters and setters for each of the attributes.</em></li></ol><p><em>The point of this exercise is to practice the mechanical part of creating a new class definition and code that tests it.
</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;<em>
Write a class definition for <code>Date</code>, an object type that contains three integers: <code>year</code>, <code>month</code>, and <code>day</code>.
This class should provide two constructors.
The first should take no parameters and initialize a default date.
The second should take parameters named <code>year</code>, <code>month</code> and <code>day</code>, and use them to initialize the instance variables.</em><p><em>Write a <code>main</code> method that creates a new <code>Date</code> object named <code>birthday</code>.
The new object should contain your birth date.
You can use either constructor.
</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;5</span>&#XA0;&#XA0;
<a id="ex.rational"></a><p><a id="hevea_default645"></a></p><p><em>A rational number is a number that can be represented as the ratio of two integers.
For example, </em>2/3<em> is a rational number, and you can think of 7 as a rational number with an implicit 1 in the denominator.
</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Define a class called <code>Rational</code>.
A <code>Rational</code> object should have two integer instance variables that store the numerator and denominator.</em></li><li class="li-enumerate"><em>Write a constructor that takes no arguments and that sets the numerator to 0 and denominator to 1.</em></li><li class="li-enumerate"><em>Write an instance method called <code>printRational</code> that displays a <code>Rational</code> in some reasonable format.</em></li><li class="li-enumerate"><em>Write a <code>main</code> method that creates a new object with type <code>Rational</code>, sets its instance variables to some values, and displays the object.</em></li><li class="li-enumerate"><em>At this stage, you have a minimal testable program.
Test it and, if necessary, debug it.</em></li><li class="li-enumerate"><em>Write a <code>toString</code> method for <code>Rational</code> and test it using <code>println</code>.</em></li><li class="li-enumerate"><em>Write a second constructor that takes two arguments and uses them to initialize the instance variables.</em></li><li class="li-enumerate"><em>Write an instance method called <code>negate</code> that reverses the sign of a rational number.
This method should be a modifier, so it should be void.
Add lines to <code>main</code> to test the new method.</em></li><li class="li-enumerate"><em>Write an instance method called <code>invert</code> that inverts the number by swapping the numerator and denominator.
It should be a modifier.
Add lines to <code>main</code> to test the new method.</em></li><li class="li-enumerate"><em>Write an instance method called <code>toDouble</code> that converts the rational number to a <span style="color:blue"><code>double</code></span> (floating-point number) and returns the result.
This method is a pure method; it does not modify the object.
As always, test the new method.</em></li><li class="li-enumerate"><em>Write an instance method named <code>reduce</code> that reduces a rational number to its lowest terms by finding the greatest common divisor (GCD) of the numerator and denominator and dividing through.
This method should be a pure method; it should not modify the instance variables of the object on which it is invoked.</em><p>Hint:<em> Finding the GCD only takes a few lines of code.
Search the web for &#X201C;Euclidean algorithm&#X201D;.</em></p></li><li class="li-enumerate"><em>Write an instance method called <code>add</code> that takes a <code>Rational</code> number as an argument, adds it to <span style="color:blue"><code>this</code></span>, and returns a new <code>Rational</code> object.</em><p><em>There are several ways to add fractions.
You can use any one you want, but you should make sure that the result of the operation is reduced so that the numerator and denominator have no common divisor (other than 1).
</em></p></li></ol><p><em>The purpose of this exercise is to write a class definition that includes a variety of methods, including constructors, static methods, instance methods, modifiers, and pure methods.
</em></p></div>
<!--TOC chapter id="sec141" Arrays of objects-->
<h1 id="sec141" class="chapter">Chapter&#XA0;12&#XA0;&#XA0;Arrays of objects</h1><!--SEC END --><p>In the remaining chapters, we will develop programs that work with playing cards and decks of cards.
Here is an outline of the road ahead:</p><ul class="itemize"><li class="li-itemize">In this chapter, we define a <code>Card</code> class and write methods that work with cards and arrays of cards.</li><li class="li-itemize">In Chapter&#XA0;<a href="#deck">13.1</a>, we create a <code>Deck</code> class that encapsulates an array of cards, and we write methods that operate on decks.</li><li class="li-itemize">In Chapter&#XA0;<a href="#eights">14</a>, we introduce inheritance as a way to create new classes that extend existing classes.
We then use all these classes to implement the card game <span style="font-style:italic">Crazy Eights</span>.</li></ul><p>The code for this chapter is in <span style="font-family:monospace">Card.java</span>, which is in the directory <span style="font-family:monospace">ch12</span> in the repository for this book.
Instructions for downloading this code are on page&#XA0;<a href="#code">??</a>.</p>
<!--TOC section id="sec142" Card objects-->
<h2 id="sec142" class="section">12.1&#XA0;&#XA0;Card objects</h2><!--SEC END --><p>
<a id="card"></a></p><p><a id="hevea_default646"></a>
<a id="hevea_default647"></a></p><p>If you are unfamiliar with traditional playing cards, now would be a good time to get a deck or read through <a href="https://en.wikipedia.org/wiki/Standard_52-card_deck"><span style="font-family:monospace">https://en.wikipedia.org/wiki/Standard_52-card_deck</span></a>.</p><p><a id="hevea_default648"></a>
<a id="hevea_default649"></a></p><p>There are 52 cards in a standard deck.
Each card belongs to one of four suits and one of 13 ranks.
The suits are Spades, Hearts, Diamonds, and Clubs.
The ranks are Ace, 2, 3, 4, 5, 6, 7, 8, 9, 10, Jack, Queen, and King.</p><p>If we want to define a class to represent a playing card, it is pretty obvious what the instance variables should be: <code>rank</code> and <code>suit</code>.
It is not as obvious what types they should be.
One possibility is a <code>String</code> containing things like <span style="color:#B20000"><code>"Spade"</code></span> for suits and <span style="color:#B20000"><code>"Queen"</code></span> for ranks.
A problem with this design is that it would not be easy to compare cards to see which had a higher rank or suit.</p><p><a id="hevea_default650"></a>
<a id="hevea_default651"></a></p><p>An alternative is to use integers to <span style="font-weight:bold">encode</span> the ranks and suits.
By &#X201C;encode&#X201D; we don&#X2019;t mean to encrypt or translate into a secret code.
We mean &#X201C;define a mapping between a sequence of numbers and the things we want to represent.&#X201D;</p><p>Here is a mapping for suits:</p><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" >Clubs</td><td style="text-align:center;white-space:nowrap" >&#X21A6;</td><td style="text-align:left;white-space:nowrap" >0 </td></tr>
<tr><td style="text-align:left;white-space:nowrap" >Diamonds</td><td style="text-align:center;white-space:nowrap" >&#X21A6;</td><td style="text-align:left;white-space:nowrap" >1 </td></tr>
<tr><td style="text-align:left;white-space:nowrap" >Hearts</td><td style="text-align:center;white-space:nowrap" >&#X21A6;</td><td style="text-align:left;white-space:nowrap" >2 </td></tr>
<tr><td style="text-align:left;white-space:nowrap" >Spades</td><td style="text-align:center;white-space:nowrap" >&#X21A6;</td><td style="text-align:left;white-space:nowrap" >3
</td></tr>
</table><p>We use the mathematical symbol &#X21A6; to make it clear that these mappings are not part of the program.
They are part of the program design, but they never appear explicitly in the code.</p><p>Each of the numerical ranks (2 through 10) maps to the corresponding integer, and for face cards:</p><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" >Ace</td><td style="text-align:center;white-space:nowrap" >&#X21A6;</td><td style="text-align:left;white-space:nowrap" >1 </td></tr>
<tr><td style="text-align:left;white-space:nowrap" >Jack</td><td style="text-align:center;white-space:nowrap" >&#X21A6;</td><td style="text-align:left;white-space:nowrap" >11 </td></tr>
<tr><td style="text-align:left;white-space:nowrap" >Queen</td><td style="text-align:center;white-space:nowrap" >&#X21A6;</td><td style="text-align:left;white-space:nowrap" >12 </td></tr>
<tr><td style="text-align:left;white-space:nowrap" >King</td><td style="text-align:center;white-space:nowrap" >&#X21A6;</td><td style="text-align:left;white-space:nowrap" >13 </td></tr>
</table><p>So far, the class definition for the <code>Card</code> type looks like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Card {
    <span style="color:blue">private int</span> rank;
    <span style="color:blue">private int</span> suit;

    <span style="color:blue">public</span> Card(<span style="color:blue">int</span> rank, <span style="color:blue">int</span> suit) {
        <span style="color:blue">this</span>.rank = rank;
        <span style="color:blue">this</span>.suit = suit;
    }
}</td></tr>
</table><p><a id="hevea_default652"></a></p><p>The instance variables are <code><span style="color:blue">private</span></code>: we can access them from inside this class, but not from other classes.</p><p>The constructor takes a parameter for each instance variable.
To create a <code>Card</code> object, we use the <code><span style="color:blue">new</span></code> operator:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Card threeOfClubs = <span style="color:blue">new</span> Card(3, 0);</td></tr>
</table><p>The result is a reference to a <code>Card</code> that represents the 3 of Clubs.</p>
<!--TOC section id="sec143" Card toString-->
<h2 id="sec143" class="section">12.2&#XA0;&#XA0;Card toString</h2><!--SEC END --><p>
<a id="printcard"></a></p><p><a id="hevea_default653"></a></p><p>When you create a new class, the first step is to declare the instance variables and write constructors.
A good next step is to write <code>toString</code>, which is useful for debugging and incremental development.</p><p><a id="hevea_default654"></a>
<a id="hevea_default655"></a></p><p>To display <code>Card</code> objects in a way that humans can read easily, we need to map the integer codes onto words.
A natural way to do that is with an array of <code>String</code>s.
We can create the array like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String[] suits = <span style="color:blue">new</span> String[4];</td></tr>
</table><p>And then assign values to the elements:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">suits[0] = <span style="color:#B20000">"Clubs"</span>;
suits[1] = <span style="color:#B20000">"Diamonds"</span>;
suits[2] = <span style="color:#B20000">"Hearts"</span>;
suits[3] = <span style="color:#B20000">"Spades"</span>;</td></tr>
</table><p>Or we can create the array and initialize the elements at the same time, as we saw in Section&#XA0;<a href="#printarray">8.3</a>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String[] suits = {<span style="color:#B20000">"Clubs"</span>, <span style="color:#B20000">"Diamonds"</span>, <span style="color:#B20000">"Hearts"</span>, <span style="color:#B20000">"Spades"</span>};</td></tr>
</table><p><a id="hevea_default656"></a>
<a id="hevea_default657"></a>
<a id="hevea_default658"></a></p><p>The state diagram in Figure&#XA0;<a href="#fig.stringarray">12.1</a> shows the result.
Each element of the array is a reference to a <code>String</code>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6027.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 12.1: State diagram of an array of strings.</td></tr>
</table></div>
<a id="fig.stringarray"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>Now we need an array to decode the ranks:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String[] ranks = {<span style="color:blue">null</span>, <span style="color:#B20000">"Ace"</span>, <span style="color:#B20000">"2"</span>, <span style="color:#B20000">"3"</span>, <span style="color:#B20000">"4"</span>, <span style="color:#B20000">"5"</span>, <span style="color:#B20000">"6"</span>,
           <span style="color:#B20000">"7"</span>, <span style="color:#B20000">"8"</span>, <span style="color:#B20000">"9"</span>, <span style="color:#B20000">"10"</span>, <span style="color:#B20000">"Jack"</span>, <span style="color:#B20000">"Queen"</span>, <span style="color:#B20000">"King"</span>};</td></tr>
</table><p>The zeroth element should never be used, because the only valid ranks are 1&#X2013;13.
We set it to <code><span style="color:blue">null</span></code> to indicate an unused element.</p><p>Using these arrays, we can create a meaningful <code>String</code> using <code>suit</code> and <code>rank</code> as indexes.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">String s = ranks[card.rank] + <span style="color:#B20000">" of "</span> + suits[card.suit];</td></tr>
</table><p>The expression <code>suits[card.suit]</code> means &#X201C;use the instance variable <code>suit</code> from the object <code>card</code> as an index into the array <code>suits</code>.&#X201D;</p><p>Now we can wrap all that in a <code>toString</code> method.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> String toString() {
    String[] ranks = {<span style="color:blue">null</span>, <span style="color:#B20000">"Ace"</span>, <span style="color:#B20000">"2"</span>, <span style="color:#B20000">"3"</span>, <span style="color:#B20000">"4"</span>, <span style="color:#B20000">"5"</span>, <span style="color:#B20000">"6"</span>,
               <span style="color:#B20000">"7"</span>, <span style="color:#B20000">"8"</span>, <span style="color:#B20000">"9"</span>, <span style="color:#B20000">"10"</span>, <span style="color:#B20000">"Jack"</span>, <span style="color:#B20000">"Queen"</span>, <span style="color:#B20000">"King"</span>};
    String[] suits = {<span style="color:#B20000">"Clubs"</span>, <span style="color:#B20000">"Diamonds"</span>, <span style="color:#B20000">"Hearts"</span>, <span style="color:#B20000">"Spades"</span>};
    String s = ranks[<span style="color:blue">this</span>.rank] + <span style="color:#B20000">" of "</span> + suits[<span style="color:blue">this</span>.suit];
    <span style="color:blue">return</span> s;
}</td></tr>
</table><p>When we display a card, <code>println</code> automatically calls <code>toString</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Card card = <span style="color:blue">new</span> Card(11, 1);
System.out.println(card);</td></tr>
</table><p>The output is <span style="font-family:monospace">Jack of Diamonds</span>.</p>
<!--TOC section id="sec144" Class variables-->
<h2 id="sec144" class="section">12.3&#XA0;&#XA0;Class variables</h2><!--SEC END --><p>
<a id="classvar"></a></p><p>So far we have seen local variables, which are declared inside a method, and instance variables, which are declared in a class definition, usually before the method definitions.</p><p>Local variables are created when a method is invoked, and their space is reclaimed when the method ends.
Instance variables are created when you construct an object and reclaimed when the object is garbage-collected.</p><p><a id="hevea_default659"></a>
<a id="hevea_default660"></a>
<a id="hevea_default661"></a></p><p>Now it&#X2019;s time to learn about <span style="font-weight:bold">class variables</span>.
Like instance variables, class variables are defined in a class definition, before the method definitions.
But they are identified by the keyword <code><span style="color:blue">static</span></code>.
They are created when the program begins (or when the class is used for the first time) and survive until the program ends.
Class variables are <em>shared</em> across all instances of the class.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Card {

    <span style="color:blue">public static final</span> String[] RANKS = {
        <span style="color:blue">null</span>, <span style="color:#B20000">"Ace"</span>, <span style="color:#B20000">"2"</span>, <span style="color:#B20000">"3"</span>, <span style="color:#B20000">"4"</span>, <span style="color:#B20000">"5"</span>, <span style="color:#B20000">"6"</span>, <span style="color:#B20000">"7"</span>,
        <span style="color:#B20000">"8"</span>, <span style="color:#B20000">"9"</span>, <span style="color:#B20000">"10"</span>, <span style="color:#B20000">"Jack"</span>, <span style="color:#B20000">"Queen"</span>, <span style="color:#B20000">"King"</span>};

    <span style="color:blue">public static final</span> String[] SUITS = {
        <span style="color:#B20000">"Clubs"</span>, <span style="color:#B20000">"Diamonds"</span>, <span style="color:#B20000">"Hearts"</span>, <span style="color:#B20000">"Spades"</span>};

    <span style="color:#007C00">// instance variables and constructors go here</span>

    <span style="color:blue">public</span> String toString() {
        <span style="color:blue">return</span> RANKS[<span style="color:blue">this</span>.rank] + <span style="color:#B20000">" of "</span> + SUITS[<span style="color:blue">this</span>.suit];
    }
}</td></tr>
</table><p><a id="hevea_default662"></a></p><p>Class variables are often used to store constant values that are needed in several places.
In that case, they should also be defined as <code><span style="color:blue">final</span></code>.
Note that whether a variable is <code><span style="color:blue">static</span></code> or <code><span style="color:blue">final</span></code> involves two separate considerations:
<code><span style="color:blue">static</span></code> means the variable is shared, and <code><span style="color:blue">final</span></code> means the variable is constant.</p><p>Naming <code><span style="color:blue">static</span>&#XA0;<span style="color:blue">final</span></code> variables with capital letters is a common convention that makes it easier to recognize their role in the class.
Inside <code>toString</code> we can refer to <code>SUITS</code> and <code>RANKS</code> as if they were local variables, but we can tell that they are class variables.</p><p>One advantage of defining <code>SUITS</code> and <code>RANKS</code> as class variables is that they don&#X2019;t need to be created (and garbage-collected) every time <code>toString</code> is called.
They may also be needed in other methods and classes, so it&#X2019;s helpful to make them available everywhere.
Since the array variables are <code><span style="color:blue">final</span></code>, and the strings they reference are immutable, there is no danger in making them <code><span style="color:blue">public</span></code>.</p>
<!--TOC section id="sec145" The compareTo method-->
<h2 id="sec145" class="section">12.4&#XA0;&#XA0;The compareTo method</h2><!--SEC END --><p>
<a id="compare"></a></p><p><a id="hevea_default663"></a></p><p>As we saw in Section&#XA0;<a href="#equals">11.7</a>, it&#X2019;s helpful to create an <code>equals</code> method to test whether two objects are equivalent.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public boolean</span> equals(Card that) {
    <span style="color:blue">return this</span>.rank == that.rank
        &amp;&amp; <span style="color:blue">this</span>.suit == that.suit;
}</td></tr>
</table><p><a id="hevea_default664"></a>
<a id="hevea_default665"></a></p><p>It would also be nice to have a method for comparing cards, so we can tell if one is higher or lower than another.
For primitive types, we can use the comparison operators &#X2013; <code>&lt;</code>, <code>&gt;</code>, etc. &#X2013; to compare values.
But these operators don&#X2019;t work for object types.</p><p>For <code>String</code>s, Java provides a <code>compareTo</code> method, as we saw in Section&#XA0;<a href="#strcmp">9.6</a>.
Like the <code>equals</code> method, we can write our own version of <code>compareTo</code> for the classes that we define.
</p><p><a id="hevea_default666"></a>
<a id="hevea_default667"></a>
<a id="hevea_default668"></a></p><p>Some types are &#X201C;totally ordered&#X201D;, which means that you can compare any two values and tell which is bigger.
Integers and strings are totally ordered.</p><p>Other types are &#X201C;unordered&#X201D;, which means that there is no meaningful way to say that one element is bigger than another.
In Java, the <code><span style="color:blue">boolean</span></code> type is unordered; if you try to compare <code><span style="color:blue">true</span>&#XA0;&lt;&#XA0;<span style="color:blue">false</span></code>, you get a compiler error.</p><p>The set of playing cards is &#X201C;partially ordered&#X201D;, which means that sometimes we can compare cards and sometimes not.
For example, we know that the 3 of Clubs is higher than the 2 of Clubs, and the 3 of Diamonds is higher than the 3 of Clubs.
But which is better, the 3 of Clubs or the 2 of Diamonds?
One has a higher rank, but the other has a higher suit.</p><p><a id="hevea_default669"></a></p><p>To make cards comparable, we have to decide which is more important: rank or suit.
The choice is arbitrary, and it might be different for different games.
But when you buy a new deck of cards, it comes sorted with all the Clubs together, followed by all the Diamonds, and so on.
So for now, let&#X2019;s say that suit is more important.</p><p>With that decided, we can write <code>compareTo</code> as follows:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public int</span> compareTo(Card that) {
    <span style="color:blue">if</span> (<span style="color:blue">this</span>.suit &lt; that.suit) {
        <span style="color:blue">return</span> -1;
    }
    <span style="color:blue">if</span> (<span style="color:blue">this</span>.suit &gt; that.suit) {
        <span style="color:blue">return</span> 1;
    }
    <span style="color:blue">if</span> (<span style="color:blue">this</span>.rank &lt; that.rank) {
        <span style="color:blue">return</span> -1;
    }
    <span style="color:blue">if</span> (<span style="color:blue">this</span>.rank &gt; that.rank) {
        <span style="color:blue">return</span> 1;
    }
    <span style="color:blue">return</span> 0;
}</td></tr>
</table><p><code>compareTo</code> returns 1 if <code><span style="color:blue">this</span></code> wins, -1 if <code>that</code> wins, and 0 if they are equivalent.
It compares suits first.
If the suits are the same, it compares ranks.
If the ranks are also the same, it returns 0.</p>
<!--TOC section id="sec146" Cards are immutable-->
<h2 id="sec146" class="section">12.5&#XA0;&#XA0;Cards are immutable</h2><!--SEC END --><p>The instance variables of <code>Card</code> are <code><span style="color:blue">private</span></code>, so they can&#X2019;t be accessed from other classes.
We can provide getters to allow other classes to read the <code>rank</code> and <code>suit</code> values:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public int</span> getRank() {
    <span style="color:blue">return this</span>.rank;
}

<span style="color:blue">public int</span> getSuit() {
    <span style="color:blue">return this</span>.suit;
}</td></tr>
</table><p><a id="hevea_default670"></a></p><p>Whether or not to provide setters is a design decision.
If we did, cards would be mutable, so you could transform one card into another.
That is probably not a feature we need, and in general mutable objects are more error-prone.
So it might be better to make cards immutable.
To do that, all we have to do is <em>not</em> provide any modifier methods (including setters).</p><p><a id="hevea_default671"></a></p><p>That&#X2019;s easy enough, but it is not foolproof, because some fool might come along later and add a modifier.
We can prevent that possibility by declaring the instance variables <code><span style="color:blue">final</span></code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Card {
    <span style="color:blue">private final int</span> rank;
    <span style="color:blue">private final int</span> suit;

    ...
}</td></tr>
</table><p>You can still assign values to these variables inside a constructor.
But if someone writes a method that tries to modify these variables, they&#X2019;ll get a compiler error.</p>
<!--TOC section id="sec147" Arrays of cards-->
<h2 id="sec147" class="section">12.6&#XA0;&#XA0;Arrays of cards</h2><!--SEC END --><p>
<a id="cardarray"></a></p><p><a id="hevea_default672"></a>
<a id="hevea_default673"></a></p><p>Just as you can create an array of <code>String</code> objects, you can create an array of <code>Card</code> objects.
The following statement creates an array of 52 cards:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Card[] cards = <span style="color:blue">new</span> Card[52];</td></tr>
</table><p>Figure&#XA0;<a href="#fig.cardarray">12.2</a> shows the state diagram for this array.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6028.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 12.2: State diagram of an unpopulated <code>Card</code> array.</td></tr>
</table></div>
<a id="fig.cardarray"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default674"></a></p><p>Although we call it an &#X201C;array of cards&#X201D;, the array contains <em>references</em> to objects; it does not contain the <code>Card</code> objects themselves.
The elements are initialized to <code><span style="color:blue">null</span></code>.
You can access the elements of the array in the usual way:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">if</span> (cards[0] == <span style="color:blue">null</span>) {
    System.out.println(<span style="color:#B20000">"No card yet!"</span>);
}</td></tr>
</table><p><a id="hevea_default675"></a>
<a id="hevea_default676"></a></p><p>But if you try to access the instance variables of the non-existent <code>Card</code>s, you will get a <code>NullPointerException</code>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">cards[0].rank      <span style="color:#007C00">// NullPointerException</span></td></tr>
</table><p><a id="hevea_default677"></a>
<a id="hevea_default678"></a></p><p>That code won&#X2019;t work until we put cards in the array.
One way to populate the array is to write nested <code><span style="color:blue">for</span></code> loops:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> index = 0;
<span style="color:blue">for</span> (<span style="color:blue">int</span> suit = 0; suit &lt;= 3; suit++) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> rank = 1; rank &lt;= 13; rank++) {
        cards[index] = <span style="color:blue">new</span> Card(rank, suit);
        index++;
    }
}</td></tr>
</table><p>The outer loop iterates suits from 0 to 3.
For each suit, the inner loop iterates ranks from 1 to 13.
Since the outer loop runs 4 times, and the inner loop runs 13 times for each suit, the body is executed 52 times.</p><p><a id="hevea_default679"></a></p><p>We use a separate variable <code>index</code> to keep track of where in the array the next card should go.
Figure&#XA0;<a href="#fig.cardarray2">12.3</a> shows what the array looks like after the first two cards have been created.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6029.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 12.3: State diagram of a <code>Card</code> array with two cards.</td></tr>
</table></div>
<a id="fig.cardarray2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default680"></a></p><p>When you work with arrays, it is convenient to have a method that displays the contents.
We have seen the pattern for traversing an array several times, so the following method should be familiar:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> printDeck(Card[] cards) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; cards.length; i++) {
        System.out.println(cards[i]);
    }
}</td></tr>
</table><p>Since <code>cards</code> has type <code>Card[]</code>, an element of <code>cards</code> has type <code>Card</code>.
So <code>println</code> invokes the <code>toString</code> method in the <code>Card</code> class.
This method is similar to invoking <code>System.out.println(Arrays.toString(cards))</code>.</p>
<!--TOC section id="sec148" Sequential search-->
<h2 id="sec148" class="section">12.7&#XA0;&#XA0;Sequential search</h2><!--SEC END --><p>
<a id="findcard"></a></p><p><a id="hevea_default681"></a></p><p>The next method we&#X2019;ll write is <code>search</code>, which takes an array of cards and a <code>Card</code> object as parameters.
It returns the index where the <code>Card</code> appears in the array, or <code>-1</code> if it doesn&#X2019;t.
This version of <code>search</code> uses the algorithm we saw in Section&#XA0;<a href="#traversal">8.6</a>, which is called <span style="font-weight:bold">sequential search</span>:</p><p><a id="hevea_default682"></a>
<a id="hevea_default683"></a></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> search(Card[] cards, Card target) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; cards.length; i++) {
        <span style="color:blue">if</span> (cards[i].equals(target)) {
            <span style="color:blue">return</span> i;
        }
    }
    <span style="color:blue">return</span> -1;
}</td></tr>
</table><p><a id="hevea_default684"></a>
<a id="hevea_default685"></a></p><p>The method returns as soon as it discovers the card, which means we don&#X2019;t have to traverse the entire array if we find the target.
If we get to the end of the loop, we know the card is not in the array.
Notice that this algorithm depends on the <code>equals</code> method.</p><p><a id="hevea_default686"></a></p><p>If the cards in the array are not in order, there is no way to search faster than sequential search.
We have to look at every card, because otherwise we can&#X2019;t be certain the card we want is not there.
But if the cards are in order, we can use better algorithms.</p><p>We will learn in the next chapter how to sort arrays.
If you pay the price to keep them sorted, finding elements becomes much easier.
Especially for large arrays, sequential search is rather inefficient.</p>
<!--TOC section id="sec149" Binary search-->
<h2 id="sec149" class="section">12.8&#XA0;&#XA0;Binary search</h2><!--SEC END --><p><a id="hevea_default687"></a></p><p>When you look for a word in a dictionary, you don&#X2019;t just search page by page from front to back.
Since the words are in alphabetical order, you probably use a <span style="font-weight:bold">binary search</span> algorithm:</p><ol class="enumerate" type=1><li class="li-enumerate">Start on a page near the middle of the dictionary.</li><li class="li-enumerate">Compare a word on the page to the word you are looking for.
If you find it, stop.</li><li class="li-enumerate">If the word on the page comes before the word you are looking for, flip to somewhere later in the dictionary and go to step 2.</li><li class="li-enumerate">If the word on the page comes after the word you are looking for, flip to somewhere earlier in the dictionary and go to step 2.</li></ol><p>If you find two adjacent words on the page and your word comes between them, you can conclude that your word is not in the dictionary.</p><p>Getting back to the array of cards, we can write a faster version of <code>search</code> if we know the cards are in order:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> binarySearch(Card[] cards, Card target) {
    <span style="color:blue">int</span> low = 0;
    <span style="color:blue">int</span> high = cards.length - 1;
    <span style="color:blue">while</span> (low &lt;= high) {
        <span style="color:blue">int</span> mid = (low + high) / 2;                 <span style="color:#007C00">// step 1</span>
        <span style="color:blue">int</span> comp = cards[mid].compareTo(target);

        <span style="color:blue">if</span> (comp == 0) {                            <span style="color:#007C00">// step 2</span>
            <span style="color:blue">return</span> mid;
        } <span style="color:blue">else if</span> (comp &lt; 0) {                      <span style="color:#007C00">// step 3</span>
            low = mid + 1;
        } <span style="color:blue">else</span> {                                    <span style="color:#007C00">// step 4</span>
            high = mid - 1;
        }
    }
    <span style="color:blue">return</span> -1;
}</td></tr>
</table><p>First, we declare <code>low</code> and <code>high</code> variables to represent the range we are searching.
Initially we search the entire array, from <code>0</code> to <code>length&#XA0;-&#XA0;1</code>.</p><p>Inside the <code><span style="color:blue">while</span></code> loop, we repeat the four steps of binary search:</p><ol class="enumerate" type=1><li class="li-enumerate">Choose an index between <code>low</code> and <code>high</code> &#X2013; call it <code>mid</code> &#X2013; and compare the card at <code>mid</code> to the target.</li><li class="li-enumerate">If you found the target, return the index.</li><li class="li-enumerate">If the card at <code>mid</code> is lower than the target, search the range from <code>mid&#XA0;+&#XA0;1</code> to <code>high</code>.</li><li class="li-enumerate">If the card at <code>mid</code> is higher than the target, search the range from <code>low</code> to <code>mid&#XA0;-&#XA0;1</code>.</li></ol><p>If <code>low</code> exceeds <code>high</code>, there are no cards in the range, so we break out of the loop and return <code>-1</code>.
Notice that this algorithm depends on the <code>compareTo</code> method of the object.</p>
<!--TOC section id="sec150" Tracing the code-->
<h2 id="sec150" class="section">12.9&#XA0;&#XA0;Tracing the code</h2><!--SEC END --><p>To see how binary search works, it&#X2019;s helpful to add the following print statement at the beginning of the loop:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">System.out.println(low + <span style="color:#B20000">", "</span> + high);</td></tr>
</table><p>If we invoke <code>binarySearch</code> like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Card card = <span style="color:blue">new</span> Card(11, 0);
System.out.println(binarySearch(cards, card));</td></tr>
</table><p>We expect to find this card at position 10.
Here is the result:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">0, 51
0, 24
0, 11
6, 11
9, 11
10</td></tr>
</table><p>If we search for a card that&#X2019;s not in the array, like <code><span style="color:blue">new</span>&#XA0;Card(15,&#XA0;1)</code>, which is the &#X201C;15 of Diamonds&#X201D;, we get the following:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">0, 51
26, 51
26, 37
26, 30
26, 27
-1</td></tr>
</table><p>Each time through the loop, we cut the distance between <code>low</code> and <code>high</code> in half.
After <span style="font-style:italic">k</span> iterations, the number of remaining cards is 52 / 2<sup><span style="font-style:italic">k</span></sup>.
To find the number of iterations it takes to complete, we set 52 / 2<sup><span style="font-style:italic">k</span></sup> = 1 and solve for <span style="font-style:italic">k</span>.
The result is log<sub>2</sub> 52, which is about 5.7.
So we might have to look at 5 or 6 cards, as opposed to all 52 if we did a sequential search.</p><p>More generally, if the array contains <span style="font-style:italic">n</span> elements, binary search requires log<sub>2</sub> <span style="font-style:italic">n</span> comparisons, and sequential search requires <span style="font-style:italic">n</span>.
For large values of <span style="font-style:italic">n</span>, binary search can be much faster.</p>
<!--TOC section id="sec151" Recursive version-->
<h2 id="sec151" class="section">12.10&#XA0;&#XA0;Recursive version</h2><!--SEC END --><p><a id="hevea_default688"></a></p><p>Another way to write a binary search is with a recursive method.
The trick is to write a method that takes <code>low</code> and <code>high</code> as parameters, and turn steps 3 and 4 into recursive invocations.
Here&#X2019;s what the code looks like:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static int</span> binarySearch(Card[] cards, Card target,
                               <span style="color:blue">int</span> low, <span style="color:blue">int</span> high) {
    <span style="color:blue">if</span> (high &lt; low) {
        <span style="color:blue">return</span> -1;
    }
    <span style="color:blue">int</span> mid = (low + high) / 2;                     <span style="color:#007C00">// step 1</span>
    <span style="color:blue">int</span> comp = cards[mid].compareTo(target);

    <span style="color:blue">if</span> (comp == 0) {                                <span style="color:#007C00">// step 2</span>
        <span style="color:blue">return</span> mid;
    } <span style="color:blue">else if</span> (comp &lt; 0) {                          <span style="color:#007C00">// step 3</span>
        <span style="color:blue">return</span> binarySearch(cards, target, mid + 1, high);
    } <span style="color:blue">else</span> {                                        <span style="color:#007C00">// step 4</span>
        <span style="color:blue">return</span> binarySearch(cards, target, low, mid - 1);
    }
}</td></tr>
</table><p>Instead of a <code><span style="color:blue">while</span></code> loop, we have an <code><span style="color:blue">if</span></code> statement to terminate the recursion.
If <code>high</code> is less than <code>low</code>, there are no cards between them, and we conclude that the card is not in the array.</p><p><a id="hevea_default689"></a>
<a id="hevea_default690"></a>
<a id="hevea_default691"></a></p><p>Two common errors in recursive programs are (1) forgetting to include a base case, and (2) writing the recursive call so that the base case is never reached.
Either error causes infinite recursion and a <code>StackOverflowException</code>.</p>
<!--TOC section id="sec152" Vocabulary-->
<h2 id="sec152" class="section">12.11&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">encode:</span></dt><dd class="dd-description"><a id="hevea_default692"></a>
To represent one set of values using another set of values, by constructing a mapping between them.</dd><dt class="dt-description"><span style="font-weight:bold">class variable:</span></dt><dd class="dd-description"><a id="hevea_default693"></a>
A variable declared within a class as <code><span style="color:blue">static</span></code>.
There is only one copy of a class variable, no matter how many objects there are.</dd><dt class="dt-description"><span style="font-weight:bold">sequential search:</span></dt><dd class="dd-description"><a id="hevea_default694"></a>
An algorithm that searches array elements, one by one, until a target value is found.</dd><dt class="dt-description"><span style="font-weight:bold">binary search:</span></dt><dd class="dd-description"><a id="hevea_default695"></a>
An algorithm that searches a sorted array by starting in the middle, comparing and element to the target, and eliminating half of the remaining elements.</dd></dl>
<!--TOC section id="sec153" Exercises-->
<h2 id="sec153" class="section">12.12&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch12</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<em>
Encapsulate the deck-building code from Section&#XA0;</em><a href="#cardarray"><em>12.6</em></a><em> in a method called <code>makeDeck</code> that takes no parameters and returns a fully-populated array of <code>Card</code>s.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
In some card games, Aces are ranked higher than Kings.
Modify the <code>compareTo</code> method to implement this ordering.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<em>
In Poker a &#X201C;flush&#X201D; is a hand that contains five or more cards of the same suit.
A hand can contain any number of cards.</em><p><a id="hevea_default696"></a></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a method called <code>suitHist</code> that takes an array of cards as a parameter and that returns a histogram of the suits in the hand.
Your solution should only traverse the array once.</em></li><li class="li-enumerate"><em>Write a method called <code>hasFlush</code> that takes an array of cards as a parameter and returns <span style="color:blue"><code>true</code></span> if the hand contains a flush (and <span style="color:blue"><code>false</code></span> otherwise).</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;<p><em>Working with cards is more interesting if you can display them on the screen.
If you have not already read Appendix&#XA0;</em><a href="#graphics"><em>B</em></a><em> about 2D graphics, you should read it before working on this exercise.
In the code directory for this chapter, <span style="font-family:monospace">ch12</span>, you will find:</em></p><ul class="itemize"><li class="li-itemize"><em><span style="font-family:monospace">cardset-oxymoron</span>: A directory containing images of playing cards.</em></li><li class="li-itemize"><em><span style="font-family:monospace">CardTable.java</span>: A sample program that demonstrates how to read and display images.</em></li></ul><p><a id="hevea_default697"></a></p><p><em>This code demonstrates the use of a 2D array, specifically an array of images.
The declaration looks like this:</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em><span style="color:blue">private</span> Image[][] images;</em></td></tr>
</table><p><em>The variable <code>images</code> refers to a 2D array of <code>Image</code> objects, which are defined in the <code>java.awt</code> package.
Here&#X2019;s the code that creates the array itself:</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>images = <span style="color:blue">new</span> Image[14][4];</em></td></tr>
</table><p><em>The array has 14 rows (one for each rank plus an unused row for rank 0) and 4 columns (one for each suit).
Here&#X2019;s the loop that populates the array:</em></p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>String cardset = <span style="color:#B20000">"cardset-oxymoron"</span>;
String suits = <span style="color:#B20000">"cdhs"</span>;

<span style="color:blue">for</span> (<span style="color:blue">int</span> suit = 0; suit &lt;= 3; suit++) {
    <span style="color:blue">char</span> c = suits.charAt(suit);

    <span style="color:blue">for</span> (<span style="color:blue">int</span> rank = 1; rank &lt;= 13; rank++) {
        String s = String.format(<span style="color:#B20000">"%s/%02d%c.gif"</span>,
                                 cardset, rank, c);
        images[rank][suit] = <span style="color:blue">new</span> ImageIcon(s).getImage();
    }
}</em></td></tr>
</table><p><em>The variable <code>cardset</code> contains the name of the directory that contains the image files.
<code>suits</code> is a string that contains the single-letter abbreviations for the suits.
These strings are used to assemble <code>s</code>, which contains the filename for each image.
For example, when <code>rank=1</code> and <code>suit=2</code>, the value of <code>s</code> is <span style="color:#B20000"><code>"cardset-oxymoron/01h.gif"</code></span>, which is an image of the Ace of Hearts.</em></p><p><em>The last line of the loop reads the image file, extracts an <code>Image</code> object, and assigns it to a location in the array, as specified by the indexes <code>rank</code> and <code>suit</code>.
For example, the image of the Ace of Hearts is stored in row 1, column 2.</em></p><p><em>If you compile and run <span style="font-family:monospace">CardTable.java</span>, you should see images of a deck of cards laid out on a green table.
You can use this class as a starting place to implement your own card games.</em></p></div>
<!--TOC chapter id="sec154" Objects of arrays-->
<h1 id="sec154" class="chapter">Chapter&#XA0;13&#XA0;&#XA0;Objects of arrays</h1><!--SEC END --><p>
<a id="Deck"></a></p><p><a id="hevea_default698"></a></p><p>In the previous chapter, we defined a class to represent cards and used an array of <code>Card</code> objects to represent a deck.</p><p>In this chapter, we take another step toward object-oriented programming by defining a class to represent a deck of cards.
And we present algorithms for shuffling and sorting arrays.</p><p>The code for this chapter is in <span style="font-family:monospace">Card.java</span> and <span style="font-family:monospace">Deck.java</span>, which are in the directory <span style="font-family:monospace">ch13</span> in the repository for this book.
Instructions for downloading this code are on page&#XA0;<a href="#code">??</a>.</p>
<!--TOC section id="sec155" The Deck class-->
<h2 id="sec155" class="section">13.1&#XA0;&#XA0;The Deck class</h2><!--SEC END --><p>
<a id="deck"></a></p><p>The main idea of this chapter is to create a <code>Deck</code> class that encapsulates an array of <code>Card</code>s.
The initial class definition looks like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Deck {
    <span style="color:blue">private</span> Card[] cards;

    <span style="color:blue">public</span> Deck(<span style="color:blue">int</span> n) {
        <span style="color:blue">this</span>.cards = <span style="color:blue">new</span> Card[n];
    }
}</td></tr>
</table><p><a id="hevea_default699"></a>
<a id="hevea_default700"></a></p><p>The constructor initializes the instance variable with an array of <code>n</code> cards, but it doesn&#X2019;t create any card objects.
Figure&#XA0;<a href="#fig.deckobject">13.1</a> shows what a <code>Deck</code> looks like with no cards.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6030.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 13.1: State diagram of an unpopulated <code>Deck</code> object.</td></tr>
</table></div>
<a id="fig.deckobject"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>We&#X2019;ll add a second constructor that makes a standard 52-card deck and populates it with <code>Card</code> objects:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Deck() {
    <span style="color:blue">this</span>.cards = <span style="color:blue">new</span> Card[52];
    <span style="color:blue">int</span> index = 0;
    <span style="color:blue">for</span> (<span style="color:blue">int</span> suit = 0; suit &lt;= 3; suit++) {
        <span style="color:blue">for</span> (<span style="color:blue">int</span> rank = 1; rank &lt;= 13; rank++) {
            <span style="color:blue">this</span>.cards[index] = <span style="color:blue">new</span> Card(rank, suit);
            index++;
        }
    }
}</td></tr>
</table><p>This method is similar to the example in Section&#XA0;<a href="#cardarray">12.6</a>; we just turned it into a constructor.
We can now create a standard <code>Deck</code> like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Deck deck = <span style="color:blue">new</span> Deck();</td></tr>
</table><p><a id="hevea_default701"></a></p><p>Now that we have a <code>Deck</code> class, we have a logical place to put methods that pertain to decks.
Looking at the methods we have written so far, one obvious candidate is <code>printDeck</code> from Section&#XA0;<a href="#cardarray">12.6</a>.
</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> print() {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; <span style="color:blue">this</span>.cards.length; i++) {
        System.out.println(<span style="color:blue">this</span>.cards[i]);
    }
}</td></tr>
</table><p>When you transform a static method into an instance method, it usually gets shorter.
We can simply type <code>deck.print()</code> to invoke the instance method.</p>
<!--TOC section id="sec156" Shuffling decks-->
<h2 id="sec156" class="section">13.2&#XA0;&#XA0;Shuffling decks</h2><!--SEC END --><p>
<a id="shuffle"></a></p><p><a id="hevea_default702"></a></p><p>For most card games you need to be able to shuffle the deck; that is, put the cards in a random order.
In Section&#XA0;<a href="#random">8.7</a> we saw how to generate random numbers, but it is not obvious how to use them to shuffle a deck.</p><p>One possibility is to model the way humans shuffle, which is usually dividing the deck in two halves and then choosing alternately from each one.
Since humans usually don&#X2019;t shuffle perfectly, after about seven iterations the order of the deck is pretty well randomized.</p><p>But a computer program would have the annoying property of doing a perfect shuffle every time, which is not very random.
In fact, after eight perfect shuffles, you would find the deck back in the order you started in!
(For more information, see <a href="https://en.wikipedia.org/wiki/Faro_shuffle"><span style="font-family:monospace">https://en.wikipedia.org/wiki/Faro_shuffle</span></a>.)</p><p><a id="hevea_default703"></a></p><p>A better shuffling algorithm is to traverse the deck one card at a time, and at each iteration choose two cards and swap them.
Here is an outline of how this algorithm works.
To sketch the program, we will use a combination of Java statements and English.
This technique is sometimes called <span style="font-weight:bold">pseudocode</span>.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">for</span> each index i {
    <span style="color:#007C00">// choose a random number between i and length - 1
    // swap the ith card and the randomly-chosen card</span>
}</td></tr>
</table><p><a id="hevea_default704"></a>
<a id="hevea_default705"></a></p><p>The nice thing about pseudocode is that it often makes clear what methods you are going to need.
In this case, we need a method that chooses a random integer between <code>low</code> and <code>high</code>, and a method that takes two indexes and swaps the cards at those positions.
Methods like these are called <span style="font-weight:bold">helper methods</span>, because they help you implement more complex algorithms.</p><p><a id="hevea_default706"></a>
<a id="hevea_default707"></a></p><p>And this process &#X2013; writing pseudocode first and then writing methods to make it work &#X2013; is called <span style="font-weight:bold">top-down development</span> (see <a href="https://en.wikipedia.org/wiki/Top-down_and_bottom-up_design"><span style="font-family:monospace">https://en.wikipedia.org/wiki/Top-down_and_bottom-up_design</span></a>).</p><p><a id="hevea_default708"></a></p><p>One of the exercises at the end of the chapter asks you to write the helper methods <code>randomInt</code> and <code>swapCards</code> and use them to implement <code>shuffle</code>.</p>
<!--TOC section id="sec157" Selection sort-->
<h2 id="sec157" class="section">13.3&#XA0;&#XA0;Selection sort</h2><!--SEC END --><p>
<a id="sorting"></a></p><p><a id="hevea_default709"></a>
<a id="hevea_default710"></a></p><p>Now that we have messed up the deck, we need a way to put it back in order.
There is an algorithm for sorting that is ironically similar to the algorithm for shuffling.
It&#X2019;s called <span style="font-weight:bold">selection sort</span>, because it works by traversing the array repeatedly and selecting the lowest (or highest) remaining card each time.</p><p>During the first iteration, we find the lowest card and swap it with the card in the 0th position.
During the <span style="font-style:italic">i</span>th iteration, we find the lowest card to the right of <span style="font-style:italic">i</span> and swap it with the <span style="font-style:italic">i</span>th card.
Here is pseudocode for selection sort:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> selectionSort() {
    <span style="color:blue">for</span> each index i {
        <span style="color:#007C00">// find the lowest card at or to the right of i
        // swap the ith card and the lowest card found</span>
    }
}</td></tr>
</table><p>Again, the pseudocode helps with the design of the helper methods.
In this algorithm we can use <code>swapCards</code> again, so we only need a method to find the lowest card; we&#X2019;ll call it <code>indexLowest</code>.</p><p>One of the exercises at the end of the chapter asks you to write the helper method <code>indexLowest</code> and use it to implement <code>selectionSort</code>.</p>
<!--TOC section id="sec158" Merge sort-->
<h2 id="sec158" class="section">13.4&#XA0;&#XA0;Merge sort</h2><!--SEC END --><p>
<a id="mergesort"></a></p><p><a id="hevea_default711"></a></p><p>Selection sort is a simple algorithm, but it is not very efficient.
To sort <span style="font-style:italic">n</span> items, it has to traverse the array <span style="font-style:italic">n</span>&#X2212;1 times.
Each traversal takes an amount of time proportional to <span style="font-style:italic">n</span>.
The total time, therefore, is proportional to <span style="font-style:italic">n</span><sup>2</sup>.</p><p><a id="hevea_default712"></a>
<a id="hevea_default713"></a></p><p>In the next two sections, we&#X2019;ll develop a more efficient algorithm called <span style="font-weight:bold">merge sort</span>.
To sort <span style="font-style:italic">n</span> items, merge sort takes time proportional to <span style="font-style:italic">n</span> log<sub>2</sub> <span style="font-style:italic">n</span>.
That may not seem impressive, but as <span style="font-style:italic">n</span> gets big, the difference between <span style="font-style:italic">n</span><sup>2</sup> and <span style="font-style:italic">n</span> log<sub>2</sub> <span style="font-style:italic">n</span> can be enormous.</p><p>For example, log<sub>2</sub> of one million is around 20.
So if you had to sort a million numbers, selection sort would require one trillion steps; merge sort would require only 20 million.</p><p>The idea behind merge sort is this: if you have two subdecks, each of which has already been sorted, it is easy and fast to merge them into a single, sorted deck.
Try this out with a deck of cards:</p><ol class="enumerate" type=1><li class="li-enumerate">Form two subdecks with about 10 cards each, and sort them so that when they are face up the lowest cards are on top.
Place both decks face up in front of you.</li><li class="li-enumerate">Compare the top card from each deck and choose the lower one.
Flip it over and add it to the merged deck.</li><li class="li-enumerate">Repeat step 2 until one of the decks is empty.
Then take the remaining cards and add them to the merged deck.</li></ol><p>The result should be a single sorted deck.
In the next few sections, we&#X2019;ll explain how to implement this algorithm in Java.</p>
<!--TOC section id="sec159" Subdecks-->
<h2 id="sec159" class="section">13.5&#XA0;&#XA0;Subdecks</h2><!--SEC END --><p><a id="hevea_default714"></a></p><p>The first step of merge sort is to split the deck into two subdecks, each with about half the cards.
So we might want a method, <code>subdeck</code>, that takes a deck and a range of indexes.
It returns a new deck that contains the specified subset of the cards:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Deck subdeck(<span style="color:blue">int</span> low, <span style="color:blue">int</span> high) {
    Deck sub = <span style="color:blue">new</span> Deck(high - low + 1);
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; sub.cards.length; i++) {
        sub.cards[i] = <span style="color:blue">this</span>.cards[low + i];
    }
    <span style="color:blue">return</span> sub;
}</td></tr>
</table><p>The first line creates an unpopulated subdeck.
Inside the <code><span style="color:blue">for</span></code> loop, the subdeck gets populated with copies of references from the deck.</p><p><a id="hevea_default715"></a></p><p>The length of the subdeck is <code>high&#XA0;-&#XA0;low&#XA0;+&#XA0;1</code>, because both the low card and the high card are included.
This sort of computation can be confusing, and forgetting the <code>+&#XA0;1</code> often leads to &#X201C;off-by-one&#X201D; errors.
Drawing a picture is usually the best way to avoid them.</p><p><a id="hevea_default716"></a>
<a id="hevea_default717"></a></p><p>Figure&#XA0;<a href="#fig.subdeck">13.2</a> is a state diagram of a subdeck with <code>low&#XA0;=&#XA0;0</code> and <code>high&#XA0;=&#XA0;4</code>.
The result is a hand with five cards that are <em>shared</em> with the original deck; that is, they are aliased.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6031.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 13.2: State diagram showing the effect of <code>subdeck</code>.</td></tr>
</table></div>
<a id="fig.subdeck"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default718"></a>
<a id="hevea_default719"></a></p><p>Aliasing might not be a good idea, because changes to shared cards would be reflected in multiple decks.
But since <code>Card</code> objects are immutable, this kind of aliasing is not a problem at all.</p>
<!--TOC section id="sec160" Merging decks-->
<h2 id="sec160" class="section">13.6&#XA0;&#XA0;Merging decks</h2><!--SEC END --><p>The next helper method we need is <code>merge</code>, which takes two sorted subdecks and returns a new deck containing all cards from both decks, in order.
Here&#X2019;s what the algorithm looks like in pseudocode, assuming the subdecks are named <code>d1</code> and <code>d2</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static</span> Deck merge(Deck d1, Deck d2) {
    <span style="color:#007C00">// create a new deck big enough for all the cards

    // use the index i to keep track of where we are at in
    // the first deck, and the index j for the second deck</span>
    <span style="color:blue">int</span> i = 0;
    <span style="color:blue">int</span> j = 0;</td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">    <span style="color:#007C00">// the index k traverses the result deck</span>
    <span style="color:blue">for</span> (<span style="color:blue">int</span> k = 0; k &lt; result.cards.length; k++) {

        <span style="color:#007C00">// if d1 is empty, d2 wins
        // if d2 is empty, d1 wins
        // otherwise, compare the two cards

        // add the winner to the new deck at position k
        // increment either i or j</span>
    }
    <span style="color:#007C00">// return the new deck</span>
}</td></tr>
</table><p>One of the exercises at the end of the chapter asks you to implement <code>merge</code>.</p>
<!--TOC section id="sec161" Adding recursion-->
<h2 id="sec161" class="section">13.7&#XA0;&#XA0;Adding recursion</h2><!--SEC END --><p>Once your <code>merge</code> method is working correctly, you can try out a simple version of merge sort:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Deck almostMergeSort() {
    <span style="color:#007C00">// divide the deck into two subdecks
    // sort the subdecks using selectionSort
    // merge the two halves and return the result</span>
}</td></tr>
</table><p>An exercise at the end of the chapter asks you to implement this algorithm.
Once you get it working, the real fun begins!
The magical thing about merge sort is that it is inherently recursive.</p><p>At the point where you sort the subdecks, why should you invoke the slower algorithm, <code>selectionSort</code>?
Why not invoke the spiffy new <code>mergeSort</code> you are in the process of writing?
Not only is that a good idea, it is <em>necessary</em> to achieve the log<sub>2</sub> performance advantage.
<a id="hevea_default720"></a></p><p>To make <code>mergeSort</code> work recursively, you have to add a base case; otherwise it repeats forever.
A simple base case is a subdeck with 0 or 1 cards.
If <code>mergeSort</code> receives such a small subdeck, it can return it unmodified since it would already be sorted.</p><p>The recursive version of <code>mergeSort</code> should look something like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Deck mergeSort() {
    <span style="color:#007C00">// if the deck is 0 or 1 cards, return it
    // divide the deck into two subdecks
    // sort the subdecks using mergeSort
    // merge the two halves and return the result</span>
}</td></tr>
</table><p><a id="hevea_default721"></a></p><p>As usual, there are two ways to think about recursive programs: you can think through the entire flow of execution, or you can make the &#X201C;leap of faith&#X201D; (see Section&#XA0;<a href="#leap%20of%20faith">6.8</a>).
This example should encourage you to make the leap of faith.</p><p>When you used <code>selectionSort</code> to sort the subdecks, you didn&#X2019;t feel compelled to follow the flow of execution.
You just assumed it works because you had already debugged it.
And all you did to make <code>mergeSort</code> recursive was replace one sorting algorithm with another.
There is no reason to read the program any differently.</p><p>Well, almost.
You might have to give some thought to getting the base case right and making sure that you reach it eventually.
But other than that, writing the recursive version should be no problem.</p>
<!--TOC section id="sec162" Vocabulary-->
<h2 id="sec162" class="section">13.8&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">pseudocode:</span></dt><dd class="dd-description"><a id="hevea_default722"></a>
A way of designing programs by writing rough drafts in a combination of English and Java.</dd><dt class="dt-description"><span style="font-weight:bold">helper method:</span></dt><dd class="dd-description"><a id="hevea_default723"></a>
Often a small method that does not do anything enormously useful by itself, but which helps another, more complex method.</dd><dt class="dt-description"><span style="font-weight:bold">top-down development:</span></dt><dd class="dd-description"><a id="hevea_default724"></a>
Breaking down a problem into sub-problems, and solving each sub-problem one at a time.</dd><dt class="dt-description"><span style="font-weight:bold">selection sort:</span></dt><dd class="dd-description"><a id="hevea_default725"></a>
A simple sorting algorithm that searches for the smallest or largest element <span style="font-style:italic">n</span> times.</dd><dt class="dt-description"><span style="font-weight:bold">merge sort:</span></dt><dd class="dd-description"><a id="hevea_default726"></a>
A recursive sorting algorithm that divides an array into two parts, sorts each part (using merge sort), and merges the results.</dd></dl>
<!--TOC section id="sec163" Exercises-->
<h2 id="sec163" class="section">13.9&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch13</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<em>
You can learn more about the sorting algorithms in this chapter, and others, at </em><a href="http://www.sorting-algorithms.com/"><em><span style="font-family:monospace">http://www.sorting-algorithms.com/</span></em></a><em>.
This site includes explanations of the algorithms, animations that show how they work, and analysis of their efficiency.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
The goal of this exercise is to implement the shuffling algorithm from this chapter.</em><ol class="enumerate" type=1><li class="li-enumerate"><em>In the repository for this book, you should find a file called <span style="font-family:monospace">Deck.java</span> that contains the code in this chapter.
Check that you can compile it in your environment.</em></li><li class="li-enumerate"><em>Add a <code>Deck</code> method called <code>randomInt</code> that takes two integers, <code>low</code> and <code>high</code>, and returns a random integer between <code>low</code> and <code>high</code>, including both.
You can use the <code>nextInt</code> provided by <code>java.util.Random</code>, which we saw in Section&#XA0;</em><a href="#random"><em>8.7</em></a><em>.
But you should avoid creating a <code>Random</code> object every time <code>randomInt</code> is invoked.</em></li><li class="li-enumerate"><em>Write a method called <code>swapCards</code> that takes two indexes and swaps the cards at the given locations.</em></li><li class="li-enumerate"><em>Write a method called <code>shuffle</code> that uses the algorithm in Section&#XA0;</em><a href="#shuffle"><em>13.2</em></a><em>.</em></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<em>
The goal of this exercise is to implement the sorting algorithms from this chapter.
Use the <span style="font-family:monospace">Deck.java</span> file from the previous exercise (or create a new one from scratch).</em><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a method called <code>indexLowest</code> that uses the <code>compareCard</code> method to find the lowest card in a given range of the deck (from <code>lowIndex</code> to <code>highIndex</code>, including both).</em></li><li class="li-enumerate"><em>Write a method called <code>selectionSort</code> that implements the selection sort algorithm in Section&#XA0;</em><a href="#sorting"><em>13.3</em></a><em>.</em></li><li class="li-enumerate"><em>Using the pseudocode in Section&#XA0;</em><a href="#mergesort"><em>13.4</em></a><em>, write the method called <code>merge</code>.
The best way to test it is to build and shuffle a deck.
Then use <code>subdeck</code> to form two small subdecks, and use selection sort to sort them.
Then you can pass the two halves to <code>merge</code> to see if it works.
</em><a id="hevea_default727"></a></li><li class="li-enumerate"><em>Write the simple version of <code>mergeSort</code>, the one that divides the deck in half, uses <code>selectionSort</code> to sort the two halves, and uses <code>merge</code> to create a new, sorted deck.</em></li><li class="li-enumerate"><em>Write a recursive version of <code>mergeSort</code>.
Remember that <code>selectionSort</code> is a modifier and <code>mergeSort</code> is a pure method, which means that they get invoked differently:</em><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><em>deck.selectionSort();      <span style="color:#007C00">// modifies an existing deck</span>
deck = deck.mergeSort();   <span style="color:#007C00">// replaces old deck with new</span></em></td></tr>
</table></li></ol></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;<em>
The goal of this exercise is to practice top-down programming by implementing &#X201C;insertion sort&#X201D;.
Read about insertion sort at </em><a href="http://www.sorting-algorithms.com/insertion-sort"><span style="font-family:monospace"><em>http://www.sorting-algorithms.com/insertion-sort</em></span></a><em>.
Write a method named <code>insertionSort</code> that implements this algorithm.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;5</span>&#XA0;&#XA0;<em>
Write a <code>toString</code> method for the <code>Deck</code> class.
It should return a single string that represents the cards in the deck.
When it&#X2019;s printed, this string should display the same results as the <code>print</code> method in Section&#XA0;</em><a href="#deck"><em>13.1</em></a><em>.</em><p><a id="hevea_default728"></a>
<a id="hevea_default729"></a></p><p>Hint:<em> You can use the <code>+</code> operator to concatenate strings, but it is not very efficient.
Consider using <code>java.util.StringBuilder</code>; you can find the documentation by doing a web search for &#X201C;Java StringBuilder&#X201D;.
</em></p></div>
<!--TOC chapter id="sec164" Objects of objects-->
<h1 id="sec164" class="chapter">Chapter&#XA0;14&#XA0;&#XA0;Objects of objects</h1><!--SEC END --><p>
<a id="eights"></a></p><p><a id="hevea_default730"></a></p><p>Now that we have classes that represent cards and decks, let&#X2019;s use them to make a game!
<span style="font-style:italic">Crazy Eights</span> is a classic card game for two or more players.
The main objective is to be the first player to get rid of all your cards.
Here&#X2019;s how to play:</p><ul class="itemize"><li class="li-itemize">Deal five or more cards to each player, and then deal one card face up to create the &#X201C;discard pile&#X201D;.
Place the remaining cards face down to create the &#X201C;draw pile&#X201D;.</li><li class="li-itemize">Each player takes turns placing a single card on the discard pile.
The card must match the rank or suit of the previously played card, or be an eight, which is a &#X201C;wild card&#X201D;.</li><li class="li-itemize">When players don&#X2019;t have a matching card or an eight, they must draw new cards until they get one.</li><li class="li-itemize">If the draw pile ever runs out, the discard pile is shuffled (except the top card) and becomes the new draw pile.</li><li class="li-itemize">As soon as a player has no cards, the game ends and all other players score penalty points for their remaining cards.
Eights are worth 20, face cards are worth 10, and all others are worth their rank.</li></ul><p>You can read <a href="https://en.wikipedia.org/wiki/Crazy_Eights"><span style="font-family:monospace">https://en.wikipedia.org/wiki/Crazy_Eights</span></a> for more details, but we have enough to get started.</p><p>The code for this chapter is in the directory <span style="font-family:monospace">ch14</span> in the repository for this book.
Instructions for downloading this code are on page&#XA0;<a href="#code">??</a>.</p>
<!--TOC section id="sec165" Decks and hands-->
<h2 id="sec165" class="section">14.1&#XA0;&#XA0;Decks and hands</h2><!--SEC END --><p>To implement this game, we need to represent a deck of cards, a discard pile, a draw pile, and a hand for each player.
And we need to be able to deal, draw, and discard cards.</p><p>The <code>Deck</code> class from the previous chapter meets some of these requirements, but there are two problems:</p><ul class="itemize"><li class="li-itemize">Hands and piles have different sizes, and their sizes change as the game progresses.
Our implementation of <code>Deck</code> uses a <code>Card</code> array, and the size of an array can&#X2019;t change.</li><li class="li-itemize">It&#X2019;s not clear that a <code>Deck</code> object is the right way to represent hands and piles.
We might want new classes for other collections of cards.</li></ul><p><a id="hevea_default731"></a>
<a id="hevea_default732"></a></p><p>We can solve the first problem by replacing the <code>Card</code> array with an <code>ArrayList</code>, which is in the <code>java.util</code> package.
An <code>ArrayList</code> is a <span style="font-weight:bold">collection</span>, which is an object that contains other objects.</p><p>The Java library provides a variety of collections.
For our purposes, <code>ArrayList</code> is a good choice because it provides methods to add and remove elements, and it grows and shrinks automatically.</p><p><a id="hevea_default733"></a></p><p>To solve the second problem, we can use a language feature called <span style="font-weight:bold">inheritance</span>.
We&#X2019;ll define a new class, <code>CardCollection</code>, to represent a collection of cards.
Then we&#X2019;ll define <code>Deck</code> and <code>Hand</code> as subclasses of <code>CardCollection</code>.</p><p><a id="hevea_default734"></a>
<a id="hevea_default735"></a></p><p>A <span style="font-weight:bold">subclass</span> is a new class that &#X201C;extends&#X201D; an existing class; that is, it has the attributes and methods of the existing class, plus more.
We&#X2019;ll see the details soon, but let&#X2019;s start with <code>CardCollection</code>:</p>
<!--TOC section id="sec166" CardCollection-->
<h2 id="sec166" class="section">14.2&#XA0;&#XA0;CardCollection</h2><!--SEC END --><p>Here&#X2019;s the beginning of a <code>CardCollection</code> class that uses <code>ArrayList</code> instead of a primitive array:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> CardCollection {

    <span style="color:blue">private</span> String label;
    <span style="color:blue">private</span> ArrayList&lt;Card&gt; cards;

    <span style="color:blue">public</span> CardCollection(String label) {
        <span style="color:blue">this</span>.label = label;
        <span style="color:blue">this</span>.cards = <span style="color:blue">new</span> ArrayList&lt;Card&gt;();
    }
}</td></tr>
</table><p><a id="hevea_default736"></a></p><p>When you declare an <code>ArrayList</code>, you specify the type it contains in angle brackets (<code>&lt;&gt;</code>).
This declaration says that <code>cards</code> is not just an <code>ArrayList</code>, it&#X2019;s an <code>ArrayList</code> of <code>Card</code> objects.</p><p>The constructor takes a string as an argument and assigns it to an instance variable, <code>label</code>.
It also initializes <code>cards</code> with an empty <code>ArrayList</code>.</p><p><code>ArrayList</code> provides a method, <code>add</code>, that adds an element to the collection.
We will write a <code>CardCollection</code> method that does the same thing:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> addCard(Card card) {
    <span style="color:blue">this</span>.cards.add(card);
}</td></tr>
</table><p><a id="hevea_default737"></a></p><p>Until now, we have used <code><span style="color:blue">this</span></code> explicitly to make it easy to identify attributes.
Inside <code>addCard</code> and other instance methods, you can access instance variables without using the keyword <code><span style="color:blue">this</span></code>.
So from here on, we will drop it:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> addCard(Card card) {
    cards.add(card);
}</td></tr>
</table><p>We also need to be able to remove cards from a collection.
The following method takes an index, removes the card at that location, and shifts the following cards left to fill the gap:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Card popCard(<span style="color:blue">int</span> i) {
    <span style="color:blue">return</span> cards.remove(i);
}</td></tr>
</table><p><a id="hevea_default738"></a></p><p>If we are dealing cards from a shuffled deck, we don&#X2019;t care which card gets removed.
It is most efficient to choose the last one, so we don&#X2019;t have to shift any following cards.
Here is an overloaded version of <code>popCard</code> that removes and returns the last card:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Card popCard() {
    <span style="color:blue">int</span> i = size() - 1;
    <span style="color:blue">return</span> popCard(i);
}</td></tr>
</table><p>Notice that <code>popCard</code> uses <code>CardCollection</code>&#X2019;s own <code>size</code> method, which in turn calls the <code>ArrayList</code>&#X2019;s <code>size</code> method:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public int</span> size() {
    <span style="color:blue">return</span> cards.size();
}</td></tr>
</table><p>For convenience, <code>CardCollection</code> also provides an <code>empty</code> method that returns <code><span style="color:blue">true</span></code> when <code>size</code> is zero:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public boolean</span> empty() {
    <span style="color:blue">return</span> cards.size() == 0;
}</td></tr>
</table><p><a id="hevea_default739"></a></p><p>Methods like <code>addCard</code>, <code>popCard</code>, and <code>size</code>, which invoke another method without doing much additional work, are called <span style="font-weight:bold">wrapper methods</span>.
We will use these wrapper methods to implement less trivial methods, like <code>deal</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> deal(CardCollection that, <span style="color:blue">int</span> n) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; n; i++) {
        Card card = popCard();
        that.addCard(card);
    }
}</td></tr>
</table><p>The <code>deal</code> method removes cards from the collection it is invoked on, <code><span style="color:blue">this</span></code>, and adds them to the collection it gets as a parameter, <code>that</code>.
The second parameter, <code>n</code>, is the number of cards to deal.</p><p>To access the elements of an <code>ArrayList</code>, you can&#X2019;t use the array <code>[]</code> operator.
Instead, you have to use the methods <code>get</code> and <code>set</code>.
Here is a wrapper for <code>get</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Card getCard(<span style="color:blue">int</span> i) {
    <span style="color:blue">return</span> cards.get(i);
}</td></tr>
</table><p>The <code>last</code> method gets the last card (but doesn&#X2019;t remove it):</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Card last() {
    <span style="color:blue">int</span> i = size() - 1;
    <span style="color:blue">return</span> cards.get(i);
}</td></tr>
</table><p><a id="hevea_default740"></a>
<a id="hevea_default741"></a></p><p>In order to control the ways card collections are modified, we don&#X2019;t provide a wrapper for <code>set</code>.
The only modifiers we provide are the two versions of <code>popCard</code> and the following version of <code>swapCards</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> swapCards(<span style="color:blue">int</span> i, <span style="color:blue">int</span> j) {
    Card temp = cards.get(i);
    cards.set(i, cards.get(j));
    cards.set(j, temp);
}</td></tr>
</table><p>We use <code>swapCards</code> to implement <code>shuffle</code>, which we described in Section&#XA0;<a href="#shuffle">13.2</a>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> shuffle() {
    Random random = <span style="color:blue">new</span> Random();
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = size() - 1; i &gt; 0; i--) {
        <span style="color:blue">int</span> j = random.nextInt(i);
        swapCards(i, j);
    }
}</td></tr>
</table><p><code>ArrayList</code> provides additional methods we aren&#X2019;t using here.
You can read about them in the documentation, which you can find by doing a web search for &#X201C;Java ArrayList&#X201D;.</p>
<!--TOC section id="sec167" Inheritance-->
<h2 id="sec167" class="section">14.3&#XA0;&#XA0;Inheritance</h2><!--SEC END --><p>At this point we have a class that represents a collection of cards.
Next we&#X2019;ll use it to define <code>Deck</code> and <code>Hand</code>.
Here is the complete definition of <code>Deck</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Deck <span style="color:blue">extends</span> CardCollection {

    <span style="color:blue">public</span> Deck(String label) {
        <span style="color:blue">super</span>(label);

        <span style="color:blue">for</span> (<span style="color:blue">int</span> suit = 0; suit &lt;= 3; suit++) {
            <span style="color:blue">for</span> (<span style="color:blue">int</span> rank = 1; rank &lt;= 13; rank++) {
                cards.add(<span style="color:blue">new</span> Card(rank, suit));
            }
        }
    }
}</td></tr>
</table><p><a id="hevea_default742"></a>
<a id="hevea_default743"></a></p><p>The first line uses the keyword <code><span style="color:blue">extends</span></code> to indicate that <code>Deck</code> extends the class <code>CardCollection</code>.
That means a <code>Deck</code> object has the same instance variables and methods as a <code>CardCollection</code>.
Another way to say the same thing is that <code>Deck</code> &#X201C;inherits from&#X201D; <code>CardCollection</code>.
We could also say that <code>CardCollection</code> is a <span style="font-weight:bold">superclass</span>, and <code>Deck</code> is one of its subclasses.</p><p><a id="hevea_default744"></a></p><p>In Java, classes may only extend one superclass.
Classes that do not specify a superclass with <code><span style="color:blue">extends</span></code> automatically inherit from <code>java.lang.Object</code>.
So in this example, <code>Deck</code> extends <code>CardCollection</code>, which in turn extends <code>Object</code>.
The <code>Object</code> class provides the default <code>equals</code> and <code>toString</code> methods, among other things.</p><p>Constructors are not inherited, but all other <code><span style="color:blue">public</span></code> attributes and methods are.
The only additional method in <code>Deck</code>, at least for now, is a constructor.
So you can create a <code>Deck</code> object like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Deck deck = <span style="color:blue">new</span> Deck(<span style="color:#B20000">"Deck"</span>);</td></tr>
</table><p><a id="hevea_default745"></a></p><p>The first line of the constructor uses something new, <code><span style="color:blue">super</span></code>, which is a keyword that refers to the superclass of the current class.
When <code><span style="color:blue">super</span></code> is used like a method, as in this example, it invokes the constructor of the superclass.</p><p>So in this case, <code><span style="color:blue">super</span></code> invokes the <code>CardCollection</code> constructor, which initializes the attributes <code>label</code> and <code>cards</code>.
When it returns, the <code>Deck</code> constructor resumes and populates the (empty) <code>ArrayList</code> with <code>Card</code> objects.</p><p>That&#X2019;s it for the <code>Deck</code> class.
Next we need a way to represent a hand, which is the collection of cards held by a player, and a pile, which is a collection of cards on the table.
We could define two classes, one for hands and one for piles, but there is not much difference between them.
So we&#X2019;ll use one class, called <code>Hand</code>, for both hands and piles.
Here&#X2019;s what the definition looks like:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Hand <span style="color:blue">extends</span> CardCollection {

    <span style="color:blue">public</span> Hand(String label) {
        <span style="color:blue">super</span>(label);
    }

    <span style="color:blue">public void</span> display() {
        System.out.println(getLabel() + <span style="color:#B20000">": "</span>);
        <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; size(); i++) {
            System.out.println(getCard(i));
        }
        System.out.println();
    }
}</td></tr>
</table><p>Like <code>Deck</code>, <code>Hand</code> extends <code>CardCollection</code>, so it inherits methods like <code>getLabel</code>, <code>size</code>, and <code>getCard</code>, which are used in <code>display</code>.
<code>Hand</code> also provides a constructor, which invokes the constructor of <code>CardCollection</code> (and nothing else).
</p><p>In summary, a <code>Deck</code> is just like a <code>CardCollection</code>, but it provides a different constructor.
And a <code>Hand</code> is just like a <code>CardCollection</code>, but it provides an additional method, <code>display</code>.</p>
<!--TOC section id="sec168" Dealing cards-->
<h2 id="sec168" class="section">14.4&#XA0;&#XA0;Dealing cards</h2><!--SEC END --><p>At this point we can create a <code>Deck</code> and start dealing cards.
Here&#X2019;s a simple example that deals five cards to a hand, and deals the rest into a draw pile:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Deck deck = <span style="color:blue">new</span> Deck(<span style="color:#B20000">"Deck"</span>);
deck.shuffle();

Hand hand = <span style="color:blue">new</span> Hand(<span style="color:#B20000">"Hand"</span>);
deck.deal(hand, 5);
hand.display();</td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Hand drawPile = <span style="color:blue">new</span> Hand(<span style="color:#B20000">"Draw Pile"</span>);
deck.dealAll(drawPile);
System.out.printf(<span style="color:#B20000">"Draw Pile has %d cards.\n"</span>,
                  drawPile.size());</td></tr>
</table><p><code>CardCollection</code> provides <code>dealAll</code>, which deals all of the remaining cards.
Here&#X2019;s the output of the previous example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Hand:
5 of Diamonds
Ace of Hearts
6 of Clubs
6 of Diamonds
2 of Clubs

Draw Pile has 47 cards.</td></tr>
</table><p>Of course, if you run this example you will probably get a different hand, because the deck is shuffled randomly.</p><p>If you are a careful reader, you might notice something strange about this example.
Take another look at the definition of <code>deal</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> deal(CardCollection that, <span style="color:blue">int</span> n) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; n; i++) {
        Card card = popCard();
        that.addCard(card);
    }
}</td></tr>
</table><p>Notice that the first parameter is supposed to be a <code>CardCollection</code>.
But we invoked it like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Hand hand = <span style="color:blue">new</span> Hand(<span style="color:#B20000">"Hand"</span>);
deck.deal(hand, 5);</td></tr>
</table><p>The argument is a <code>Hand</code>, not a <code>CardCollection</code>.
So why is this example legal?
It&#X2019;s because <code>Hand</code> is a subclass of <code>CardCollection</code>, so a <code>Hand</code> object is also considered to be a <code>CardCollection</code> object.
If a method expects a <code>CardCollection</code>, you can give it a <code>Hand</code>, a <code>Deck</code>, or a <code>CardCollection</code>.</p><p>But it doesn&#X2019;t work the other way around: not every <code>CardCollection</code> is a <code>Hand</code>, so if a method expects a <code>Hand</code>, you have to give it a <code>Hand</code>, not a <code>CardCollection</code>.</p><p>If it seems strange that an object can belong to more than one type, remember that this happens in real life, too.
Every cat is also a mammal, and every mammal is also an animal.
But not every animal is a mammal, and not every mammal is a cat.</p>
<!--TOC section id="sec169" The Player class-->
<h2 id="sec169" class="section">14.5&#XA0;&#XA0;The Player class</h2><!--SEC END --><p>The classes we have defined so far could be used for any card game; we have not yet implemented any of the rules specific to <span style="font-style:italic">Crazy Eights</span>.
And that&#X2019;s probably a good thing, since it makes it easy to reuse these classes if we want to make another game in the future.</p><p>But now it&#X2019;s time to implement the rules.
We&#X2019;ll use two classes: <code>Player</code>, which encapsulates player strategy, and <code>Eights</code>, which creates and maintains the state of the game.
Here is the beginning of the <code>Player</code> definition:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Player {

    <span style="color:blue">private</span> String name;
    <span style="color:blue">private</span> Hand hand;

    <span style="color:blue">public</span> Player(String name) {
        <span style="color:blue">this</span>.name = name;
        <span style="color:blue">this</span>.hand = <span style="color:blue">new</span> Hand(name);
    }</td></tr>
</table><p>A <code>Player</code> has two <code><span style="color:blue">private</span></code> attributes: a name and a hand.
The constructor takes the player&#X2019;s name as a string and saves it in an instance variable.
In this example, we have to use <code><span style="color:blue">this</span></code> to distinguish between the instance variable and the parameter with the same name.</p><p>The primary method that <code>Player</code> provides is <code>play</code>, which decides which card to discard during each turn:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Card play(Eights eights, Card prev) {
    Card card = searchForMatch(prev);
    <span style="color:blue">if</span> (card == <span style="color:blue">null</span>) {
        card = drawForMatch(eights, prev);
    }
    <span style="color:blue">return</span> card;
}</td></tr>
</table><p>The first parameter is a reference to the <code>Eights</code> object that encapsulates the state of the game.
We&#X2019;ll need it if we have to draw a new card.
The second parameter, <code>prev</code>, is the card on top of the discard pile.</p><p><a id="hevea_default746"></a></p><p>Using top-down development, we&#X2019;ll have <code>play</code> invoke two helper methods, <code>searchForMatch</code> and <code>drawForMatch</code>.
<code>searchForMatch</code> looks in the player&#X2019;s hand for a card that matches the previously played card:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Card searchForMatch(Card prev) {
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; hand.size(); i++) {
        Card card = hand.getCard(i);
        <span style="color:blue">if</span> (cardMatches(card, prev)) {
            <span style="color:blue">return</span> hand.popCard(i);
        }
    }
    <span style="color:blue">return null</span>;
}</td></tr>
</table><p>The strategy is pretty simple: the <code><span style="color:blue">for</span></code> loop searches for the first card that&#X2019;s legal to play and returns it.
If there are no cards that match, it returns <code><span style="color:blue">null</span></code>.
And in that case, we have to draw cards until we get a match:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Card drawForMatch(Eights eights, Card prev) {
    <span style="color:blue">while</span> (<span style="color:blue">true</span>) {
        Card card = eights.draw();
        System.out.println(name + <span style="color:#B20000">" draws "</span> + card);
        <span style="color:blue">if</span> (cardMatches(card, prev)) {
            <span style="color:blue">return</span> card;
        }
        hand.addCard(card);
    }
}</td></tr>
</table><p>The <code><span style="color:blue">while</span></code> loop runs until it finds a match (we&#X2019;ll assume for now that it always does).
It uses the <code>Eights</code> object to draw a card.
If it matches, it returns the card.
Otherwise it adds the card to the player&#X2019;s hand and continues.</p><p>Both <code>searchForMatch</code> and <code>drawForMatch</code> use <code>cardMatches</code>, which is a static method, also defined in <code>Player</code>.
<code>cardMatches</code> is a straightforward translation of the rules of the game:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static boolean</span> cardMatches(Card card1, Card card2) {
    <span style="color:blue">if</span> (card1.getSuit() == card2.getSuit()) {
        <span style="color:blue">return true</span>;
    }
    <span style="color:blue">if</span> (card1.getRank() == card2.getRank()) {
        <span style="color:blue">return true</span>;
    }
    <span style="color:blue">if</span> (card1.getRank() == 8) {
        <span style="color:blue">return true</span>;
    }
    <span style="color:blue">return false</span>;
}</td></tr>
</table><p>Finally, <code>Player</code> provides <code>score</code>, which computes penalty points for cards left in a player&#X2019;s hand at the end of the game:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public int</span> score() {
    <span style="color:blue">int</span> sum = 0;
    <span style="color:blue">for</span> (<span style="color:blue">int</span> i = 0; i &lt; hand.size(); i++) {
        Card card = hand.getCard(i);
        <span style="color:blue">int</span> rank = card.getRank();
        <span style="color:blue">if</span> (rank == 8) {
            sum -= 20;
        } <span style="color:blue">else if</span> (rank &gt; 10) {
            sum -= 10;
        } <span style="color:blue">else</span> {
            sum -= rank;
        }
    }
    <span style="color:blue">return</span> sum;
}</td></tr>
</table>
<!--TOC section id="sec170" The Eights class-->
<h2 id="sec170" class="section">14.6&#XA0;&#XA0;The Eights class</h2><!--SEC END --><p><a id="hevea_default747"></a></p><p>In Section&#XA0;<a href="#shuffle">13.2</a> we introduced top-down development, which is a way of developing programs by identifying high-level goals, like shuffling a deck, and breaking them into smaller problems, like finding the lowest element in an array or swapping two elements.</p><p><a id="hevea_default748"></a>
<a id="hevea_default749"></a></p><p>In this section we present <span style="font-weight:bold">bottom-up development</span>, which goes the other way around: first we identify simple pieces we need, then we assemble them into more complex algorithms.</p><p>Looking at the rules of <span style="font-style:italic">Crazy Eights</span>, we can identify some methods we&#X2019;ll need:</p><ul class="itemize"><li class="li-itemize">Create the deck, the discard and draw piles, and the player objects.</li><li class="li-itemize">Deal the cards.</li><li class="li-itemize">Check whether the game is over.</li><li class="li-itemize">If the draw pile is empty, shuffle the discard pile and move the cards into the draw pile.</li><li class="li-itemize">Draw a card.</li><li class="li-itemize">Keep track of whose turn it is and switch from one player to the next.</li><li class="li-itemize">Display the state of the game.</li><li class="li-itemize">Wait for the user before running the next turn.</li></ul><p>Now we can start implementing the pieces.
Here is the beginning of the class definition for <code>Eights</code>, which encapsulates the state of the game:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public class</span> Eights {

    <span style="color:blue">private</span> Player one;
    <span style="color:blue">private</span> Player two;
    <span style="color:blue">private</span> Hand drawPile;
    <span style="color:blue">private</span> Hand discardPile;
    <span style="color:blue">private</span> Scanner in;</td></tr>
</table><p>In this version, there are always two players.
One of the exercises at the end of the chapter asks you to modify this code to handle more players.</p><p>The last instance variable is a <code>Scanner</code> that we&#X2019;ll use to prompt the user after each move.
Here&#X2019;s a constructor that initializes the instance variables and deals the cards:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Eights() {
    Deck deck = <span style="color:blue">new</span> Deck(<span style="color:#B20000">"Deck"</span>);
    deck.shuffle();

    <span style="color:blue">int</span> handSize = 5;
    one = <span style="color:blue">new</span> Player(<span style="color:#B20000">"Allen"</span>);
    deck.deal(one.getHand(), handSize);

    two = <span style="color:blue">new</span> Player(<span style="color:#B20000">"Chris"</span>);
    deck.deal(two.getHand(), handSize);

    discardPile = <span style="color:blue">new</span> Hand(<span style="color:#B20000">"Discards"</span>);
    deck.deal(discardPile, 1);

    drawPile = <span style="color:blue">new</span> Hand(<span style="color:#B20000">"Draw pile"</span>);
    deck.dealAll(drawPile);

    in = <span style="color:blue">new</span> Scanner(System.in);
}</td></tr>
</table><p>The next piece we&#X2019;ll need is a method that checks whether the game is over.
If either hand is empty, we&#X2019;re done:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public boolean</span> isDone() {
    <span style="color:blue">return</span> one.getHand().empty() || two.getHand().empty();
}</td></tr>
</table><p>When the draw pile is empty, we have to shuffle the discard pile.
Here is a method for that:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> reshuffle() {
    Card prev = discardPile.popCard();
    discardPile.dealAll(drawPile);
    discardPile.addCard(prev);
    drawPile.shuffle();
}</td></tr>
</table><p>The first line saves the top card from <code>discardPile</code>.
The next line transfers the rest of the cards to <code>drawPile</code>.
Then we put the saved card back into <code>discardPile</code> and shuffle <code>drawPile</code>.</p><p>Now we can use <code>reshuffle</code> as part of <code>draw</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Card draw() {
    <span style="color:blue">if</span> (drawPile.empty()) {
        reshuffle();
    }
    <span style="color:blue">return</span> drawPile.popCard();
}</td></tr>
</table><p>We can switch from one player to the next like this:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Player nextPlayer(Player current) {
    <span style="color:blue">if</span> (current == one) {
        <span style="color:blue">return</span> two;
    } <span style="color:blue">else</span> {
        <span style="color:blue">return</span> one;
    }
}</td></tr>
</table><p>The <code>nextPlayer</code> method takes the current player as a parameter and returns the player who should go next.</p><p>The last two pieces are <code>displayState</code> and <code>waitForUser</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> displayState() {
    one.display();
    two.display();
    discardPile.display();
    System.out.println(<span style="color:#B20000">"Draw pile:"</span>);
    System.out.println(drawPile.size() + <span style="color:#B20000">" cards"</span>);
}</td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> waitForUser() {
    in.nextLine();
}</td></tr>
</table><p>Using these pieces, we can write <code>takeTurn</code>, which executes one player&#X2019;s turn:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> takeTurn(Player player) {
    Card prev = discardPile.last();
    Card next = player.play(<span style="color:blue">this</span>, prev);
    discardPile.addCard(next);

    System.out.println(player.getName() + <span style="color:#B20000">" plays "</span> + next);
    System.out.println();
}</td></tr>
</table><p><code>takeTurn</code> reads the top card off the discard pile and passes it to <code>player.play</code>, which we saw in the previous section.
The result is the card the player chose, which is added to the discard pile.</p><p>Finally, we use <code>takeTurn</code> and the other methods to write <code>playGame</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> playGame() {
    Player player = one;

    <span style="color:#007C00">// keep playing until there's a winner</span>
    <span style="color:blue">while</span> (!isDone()) {
        displayState();
        waitForUser();
        takeTurn(player);
        player = nextPlayer(player);
    }

    <span style="color:#007C00">// display the final score</span>
    one.displayScore();
    two.displayScore();
}</td></tr>
</table><p>Done!
Notice the result of bottom-up development is similar to top-down: we have a high-level method that calls helper methods.
The main difference is the order we used to arrive at this solution.</p>
<!--TOC section id="sec171" Class relationships-->
<h2 id="sec171" class="section">14.7&#XA0;&#XA0;Class relationships</h2><!--SEC END --><p>This chapter demonstrates two common relationships between classes:</p><dl class="description"><dt class="dt-description"><span style="font-weight:bold">composition:</span></dt><dd class="dd-description"><a id="hevea_default750"></a>
Instances of one class contain references to instances of another class.
For example, an instance of <code>Eights</code> contains references to two <code>Player</code> objects, two <code>Hand</code> objects, and a <code>Scanner</code>.</dd><dt class="dt-description"><span style="font-weight:bold">inheritance:</span></dt><dd class="dd-description"><a id="hevea_default751"></a>
One class extends another class.
For example, <code>Hand</code> extends <code>CardCollection</code>, so every instance of <code>Hand</code> is also a <code>CardCollection</code>.</dd></dl><p><a id="hevea_default752"></a>
<a id="hevea_default753"></a>
<a id="hevea_default754"></a></p><p>Composition is also known as a <span style="font-weight:bold">HAS-A</span> relationship, as in &#X201C;<code>Eights</code> HAS-A <code>Scanner</code>&#X201D;.
Inheritance is also known as an <span style="font-weight:bold">IS-A</span> relationship, as in &#X201C;a <code>Hand</code> IS-A <code>CardCollection</code>&#X201D;.
This vocabulary provides a concise way to talk about an object-oriented design.</p><p><a id="hevea_default755"></a></p><p>There is also a standard way to represent these relationships graphically in UML class diagrams.
As we saw in Section&#XA0;<a href="#UML">10.9</a>, the UML representation of a class is a box with three sections: the class name, the attributes, and the methods.
The latter two sections are optional when showing relationships.</p><p>Relationships between classes are represented by arrows: composition arrows have a standard arrow head, and inheritance arrows have a hollow triangle head (usually pointing up).
Figure&#XA0;<a href="#fig.uml1">14.1</a> shows the classes defined in this chapter and the relationships among them.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6032.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure 14.1: UML diagram for the classes in this chapter.</td></tr>
</table></div>
<a id="fig.uml1"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>UML is an international standard, so almost any software engineer in the world could look at this diagram and understand our design.
And class diagrams are only one of many graphical representations defined in the UML standard.</p><p>We hope this final chapter has been a useful summary of all the techniques presented in the book, including variables, methods, conditionals, loops, arrays, objects, and algorithms.
Congratulations on making it to the end!</p>
<!--TOC section id="sec172" Vocabulary-->
<h2 id="sec172" class="section">14.8&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">collection:</span></dt><dd class="dd-description"><a id="hevea_default756"></a>
An object that contains other objects, or more specifically, one of the objects in the Java library, like <code>ArrayList</code>, that contains objects.</dd><dt class="dt-description"><span style="font-weight:bold">inheritance:</span></dt><dd class="dd-description"><a id="hevea_default757"></a>
The ability to define a new class that has the same instance variables and methods of an existing class.</dd><dt class="dt-description"><span style="font-weight:bold">subclass:</span></dt><dd class="dd-description"><a id="hevea_default758"></a>
A class that inherits from, or extends, an existing class.</dd><dt class="dt-description"><span style="font-weight:bold">superclass:</span></dt><dd class="dd-description"><a id="hevea_default759"></a>
An existing class that is extended by another class.</dd><dt class="dt-description"><span style="font-weight:bold">wrapper method:</span></dt><dd class="dd-description"><a id="hevea_default760"></a>
A method that calls another method without doing much additional work.</dd><dt class="dt-description"><span style="font-weight:bold">bottom-up development:</span></dt><dd class="dd-description"><a id="hevea_default761"></a>
A way of developing programs by identifying simple pieces, implementing them, and then assembling them into more complex algorithms.</dd><dt class="dt-description"><span style="font-weight:bold">HAS-A:</span></dt><dd class="dd-description"><a id="hevea_default762"></a>
A relationship between two classes where one class &#X201C;has&#X201D; an instance of another class as one of its attributes.</dd><dt class="dt-description"><span style="font-weight:bold">IS-A:</span></dt><dd class="dd-description"><a id="hevea_default763"></a>
A relationship between two classes where one class extends another class; the subclass &#X201C;is&#X201D; an instance of the superclass.</dd></dl>
<!--TOC section id="sec173" Exercises-->
<h2 id="sec173" class="section">14.9&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ch14</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<em>
Design a better strategy for the <code>Player.play</code> method.
For example, if there are multiple cards you can play, and one of them is an eight, you might want to play the eight.</em><p><a id="hevea_default764"></a></p><p><em>Think of other ways you can minimize penalty points, such as playing the highest ranking cards first.
Write a new class that extends <code>Player</code> and overrides <code>play</code> to implement your strategy.
</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
Write a loop that plays the game 100 times and keeps track of how many times each player wins.
If you implemented multiple strategies in the previous exercise, you can play them against each other to evaluate which one works best.</em><p>Hint:<em> Design a <code>Genius</code> class that extends <code>Player</code> and overrides the <code>play</code> method, and then replace one of the players with a <code>Genius</code> object.
</em></p></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<em>
One limitation of the program we wrote in this chapter is that it only handles two players.
Modify the <code>Eights</code> class to create an <code>ArrayList</code> of players, and modify <code>nextPlayer</code> to select the next player.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;4</span>&#XA0;&#XA0;<em>
When we designed the program for this chapter, we tried to minimize the number of classes.
As a result, we ended up with a few awkward methods.
For example, <code>cardMatches</code> is a static method in <code>Player</code>, but it would be more natural if it were an instance method in <code>Card</code>.</em><p><em>The problem is that <code>Card</code> is supposed to be useful for any card game, not just <span style="font-style:italic">Crazy Eights</span>.
You can solve this problem by adding a new class, <code>EightsCard</code>, that extends <code>Card</code> and provides a method, <code>match</code>, that checks whether two cards match according to the rules of <span style="font-style:italic">Crazy Eights</span>.</em></p><p><em>At the same time, you could create a new class, <code>EightsHand</code>, that extends <code>Hand</code> and provides a method, <code>scoreHand</code>, that adds up the scores of the cards in the hand.
And while you&#X2019;re at it, you could add a method named <code>scoreCard</code> to <code>EightsCard</code>.</em></p><p><em>Whether or not you actually make these changes, draw a UML class diagram that shows this alternative object hierarchy.
</em></p></div>
<!--TOC chapter id="sec174" Development tools-->
<h1 id="sec174" class="chapter">Appendix&#XA0;A&#XA0;&#XA0;Development tools</h1><!--SEC END --><p>
<a id="development"></a></p><p>The steps for compiling, running, and debugging Java code depend on your development environment and operating system.
We avoided putting these details in the main text, because they can be distracting.
Instead, we provide this appendix with a brief introduction to DrJava &#X2013; an <span style="font-weight:bold">integrated development environment</span> (IDE) that is well suited for beginners &#X2013; and other development tools, including Checkstyle for code quality and JUnit for testing.</p><p><a id="hevea_default765"></a></p>
<!--TOC section id="sec175" Installing DrJava-->
<h2 id="sec175" class="section">A.1&#XA0;&#XA0;Installing DrJava</h2><!--SEC END --><p>
<a id="drjava"></a></p><p>The easiest way to start programming in Java is to use a website that compiles and runs Java code in the browser.
Examples include <a href="https://www.jdoodle.com/"><span style="font-family:monospace">jdoodle.com</span></a>, <a href="https://www.compilejava.net/"><span style="font-family:monospace">compilejava.net</span></a>, <a href="http://tutorialspoint.com/"><span style="font-family:monospace">tutorialspoint.com</span></a>, and others.</p><p>If you are unable to install software on your computer (which is often the case in public schools and Internet caf&#XE9;s), you can use these online development environments for almost everything in this book.</p><p>But if you want to compile and run Java programs on your own computer, you will need:</p><ul class="itemize"><li class="li-itemize">The <span style="font-weight:bold">Java Development Kit</span> (JDK), which includes the compiler, the <span style="font-weight:bold">Java Virtual Machine</span> (JVM) that interprets the compiled byte code, and other tools such as Javadoc.<p><a id="hevea_default766"></a>
<a id="hevea_default767"></a>
<a id="hevea_default768"></a>
<a id="hevea_default769"></a></p><p><a id="hevea_default770"></a>
<a id="hevea_default771"></a></p></li><li class="li-itemize">A simple <span style="font-weight:bold">text editor</span> such as Notepad++ or Sublime Text, and/or an IDE such as DrJava, Eclipse, jGrasp, or NetBeans.</li></ul><p>The JDK we recommend is Java SE (Standard Edition), which Oracle makes available for free.
The IDE we recommend is DrJava, which is an open-source development environment written in Java (see Figure&#XA0;<a href="#fig.drjava1">A.1</a>).</p><p>To install the JDK, search the web for &#X201C;download JDK&#X201D; which should take you to Oracle&#X2019;s website.
Scroll down to &#X201C;Java Platform, Standard Edition&#X201D; and click the download button under JDK.
Then accept the license agreement and select the installer for your operating system.
Don&#X2019;t forget to run the installer after you download it!</p><p><a id="hevea_default772"></a></p><p>To install DrJava, visit <a href="http://drjava.org"><span style="font-family:monospace">http://drjava.org</span></a> and download the <span style="font-weight:bold">JAR</span> file.
We recommend that you save it to your Desktop or another convenient location.
Simply double-click the JAR file to run DrJava.
Refer to the DrJava documentation (<a href="http://drjava.org/docs/quickstart/"><span style="font-family:monospace">http://drjava.org/docs/quickstart/</span></a>) for more details.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6033.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure A.1: Screenshot of DrJava editing the hello world program.</td></tr>
</table></div>
<a id="fig.drjava1"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>When running DrJava for the first time, we recommend you change three settings from the <span style="font-family:sans-serif">Edit </span>&gt;<span style="font-family:sans-serif"> Preferences</span> menu under <span style="font-family:sans-serif">Miscellaneous</span>: set the <span style="font-family:sans-serif">Indent Level</span> to 4, check the <span style="font-family:sans-serif">Automatically Close Block Comments</span> box, and uncheck the <span style="font-family:sans-serif">Keep Emacs-style Backup Files</span> box.</p>
<!--TOC section id="sec176" DrJava interactions-->
<h2 id="sec176" class="section">A.2&#XA0;&#XA0;DrJava interactions</h2><!--SEC END --><p>
<a id="interactions"></a></p><p>One of the most useful features of DrJava is the &#X201C;Interactions Pane&#X201D; at the bottom of the window.
It provides the ability to try out code quickly, without having to write a class definition and save/compile/run the program.
Figure&#XA0;<a href="#fig.drjava2">A.2</a> shows an example.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6034.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure A.2: Screenshot of the Interactions Pane in DrJava.</td></tr>
</table></div>
<a id="fig.drjava2"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>There is one subtle detail to note when using the Interactions feature.
If you don&#X2019;t end an expression (or statement) with a semicolon, DrJava automatically displays its value.
Notice in Figure&#XA0;<a href="#fig.drjava2">A.2</a> how the variable declarations end with semicolons, but the logic expressions in the following lines do not.
This feature saves you from having to type <code>System.out.println</code> every time.</p><p>What&#X2019;s nice about this feature is that you don&#X2019;t have to create a new class, declare a <code>main</code> method, write arbitrary expressions inside <code>System.out.println</code> statements, save the source file, and get all of your code to compile in advance.
Also, you can press the up/down arrows on the keyboard to repeat previous commands and experiment with incremental differences.</p>
<!--TOC section id="sec177" Command-line interface-->
<h2 id="sec177" class="section">A.3&#XA0;&#XA0;Command-line interface</h2><!--SEC END --><p>
<a id="commandline"></a></p><p><a id="hevea_default773"></a>
<a id="hevea_default774"></a></p><p>One of the most powerful and useful skills you can learn is how to use the <span style="font-weight:bold">command-line interface</span>, also called the &#X201C;terminal&#X201D;.
The command line is a direct interface to the operating system.
It allows you to run programs, manage files and directories, and monitor system resources.
Many advanced tools, both for software development and general purpose computing, are available only at the command line.</p><p>There are many good tutorials online for learning the command line for your operating system; just search the web for &#X201C;command line tutorial&#X201D;.
On Unix systems like Linux and OS X, you can get started with just four commands: change the working directory (<span style="font-family:monospace">cd</span>), list directory contents (<span style="font-family:monospace">ls</span>), compile Java programs (<span style="font-family:monospace">javac</span>), and run Java programs (<span style="font-family:monospace">java</span>).</p><p>Figure&#XA0;<a href="#fig.terminal">A.3</a> shows an example where the <span style="font-family:monospace">Hello.java</span> source file is stored in the <span style="font-family:monospace">Desktop</span> directory.
After changing to that location and listing the files, we use the <span style="font-family:monospace">javac</span> command to compile <span style="font-family:monospace">Hello.java</span>.
Running <span style="font-family:monospace">ls</span> again, we see that the compiler generated a new file, <span style="font-family:monospace">Hello.class</span>, which contains the byte code.
We run the program using the <span style="font-family:monospace">java</span> command, which displays the output on the following line.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6035.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure A.3: Compiling and running <span style="font-family:monospace">Hello.java</span> from the command line.</td></tr>
</table></div>
<a id="fig.terminal"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>Note that the <span style="font-family:monospace">javac</span> command requires a <em>filename</em> (or multiple source files separated by spaces), whereas the <span style="font-family:monospace">java</span> command requires a single <em>class name</em>.
If you use DrJava, it runs these commands for you behind the scenes and displays the output in the Interactions Pane.</p><p>Taking time to learn this efficient and elegant way of interacting with your operating system will make you more productive.
People who don&#X2019;t use the command line don&#X2019;t know what they&#X2019;re missing.</p>
<!--TOC section id="sec178" Command-line testing-->
<h2 id="sec178" class="section">A.4&#XA0;&#XA0;Command-line testing</h2><!--SEC END --><p>
<a id="cltesting"></a></p><p>As described in Section&#XA0;<a href="#sec%3Aexamples">1.8</a>, it&#X2019;s more effective to program and debug your code little by little than to attempt writing everything all at once.
And after you&#X2019;ve completed programming an algorithm, it&#X2019;s important to test that it works correctly on a variety of inputs.</p><p>Throughout the book, we illustrate techniques for testing your programs.
Most if not all testing is based on a simple idea: does the program do what we expect it to do?
For simple programs, it&#X2019;s not difficult to run them several times and see what happens.
But at some point, you will get tired of typing the same test cases over and over.</p><p>We can automate the process of entering input and comparing &#X201C;expected output&#X201D; with &#X201C;actual output&#X201D; using the command line.
The basic idea is to store the test cases in plain text files and trick Java into thinking they are coming from the keyboard.
Here are step-by-step instructions:</p><ol class="enumerate" type=1><li class="li-enumerate">Make sure you can compile and run the <span style="font-family:monospace">Convert.java</span> example in the <span style="font-family:monospace">ch03</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.</li><li class="li-enumerate">In the same directory as <span style="font-family:monospace">Convert.java</span>, create a plain text file named <span style="font-family:monospace">test.in</span> (&#X201C;in&#X201D; is for input).
Enter the following line and save the file:<table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">193.04</td></tr>
</table></li><li class="li-enumerate">Create a second plain text file named <span style="font-family:monospace">test.exp</span> (&#X201C;exp&#X201D; is for expected).
Enter the following line and save the file:<table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">193.04 cm = 6 ft, 4 in</td></tr>
</table></li><li class="li-enumerate">Open a terminal, and change to the directory with these files.
Run the following command to test the program:<table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">java Convert &lt; test.in &gt; test.out</td></tr>
</table></li></ol><p><a id="hevea_default775"></a>
<a id="hevea_default776"></a>
<a id="hevea_default777"></a></p><p>On the command line, <span style="font-family:monospace">&lt;</span> and <span style="font-family:monospace">&gt;</span> are <span style="font-weight:bold">redirection operators</span>.
The first one redirects the contents of <span style="font-family:monospace">test.in</span> to <code>System.in</code>, as if it were entered from the keyboard.
The second one redirects the contents of <code>System.out</code> to a new file <span style="font-family:monospace">test.out</span>, much like a screen capture.
In other words, the <span style="font-family:monospace">test.out</span> file contains the output of your program.</p><p>By the way, it&#X2019;s perfectly okay to compile your programs in DrJava (or some other environment) and run them from the command line.
Knowing both techniques allows you to use the right tool for the job.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6036.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure A.4: Using <span style="font-family:monospace">meld</span> to compare expected output with the actual output.</td></tr>
</table></div>
<a id="fig.meld"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>At this point, we just need to compare the contents <span style="font-family:monospace">test.out</span> with <span style="font-family:monospace">test.exp</span>.
If the files are the same, then the program outputted what we expected it to output.
If not, then we found a bug, and we can use the output to begin debugging our program.
Fortunately, there&#X2019;s a simple way to compare files on the command line:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">diff test.exp test.out</td></tr>
</table><p>The <span style="font-family:monospace">diff</span> utility summarizes the differences between two files.
If there are no differences, then it displays nothing, which in our case is what we want.
If the expected output differs from the actual output, then we need to continue debugging.
Usually the program is at fault, and <span style="font-family:monospace">diff</span> provides some insight about what is broken.
But there&#X2019;s also a chance that we have a correct program and the expected output is wrong.</p><p>Interpreting the results from <span style="font-family:monospace">diff</span> can be confusing, but fortunately there are many graphical tools that show the differences between two files.
For example, on Windows you can install <span style="font-family:monospace">WinMerge</span>, on Mac you can use <span style="font-family:monospace">opendiff</span> (which comes with Xcode), and on Linux there&#X2019;s <span style="font-family:monospace">meld</span>, shown in Figure&#XA0;<a href="#fig.meld">A.4</a>.</p><p>Regardless of what tool you use, the goal is the same.
Debug your program until the actual output is <em>identical</em> to the expected output.</p>
<!--TOC section id="sec179" Running Checkstyle-->
<h2 id="sec179" class="section">A.5&#XA0;&#XA0;Running Checkstyle</h2><!--SEC END --><p>
<a id="checkstyle"></a></p><p><a id="hevea_default778"></a></p><p>Checkstyle is a command-line tool that can be used to determine if your source code follows a set of style rules.
It also checks for common programming mistakes, such as class and method design problems.</p><p>You can download the latest version as a JAR file from <a href="http://checkstyle.sourceforge.net/"><span style="font-family:monospace">http://checkstyle.sourceforge.net/</span></a>.
To run Checkstyle, move (or copy) the JAR file to the same directory as your program.
Open a terminal in that location, and run the following command:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">java -jar checkstyle-*-all.jar -c /google_checks.xml *.java</td></tr>
</table><p><a id="hevea_default779"></a></p><p>The <span style="font-family:monospace">*</span> characters are <span style="font-weight:bold">wildcards</span> that match whatever version of Checkstyle you have and whatever Java source files are present.
The output indicates the file and line number of each problem.
This example refers to a method beginning on line 93, column 5 of <span style="font-family:monospace">Hello.java</span>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Hello.java:93:5: Missing a Javadoc comment</td></tr>
</table><p>The file <code>/google_checks.xml</code> is inside the JAR file and represents most of Google&#X2019;s style rules.
You can alternatively use <code>/sun_checks.xml</code> or provide your own configuration file.
See Checkstyle&#X2019;s website for more information.</p><p>If you apply Checkstyle to your source code often, you will likely internalize good style habits over time.
But there are limits to what automatic style checkers can do.
In particular, they can&#X2019;t evaluate the <em>quality</em> of your comments, the <em>meaning</em> of your variable names, or the <em>structure</em> of your algorithms.</p><p>Good comments make it easier for experienced developers to identify errors in your code.
Good variable names communicate the intent of your program and how the data is organized.
And good programs are designed to be efficient and demonstrably correct.</p>
<!--TOC section id="sec180" Tracing with a debugger-->
<h2 id="sec180" class="section">A.6&#XA0;&#XA0;Tracing with a debugger</h2><!--SEC END --><p>
<a id="debugger"></a></p><p><a id="hevea_default780"></a></p><p>A great way to visualize the flow of execution, including how parameters and arguments work, is to use a <span style="font-weight:bold">debugger</span>.
Most debuggers make it possible to:</p><p><a id="hevea_default781"></a></p><ol class="enumerate" type=1><li class="li-enumerate">
Set a <span style="font-weight:bold">breakpoint</span>, a line where you want the program to pause.
</li><li class="li-enumerate">Step through the code one line at a time and watch what it does.
</li><li class="li-enumerate">Check the values of variables and see when and how they change.
</li></ol><p>For example, open any program in DrJava and move the cursor to the first line of <code>main</code>.
Press <span style="font-family:sans-serif">Ctrl+B</span> to toggle a breakpoint on the current line; it should now be highlighted in red.
Press <span style="font-family:sans-serif">Ctrl+Shift+D</span> to turn on Debug Mode; a new pane should appear at the bottom of the window.
These commands are also available from the <span style="font-family:sans-serif">Debugger</span> menu, in case you forget the shortcut keys.</p><p><a id="hevea_default782"></a></p><p>When you run the program, execution pauses at the first breakpoint.
The debug pane displays the <span style="font-weight:bold">call stack</span>, with the current method on top of the stack, as shown in Figure&#XA0;<a href="#fig.debugger">A.5</a>.
You might be surprised to see how many methods were called before the <code>main</code> method!</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6037.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure A.5: Screenshot of the DrJava debugger.
Execution is currently paused on the first line of <code>printTwice</code>.
There is a breakpoint on the first line of <code>main</code>.</td></tr>
</table></div>
<a id="fig.debugger"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>To the right are several buttons that allow you to step through the code at your own pace.
You can also press <span style="font-family:sans-serif">Automatic Trace</span> to watch DrJava run your code one line at a time.</p><p>Using a debugger is like having the computer proofread your code out loud.
When the program is paused, you can examine (or even change) the value of any variable using the Interactions Pane.</p><p>Tracing allows you to follow the flow of execution and see how data pass from one method to another.
You might expect the code do one thing, but then the debugger shows it doing something else.
At that moment, you gain insight about what may be wrong with the code.</p><p>You can edit your code while debugging it, but we don&#X2019;t recommend it.
If you add or delete multiple lines of code while the program is paused, the results can be confusing.</p><p>See <a href="http://drjava.org/docs/user/ch09.html"><span style="font-family:monospace">http://drjava.org/docs/user/ch09.html</span></a> for more information about using the debugger feature of DrJava.</p>
<!--TOC section id="sec181" Testing with JUnit-->
<h2 id="sec181" class="section">A.7&#XA0;&#XA0;Testing with JUnit</h2><!--SEC END --><p>
<a id="JUnit"></a></p><p><a id="hevea_default783"></a></p><p>When beginners start writing methods, they usually test them by invoking them from <code>main</code> and checking the results by hand.
Writing code like this can get repetitive, but there are tools to make it easier.
For cases where we know the right answer, we can do better by writing <span style="font-weight:bold">unit tests</span>.</p><p>For example, to test <code>fibonacci</code> from Section&#XA0;<a href="#fibonacci">6.9</a>, we could write:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public static void</span> main(String[] args) {
    <span style="color:blue">if</span> (fibonacci(1) != 1) {
        System.err.println(<span style="color:#B20000">"fibonacci(1) is incorrect"</span>);
    }
    <span style="color:blue">if</span> (fibonacci(2) != 1) {
        System.err.println(<span style="color:#B20000">"fibonacci(2) is incorrect"</span>);
    }
    <span style="color:blue">if</span> (fibonacci(3) != 2) {
        System.err.println(<span style="color:#B20000">"fibonacci(3) is incorrect"</span>);
    }
}</td></tr>
</table><p>This test code is self-explanatory, but it&#X2019;s longer than it needs to be and it doesn&#X2019;t scale very well.
In addition, the error messages provide limited information.
Using a unit test framework addresses these and other issues.</p><p>JUnit is a common testing tool for Java programs (see <a href="http://junit.org"><span style="font-family:monospace">http://junit.org</span></a>).
To use it, you have to create a test class that contains test methods.
If the name of your class is <code>Class</code>, the name of the test class is <code>ClassTest</code>.
And if there is a method in <code>Class</code> named <code>method</code>, there should be a method in <code>TestClass</code> named <code>testMethod</code>.</p><p>For example, suppose that the <code>fibonacci</code> method belongs to a class named <code>Series</code>.
Here is the corresponding JUnit test class and test method:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">import</span> junit.framework.TestCase;

<span style="color:blue">public class</span> SeriesTest <span style="color:blue">extends</span> TestCase {

    <span style="color:blue">public void</span> testFibonacci() {
        assertEquals(1, Series.fibonacci(1));
        assertEquals(1, Series.fibonacci(2));
        assertEquals(2, Series.fibonacci(3));
    }
}</td></tr>
</table><p>This example uses the keyword <code><span style="color:blue">extends</span></code>, which indicates that the new class, <code>SeriesTest</code> is based on an existing class, <code>TestCase</code>, which is imported from the package <code>junit.framework</code>.</p><p>Many development environments can generate test classes and test methods automatically.
In DrJava, you can select <span style="font-family:sans-serif">New JUnit Test Case</span> from the <span style="font-family:sans-serif">File</span> menu to generate an empty test class.</p><p><code>assertEquals</code> is provided by the <code>TestCase</code> class.
It takes two arguments and checks whether they are equal.
If so, it does nothing; otherwise it displays a detailed error message.
Normally the first argument is the &#X201C;expected value&#X201D;, which we consider correct, and the second argument is the &#X201C;actual value&#X201D; we want to check.
If they are not equal, the test fails.</p><p><a id="hevea_default784"></a></p><p>Using <code>assertEquals</code> is more concise than writing your own <code><span style="color:blue">if</span></code> statements and <code>System.err</code> messages.
JUnit provides additional assert methods, such as <code>assertNull</code>, <code>assertSame</code>, and <code>assertTrue</code>, that can be used to design a variety of tests.</p><p>To run JUnit directly from DrJava, click the <span style="font-family:sans-serif">Test</span> button on the toolbar.
If all your test methods pass, you will see a green bar in the lower-right corner.
Otherwise, DrJava will take you directly to the first assertion that failed.</p>
<!--TOC section id="sec182" Vocabulary-->
<h2 id="sec182" class="section">A.8&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">IDE:</span></dt><dd class="dd-description"><a id="hevea_default785"></a>
An &#X201C;integrated development environment&#X201D; that includes tools for editing, compiling, and debugging programs.</dd><dt class="dt-description"><span style="font-weight:bold">JDK:</span></dt><dd class="dd-description"><a id="hevea_default786"></a>
The &#X201C;Java Development Kit&#X201D; that contains the compiler, Javadoc, and other tools.</dd><dt class="dt-description"><span style="font-weight:bold">JVM:</span></dt><dd class="dd-description"><a id="hevea_default787"></a>
The &#X201C;Java Virtual Machine&#X201D; that interprets the compiled byte code.</dd><dt class="dt-description"><span style="font-weight:bold">text editor:</span></dt><dd class="dd-description"><a id="hevea_default788"></a>
A program that edits plain text files, the format used by most programming languages.</dd><dt class="dt-description"><span style="font-weight:bold">JAR:</span></dt><dd class="dd-description"><a id="hevea_default789"></a>
A &#X201C;Java Archive&#X201D;, which is essentially a ZIP file containing classes and other resources.</dd><dt class="dt-description"><span style="font-weight:bold">command-line interface:</span></dt><dd class="dd-description"><a id="hevea_default790"></a>
A means of interacting with the computer by issuing commands in the form of successive lines of text.</dd><dt class="dt-description"><span style="font-weight:bold">redirection operator:</span></dt><dd class="dd-description"><a id="hevea_default791"></a>
A command-line feature that substitutes <code>System.in</code> and/or <code>System.out</code> with a plain text file.</dd><dt class="dt-description"><span style="font-weight:bold">wildcard:</span></dt><dd class="dd-description"><a id="hevea_default792"></a>
A command-line feature that allows you to specify a pattern of filenames using the <span style="font-family:monospace">*</span> character.</dd><dt class="dt-description"><span style="font-weight:bold">debugger:</span></dt><dd class="dd-description"><a id="hevea_default793"></a>
A tool that allows you to run one statement at a time and see the contents of variables.</dd><dt class="dt-description"><span style="font-weight:bold">breakpoint:</span></dt><dd class="dd-description"><a id="hevea_default794"></a>
A line of code where the debugger will pause a running program.</dd><dt class="dt-description"><span style="font-weight:bold">call stack:</span></dt><dd class="dd-description"><a id="hevea_default795"></a>
The history of method calls and where to resume execution after each method returns.</dd><dt class="dt-description"><span style="font-weight:bold">unit test:</span></dt><dd class="dd-description"><a id="hevea_default796"></a>
Code that exercises a single method of a program, testing for correctness and/or efficiency.</dd></dl>
<!--TOC chapter id="sec183" Java 2D graphics-->
<h1 id="sec183" class="chapter">Appendix&#XA0;B&#XA0;&#XA0;Java 2D graphics</h1><!--SEC END --><p>
<a id="graphics"></a></p><p><a id="hevea_default797"></a></p><p>The Java library includes a simple package for drawing 2D graphics, called <code>java.awt</code>.
<span style="font-weight:bold">AWT</span> stands for &#X201C;Abstract Window Toolkit&#X201D;.
We are only going to scratch the surface of graphics programming; you can read more about it in the Java tutorials at <a href="https://docs.oracle.com/javase/tutorial/2d/"><span style="font-family:monospace">https://docs.oracle.com/javase/tutorial/2d/</span></a>.</p>
<!--TOC section id="sec184" Creating graphics-->
<h2 id="sec184" class="section">B.1&#XA0;&#XA0;Creating graphics</h2><!--SEC END --><p><a id="hevea_default798"></a>
<a id="hevea_default799"></a>
<a id="hevea_default800"></a>
<a id="hevea_default801"></a></p><p>There are several ways to create graphics in Java; the simplest way is to use <code>java.awt.Canvas</code> and <code>java.awt.Graphics</code>.
A <code>Canvas</code> is a blank rectangular area of the screen onto which the application can draw.
The <code>Graphics</code> class provides basic drawing methods such as <code>drawLine</code>, <code>drawRect</code>, and <code>drawString</code>.</p><p>Here is an example program that draws a circle using the <code>fillOval</code> method:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">import</span> java.awt.Canvas;
<span style="color:blue">import</span> java.awt.Graphics;
<span style="color:blue">import</span> javax.swing.JFrame;

<span style="color:blue">public class</span> Drawing <span style="color:blue">extends</span> Canvas {</td></tr>
</table><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">    <span style="color:blue">public static void</span> main(String[] args) {
        JFrame frame = <span style="color:blue">new</span> JFrame(<span style="color:#B20000">"My Drawing"</span>);
        Canvas canvas = <span style="color:blue">new</span> Drawing();
        canvas.setSize(400, 400);
        frame.add(canvas);
        frame.pack();
        frame.setVisible(<span style="color:blue">true</span>);
    }

    <span style="color:blue">public void</span> paint(Graphics g) {
        g.fillOval(100, 100, 200, 200);
    }
}</td></tr>
</table><p>The <code>Drawing</code> class extends <code>Canvas</code>, so it has all the methods provided by <code>Canvas</code>, including <code>setSize</code>.
You can read about the other methods in the documentation, which you can find by doing a web search for &#X201C;Java Canvas&#X201D;.</p><p><a id="hevea_default802"></a>
<a id="hevea_default803"></a></p><p>In the <code>main</code> method, we:</p><ol class="enumerate" type=1><li class="li-enumerate">Create a <code>JFrame</code> object, which is the window that will contain the canvas.</li><li class="li-enumerate">Create a <code>Drawing</code> object (which is the canvas), set its width and height, and add it to the frame.</li><li class="li-enumerate">Pack the frame (resize it) to fit the canvas, and display it on the screen.
</li></ol><p><a id="hevea_default804"></a></p><p>Once the frame is visible, the <code>paint</code> method is called whenever the canvas needs to be drawn; for example, when the window is moved or resized.
The application doesn&#X2019;t end after the <code>main</code> method returns; instead, it waits for the <code>JFrame</code> to close.
If you run this code, you should see a black circle on a gray background.</p>
<!--TOC section id="sec185" Graphics methods-->
<h2 id="sec185" class="section">B.2&#XA0;&#XA0;Graphics methods</h2><!--SEC END --><p><a id="hevea_default805"></a>
<a id="hevea_default806"></a></p><p>You are probably used to Cartesian <span style="font-weight:bold">coordinates</span>, where <span style="font-style:italic">x</span> and <span style="font-style:italic">y</span> values can be positive or negative.
In contrast, Java uses a coordinate system where the origin is in the upper-left corner.
That way, <span style="font-style:italic">x</span> and <span style="font-style:italic">y</span> are always positive integers.
Figure&#XA0;<a href="#fig.coordinates">B.1</a> shows these coordinate systems.</p><p>Graphical coordinates are measured in <span style="font-weight:bold">pixels</span>; each pixel corresponds to a dot on the screen.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6038.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure B.1: Diagram of the difference between Cartesian coordinates and Java graphical coordinates.</td></tr>
</table></div>
<a id="fig.coordinates"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>To draw on the canvas, you invoke methods on a <code>Graphics</code> object.
You don&#X2019;t have to create the <code>Graphics</code> object; it gets created when you create the <code>Canvas</code>, and it gets passed as an argument to <code>paint</code>.</p><p>The previous example used <code>fillOval</code>, which has the following signature:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:#007C00">/**
 * Fills an oval bounded by the specified rectangle with
 * the current color.
 */</span>
<span style="color:blue">public void</span> fillOval(<span style="color:blue">int</span> x, <span style="color:blue">int</span> y, <span style="color:blue">int</span> width, <span style="color:blue">int</span> height)</td></tr>
</table><p><a id="hevea_default807"></a></p><p>The four parameters specify a <span style="font-weight:bold">bounding box</span>, which is the rectangle in which the oval is drawn.
<code>x</code> and <code>y</code> specify the the location of the upper-left corner of the bounding box.
The bounding box itself is not drawn (see Figure&#XA0;<a href="#fig.circle">B.2</a>).</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6039.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure B.2: Diagram of an oval inside its bounding box.</td></tr>
</table></div>
<a id="fig.circle"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p><a id="hevea_default808"></a></p><p>To choose the color of a shape, invoke <code>setColor</code> on the <code>Graphics</code> object:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">g.setColor(Color.red);</td></tr>
</table><p>The <code>setColor</code> method determines the color of everything that gets drawn afterward.
<code>Color.red</code> is a constant provided by the <code>Color</code> class; to use it you have to <code><span style="color:blue">import</span>&#XA0;java.awt.Color</code>.
Other colors include:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">black       blue      cyan     darkGray   gray    green
lightGray   magenta   orange   pink       white   yellow</td></tr>
</table><p><a id="hevea_default809"></a></p><p>You can create your own colors by specifying the red, green, and blue (<span style="font-weight:bold">RGB</span>) components.
For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">Color purple = <span style="color:blue">new</span> Color(128, 0, 128);</td></tr>
</table><p>Each value is an integer in the range 0 (darkest) to 255 (lightest).
The color <code>(0,&#XA0;0,&#XA0;0)</code> is black, and <code>(255,&#XA0;255,&#XA0;255)</code> is white.</p><p>You can set the background color of the <code>Canvas</code> by invoking <code>setBackground</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">canvas.setBackground(Color.white);</td></tr>
</table>
<!--TOC section id="sec186" Example drawing-->
<h2 id="sec186" class="section">B.3&#XA0;&#XA0;Example drawing</h2><!--SEC END --><p><a id="hevea_default810"></a></p><p>Suppose we want to draw a &#X201C;Hidden Mickey&#X201D;, which is an icon that represents Mickey Mouse (see <a href="https://en.wikipedia.org/wiki/Hidden_Mickey"><span style="font-family:monospace">https://en.wikipedia.org/wiki/Hidden_Mickey</span></a>).
We can use the oval we just drew as the face, and then add two ears.
To make the code more readable, let&#X2019;s use <code>Rectangle</code> objects to represent bounding boxes.</p><p>Here&#X2019;s a method that takes a <code>Rectangle</code> and invokes <code>fillOval</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> boxOval(Graphics g, Rectangle bb) {
    g.fillOval(bb.x, bb.y, bb.width, bb.height);
}</td></tr>
</table><p>And here&#X2019;s a method that draws Mickey Mouse:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public void</span> mickey(Graphics g, Rectangle bb) {
    boxOval(g, bb);

    <span style="color:blue">int</span> dx = bb.width / 2;
    <span style="color:blue">int</span> dy = bb.height / 2;
    Rectangle half = <span style="color:blue">new</span> Rectangle(bb.x, bb.y, dx, dy);

    half.translate(-dx / 2, -dy / 2);
    boxOval(g, half);

    half.translate(dx * 2, 0);
    boxOval(g, half);
}</td></tr>
</table><p>The first line draws the face.
The next three lines create a smaller rectangle for the ears.
We <code>translate</code> the rectangle up and left for the first ear, then to the right for the second ear.
The result is shown in Figure&#XA0;<a href="#fig.mickey">B.3</a>.</p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center">
<img src="thinkjava6040.png">
<div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" >Figure B.3: A &#X201C;Hidden Mickey&#X201D; drawn using Java graphics.</td></tr>
</table></div>
<a id="fig.mickey"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote><p>You can read more about <code>Rectangle</code> and <code>translate</code> in Chapter&#XA0;<a href="#objects">10</a>.
See the exercises at the end of this appendix for more example drawings.</p>
<!--TOC section id="sec187" Vocabulary-->
<h2 id="sec187" class="section">B.4&#XA0;&#XA0;Vocabulary</h2><!--SEC END --><dl class="description"><dt class="dt-description"><span style="font-weight:bold">AWT:</span></dt><dd class="dd-description"><a id="hevea_default811"></a>
The &#X201C;Abstract Window Toolkit&#X201D;, a Java package for creating graphical user interfaces.</dd><dt class="dt-description"><span style="font-weight:bold">coordinate:</span></dt><dd class="dd-description"><a id="hevea_default812"></a>
A value that specifies a location in a two-dimensional graphical window.</dd><dt class="dt-description"><span style="font-weight:bold">pixel:</span></dt><dd class="dd-description"><a id="hevea_default813"></a>
The unit in which coordinates are measured.</dd><dt class="dt-description"><span style="font-weight:bold">bounding box:</span></dt><dd class="dd-description"><a id="hevea_default814"></a>
A common way to specify the coordinates of a rectangular area.</dd><dt class="dt-description"><span style="font-weight:bold">RGB:</span></dt><dd class="dd-description"><a id="hevea_default815"></a>
A color model based on adding red, green, and blue light.</dd></dl>
<!--TOC section id="sec188" Exercises-->
<h2 id="sec188" class="section">B.5&#XA0;&#XA0;Exercises</h2><!--SEC END --><p>The code for this chapter is in the <span style="font-family:monospace">ap02</span> directory of <span style="font-family:monospace">ThinkJavaCode</span>.
See page&#XA0;<a href="#code">??</a> for instructions on how to download the repository.
Before you start the exercises, we recommend that you compile and run the examples.</p><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;1</span>&#XA0;&#XA0;<em>
Draw the flag of Japan: a red circle on a white background that is wider than it is tall.
</em></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;2</span>&#XA0;&#XA0;<em>
Modify <span style="font-family:monospace">Mickey.java</span> to draw ears on the ears, and ears on those ears, and more ears all the way down until the smallest ears are only 3 pixels wide.</em><p><em>The result should look like &#X201C;Mickey Moose&#X201D;, shown in Figure&#XA0;</em><a href="#fig.moose"><em>B.4</em></a><em>.
</em>Hint:<em> You should only have to add or modify a few lines of code.</em></p><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center"><em>
<img src="thinkjava6041.png">
</em><div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" ><em>Figure B.4: A recursive shape we call &#X201C;Mickey Moose&#X201D;.</em></td></tr>
</table></div>
<a id="fig.moose"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote></div><div class="theorem"><span style="font-weight:bold">Exercise&#XA0;3</span>&#XA0;&#XA0;<em>
In this exercise, you will draw &#X201C;Moir&#XE9; patterns&#X201D; that seem to shift around as you move.
For an explanation of what is going on, see </em><a href="https://en.wikipedia.org/wiki/Moire_pattern"><em><span style="font-family:monospace">https://en.wikipedia.org/wiki/Moire_pattern</span></em></a><em>.</em><ol class="enumerate" type=1><li class="li-enumerate"><em>In the directory <span style="font-family:monospace">app02</span> in the repository for this book, you&#X2019;ll find a file named <span style="font-family:monospace">Moire.java</span>.
Open it and read the <code>paint</code> method.
Draw a sketch of what you expect it to do.
Now run it.
Did you get what you expected?</em></li><li class="li-enumerate"><em>Modify the program so that the space between the circles is larger or smaller.
See what happens to the image.</em></li><li class="li-enumerate"><em>Modify the program so that the circles are drawn in the center of the screen and concentric, as in Figure&#XA0;</em><a href="#fig.moire"><em>B.5</em></a><em> (left).
The distance between the circles should be small enough that the Moir&#XE9; interference is apparent.</em><blockquote class="figure"><div class="center"><hr style="width:80%;height:2"></div>
<div class="center"><em>
<img src="thinkjava6042.png">
</em><div class="caption"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" ><em>Figure B.5: Graphical patterns that can exhibit Moir&#XE9; interference.</em></td></tr>
</table></div>
<a id="fig.moire"></a>
</div>
<div class="center"><hr style="width:80%;height:2"></div></blockquote></li><li class="li-enumerate"><em>Write a method named <code>radial</code> that draws a radial set of line segments as shown in Figure&#XA0;</em><a href="#fig.moire"><em>B.5</em></a><em> (right), but they should be close enough together to create a Moir&#XE9; pattern.</em></li><li class="li-enumerate"><em>Just about any kind of graphical pattern can generate Moir&#XE9;-like interference patterns.
Play around and see what you can create.</em></li></ol></div>
<!--TOC chapter id="sec189" Debugging-->
<h1 id="sec189" class="chapter">Appendix&#XA0;C&#XA0;&#XA0;Debugging</h1><!--SEC END --><p>
<a id="debugappendix"></a></p><p><a id="hevea_default816"></a></p><p>Although there are debugging suggestions throughout the book, we thought it would be useful to organize them in an appendix.
If you are having a hard time debugging, you might want to review this appendix from time to time.</p><p>The best debugging strategy depends on what kind of error you have:</p><ul class="itemize"><li class="li-itemize"><span style="font-weight:bold">Compile-time errors</span> indicate that there is something wrong with the syntax of the program.
Example: omitting the semicolon at the end of a statement.<p><a id="hevea_default817"></a>
<a id="hevea_default818"></a>
<a id="hevea_default819"></a></p></li><li class="li-itemize"><span style="font-weight:bold">Run-time errors</span> are produced if something goes wrong while the program is running.
Example: an infinite recursion eventually causes a <code>StackOverflowError</code>.<p><a id="hevea_default820"></a>
<a id="hevea_default821"></a>
<a id="hevea_default822"></a></p></li><li class="li-itemize"><span style="font-weight:bold">Logic errors</span> cause the program to do the wrong thing.
Example: an expression may not be evaluated in the order you expect.<p><a id="hevea_default823"></a>
<a id="hevea_default824"></a></p></li></ul><p>The following sections are organized by error type; some techniques are useful for more than one type.</p>
<!--TOC section id="sec190" Compile-time errors-->
<h2 id="sec190" class="section">C.1&#XA0;&#XA0;Compile-time errors</h2><!--SEC END --><p>The best kind of debugging is the kind you don&#X2019;t have to do because you avoid making errors in the first place.
Incremental development, which we presented in Section&#XA0;<a href="#distance">6.2</a>, can help.
The key is to start with a working program and add small amounts of code at a time.
When there is an error, you will have a pretty good idea where it is.</p><p>Nevertheless, you might find yourself in one of the following situations.
For each situation, we have some suggestions about how to proceed.</p><!--TOC subsection id="sec191" The compiler is spewing error messages.-->
<h3 id="sec191" class="subsection">The compiler is spewing error messages.</h3><!--SEC END --><p><a id="hevea_default825"></a>
<a id="hevea_default826"></a></p><p>If the compiler reports 100 error messages, that doesn&#X2019;t mean there are 100 errors in your program.
When the compiler encounters an error, it often gets thrown off track for a while.
It tries to recover and pick up again after the first error, but sometimes it reports spurious errors.</p><p>Only the first error message is truly reliable.
We suggest that you only fix one error at a time, and then recompile the program.
You may find that one semicolon or brace &#X201C;fixes&#X201D; 100 errors.</p><!--TOC subsection id="sec192" I&#X2019;m getting a weird compiler message, and it won&#X2019;t go away.-->
<h3 id="sec192" class="subsection">I&#X2019;m getting a weird compiler message, and it won&#X2019;t go away.</h3><!--SEC END --><p>First of all, read the error message carefully.
It may be written in terse jargon, but often there is a carefully hidden kernel of information.</p><p>If nothing else, the message will tell you where in the program the problem occurred.
Actually, it tells you where the compiler was when it noticed a problem, which is not necessarily where the error is.
Use the information the compiler gives you as a guideline, but if you don&#X2019;t see an error where the compiler is pointing, broaden the search.</p><p>Generally the error will be prior to the location of the error message, but there are cases where it will be somewhere else entirely.
For example, if you get an error message at a method invocation, the actual error may be in the method definition itself.</p><p>If you don&#X2019;t find the error quickly, take a breath and look more broadly at the entire program.
Make sure the program is indented properly; that makes it easier to spot syntax errors.</p><p>Now, start looking for common syntax errors:</p><p><a id="hevea_default827"></a>
<a id="hevea_default828"></a></p><ol class="enumerate" type=1><li class="li-enumerate">Check that all parentheses and brackets are balanced and properly nested.
All method definitions should be nested within a class definition.
All program statements should be within a method definition.</li><li class="li-enumerate">Remember that uppercase letters are not the same as lowercase letters.</li><li class="li-enumerate">Check for semicolons at the end of statements (and no semicolons after squiggly braces).</li><li class="li-enumerate">Make sure that any strings in the code have matching quotation marks.
Make sure that you use double quotes for strings and single quotes for characters.</li><li class="li-enumerate">For each assignment statement, make sure that the type on the left is the same as the type on the right.
Make sure that the expression on the left is a variable name or something else that you can assign a value to (like an element of an array).</li><li class="li-enumerate">For each method invocation, make sure that the arguments you provide are in the right order and have the right type, and that the object you are invoking the method on is the right type.</li><li class="li-enumerate">If you are invoking a value method, make sure you are doing something with the result.
If you are invoking a void method, make sure you are <em>not</em> trying to do something with the result.</li><li class="li-enumerate">If you are invoking an instance method, make sure you are invoking it on an object with the right type.
If you are invoking a static method from outside the class where it is defined, make sure you specify the class name (using dot notation).</li><li class="li-enumerate">Inside an instance method you can refer to the instance variables without specifying an object.
If you try that in a static method &#X2013; with or without <code><span style="color:blue">this</span></code> &#X2013; you get a message like &#X201C;non-static variable x cannot be referenced from a static context.&#X201D;</li></ol><p>If nothing works, move on to the next section...</p><!--TOC subsection id="sec193" I can&#X2019;t get my program to compile no matter what I do.-->
<h3 id="sec193" class="subsection">I can&#X2019;t get my program to compile no matter what I do.</h3><!--SEC END --><p>If the compiler says there is an error and you don&#X2019;t see it, that might be because you and the compiler are not looking at the same code.
Check your development environment to make sure the program you are editing is the program the compiler is compiling.</p><p>This situation is often the result of having multiple copies of the same program.
You might be editing one version of the file, but compiling a different version.</p><p>If you are not sure, try putting an obvious and deliberate syntax error right at the beginning of the program.
Now compile again.
If the compiler doesn&#X2019;t find the new error, there is probably something wrong with the way you set up the development environment.</p><p><a id="hevea_default829"></a></p><p>If you have examined the code thoroughly, and you are sure the compiler is compiling the right source file, it is time for desperate measures: <span style="font-weight:bold">debugging by bisection</span>.</p><ul class="itemize"><li class="li-itemize">Make a backup of the file you are working on.
If you are working on <span style="font-family:monospace">Bob.java</span>, make a copy called <span style="font-family:monospace">Bob.java.old</span>.</li><li class="li-itemize">Delete about half the code from <span style="font-family:monospace">Bob.java</span>.
Try compiling again.<ul class="itemize"><li class="li-itemize">If the program compiles now, you know the error is in the code you deleted.
Bring back about half of what you deleted and repeat.</li><li class="li-itemize">If the program still doesn&#X2019;t compile, the error must be in the code that remains.
Delete about half of the remaining code and repeat.</li></ul></li><li class="li-itemize">Once you have found and fixed the error, start bringing back the code you deleted, a little bit at a time.</li></ul><p>This process is ugly, but it goes faster than you might think, and it is very reliable.
It works for other programming languages too!</p><!--TOC subsection id="sec194" I did what the compiler told me to do, but it still doesn&#X2019;t work.-->
<h3 id="sec194" class="subsection">I did what the compiler told me to do, but it still doesn&#X2019;t work.</h3><!--SEC END --><p>Some error messages come with tidbits of advice, like &#X201C;class Golfer must be declared abstract.
It does not define int compareTo(java.lang.Object) from interface java.lang.Comparable.&#X201D;
It sounds like the compiler is telling you to declare <code>Golfer</code> as an <code><span style="color:blue">abstract</span></code> class, and if you are reading this book, you probably don&#X2019;t know what that is or how to do it.</p><p>Fortunately, the compiler is wrong.
The solution in this case is to make sure <code>Golfer</code> has a method called <code>compareTo</code> that takes an <code>Object</code> as a parameter.</p><p>Don&#X2019;t let the compiler lead you by the nose.
Error messages give you evidence that something is wrong, but the remedies they suggest are unreliable.</p>
<!--TOC section id="sec195" Run-time errors-->
<h2 id="sec195" class="section">C.2&#XA0;&#XA0;Run-time errors</h2><!--SEC END --><p>It&#X2019;s not always clear what causes a run-time error, but you can often figure things out by adding print statements to your program.</p><!--TOC subsection id="sec196" My program hangs.-->
<h3 id="sec196" class="subsection">My program hangs.</h3><!--SEC END --><p><a id="hevea_default830"></a>
<a id="hevea_default831"></a>
<a id="hevea_default832"></a></p><p>If a program stops and seems to be doing nothing, we say it is &#X201C;hanging&#X201D;.
Often that means it is caught in an infinite loop or an infinite recursion.</p><ul class="itemize"><li class="li-itemize">If there is a particular loop that you suspect is the problem, add a print statement immediately before the loop that says &#X201C;entering the loop&#X201D; and another immediately after that says &#X201C;exiting the loop&#X201D;.<p>Run the program.
If you get the first message and not the second, you know where the program is getting stuck.
Go to the section titled &#X201C;Infinite loop&#X201D;.</p><p><a id="hevea_default833"></a></p></li><li class="li-itemize">Most of the time an infinite recursion will cause the program to run for a while and then produce a <code>StackOverflowError</code>.
If that happens, go to the section titled &#X201C;Infinite recursion&#X201D;.<p>If you are not getting a <code>StackOverflowError</code>, but you suspect there is a problem with a recursive method, you can still use the techniques in the infinite recursion section.</p></li><li class="li-itemize">If neither of the previous suggestions helps, you might not understand the flow of execution in your program.
Go to the section titled &#X201C;Flow of execution&#X201D;.</li></ul><!--TOC subsubsection id="infloop" Infinite loop-->
<h4 id="infloop" class="subsubsection">Infinite loop</h4><!--SEC END --><p>If you think you have an infinite loop and you know which loop it is, add a print statement at the end of the loop that displays the values of the variables in the condition, and the value of the condition.</p><p>For example:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">while</span> (x &gt; 0 &amp;&amp; y &lt; 0) {
    <span style="color:#007C00">// do something to x
    // do something to y</span>

    System.out.println(<span style="color:#B20000">"x: "</span> + x);
    System.out.println(<span style="color:#B20000">"y: "</span> + y);
    System.out.println(<span style="color:#B20000">"condition: "</span> + (x &gt; 0 &amp;&amp; y &lt; 0));
}</td></tr>
</table><p>Now when you run the program you see three lines of output for each time through the loop.
The last time through the loop, the condition should be <code><span style="color:blue">false</span></code>.
If the loop keeps going, you will see the values of <code>x</code> and <code>y</code>, and you might figure out why they are not getting updated correctly.</p><!--TOC subsubsection id="infrec" Infinite recursion-->
<h4 id="infrec" class="subsubsection">Infinite recursion</h4><!--SEC END --><p><a id="hevea_default834"></a>
<a id="hevea_default835"></a></p><p>Most of the time, an infinite recursion will cause the program to throw a <code>StackOverflowError</code>.
But if the program is slow, it may take a long time to fill the stack.</p><p>If you know which method is causing an infinite recursion, check that there is a base case.
There should be some condition that makes the method return without making a recursive invocation.
If not, you need to rethink the algorithm and identify a base case.</p><p>If there is a base case, but the program doesn&#X2019;t seem to be reaching it, add a print statement at the beginning of the method that displays the parameters.
Now when you run the program you see a few lines of output every time the method is invoked, and you can see the values of the parameters.
If the parameters are not moving toward the base case, you might see why not.</p><!--TOC subsubsection id="flowexec" Flow of execution-->
<h4 id="flowexec" class="subsubsection">Flow of execution</h4><!--SEC END --><p><a id="hevea_default836"></a></p><p>If you are not sure how the flow of execution is moving through your program, add print statements to the beginning of each method with a message like &#X201C;entering method foo&#X201D;, where <code>foo</code> is the name of the method.
Now when you run the program, it displays a trace of each method as it is invoked.</p><p>You can also display the arguments each method receives.
When you run the program, check whether the values are reasonable, and check for one of the most common errors &#X2013; providing arguments in the wrong order.</p><!--TOC subsection id="sec200" When I run the program I get an exception.-->
<h3 id="sec200" class="subsection">When I run the program I get an exception.</h3><!--SEC END --><p><a id="hevea_default837"></a>
<a id="hevea_default838"></a></p><p>When an exception occurs, Java displays a message that includes the name of the exception, the line of the program where the exception occurred, and a &#X201C;stack trace&#X201D;.
The stack trace includes the method that was running, the method that invoked it, the method that invoked that one, and so on.</p><p>The first step is to examine the place in the program where the error occurred and see if you can figure out what happened.</p><dl class="description"><dt class="dt-description"><span style="font-weight:bold">NullPointerException:</span></dt><dd class="dd-description"><a id="hevea_default839"></a>
You tried to access an instance variable or invoke a method on an object that is currently <code><span style="color:blue">null</span></code>.
You should figure out which variable is <code><span style="color:blue">null</span></code> and then figure out how it got to be that way.<p>Remember that when you declare a variable with an array type, its elements are initially <code><span style="color:blue">null</span></code> until you assign a value to them.
For example, this code causes a <code>NullPointerException</code>:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span>[] array = <span style="color:blue">new</span> Point[5];
System.out.println(array[0].x);</td></tr>
</table></dd><dt class="dt-description"><span style="font-weight:bold">ArrayIndexOutOfBoundsException:</span></dt><dd class="dd-description"><a id="hevea_default840"></a>
The index you are using to access an array is either negative or greater than <code>array.length&#XA0;-&#XA0;1</code>.
If you can find the site where the problem is, add a print statement immediately before it to display the value of the index and the length of the array.
Is the array the right size?
Is the index the right value?<p>Now work your way backwards through the program and see where the array and the index come from.
Find the nearest assignment statement and see if it is doing the right thing.
If either one is a parameter, go to the place where the method is invoked and see where the values are coming from.</p></dd><dt class="dt-description"><span style="font-weight:bold">StackOverflowError:</span></dt><dd class="dd-description"><a id="hevea_default841"></a>
See &#X201C;Infinite recursion&#X201D; on page&#XA0;<a href="#infrec">??</a>.</dd><dt class="dt-description"><span style="font-weight:bold">FileNotFoundException:</span></dt><dd class="dd-description"><a id="hevea_default842"></a>
This means Java didn&#X2019;t find the file it was looking for.
If you are using a project-based development environment like Eclipse, you might have to import the file into the project.
Otherwise make sure the file exists and that the path is correct.
This problem depends on your file system, so it can be hard to track down.</dd><dt class="dt-description"><span style="font-weight:bold">ArithmeticException:</span></dt><dd class="dd-description"><a id="hevea_default843"></a>
Something went wrong during an arithmetic operation; for example, division by zero.</dd></dl><!--TOC subsection id="sec201" I added so many print statements I get inundated with output.-->
<h3 id="sec201" class="subsection">I added so many print statements I get inundated with output.</h3><!--SEC END --><p><a id="hevea_default844"></a>
<a id="hevea_default845"></a></p><p>One of the problems with using print statements for debugging is that you can end up buried in output.
There are two ways to proceed: either simplify the output, or simplify the program.</p><p>To simplify the output, you can remove or comment out print statements that aren&#X2019;t helping, or combine them, or format the output so it is easier to understand.
As you develop a program, you should write code to generate concise, informative traces of what the program is doing.</p><p>To simplify the program, scale down the problem the program is working on.
For example, if you are sorting an array, sort a <em>small</em> array.
If the program takes input from the user, give it the simplest input that causes the error.</p><p>Also, clean up the code.
Remove unnecessary or experimental parts, and reorganize the program to make it easier to read.
For example, if you suspect that the error is in a deeply-nested part of the program, rewrite that part with a simpler structure.
If you suspect a large method, split it into smaller methods and test them separately.</p><p>The process of finding the minimal test case often leads you to the bug.
For example, if you find that a program works when the array has an even number of elements, but not when it has an odd number, that gives you a clue about what is going on.</p><p>Reorganizing the program can help you find subtle bugs.
If you make a change that you think doesn&#X2019;t affect the program, and it does, that can tip you off.</p>
<!--TOC section id="sec202" Logic errors-->
<h2 id="sec202" class="section">C.3&#XA0;&#XA0;Logic errors</h2><!--SEC END --><!--TOC subsection id="sec203" My program doesn&#X2019;t work.-->
<h3 id="sec203" class="subsection">My program doesn&#X2019;t work.</h3><!--SEC END --><p>Logic errors are hard to find because the compiler and interpreter provide no information about what is wrong.
Only you know what the program is supposed to do, and only you know that it isn&#X2019;t doing it.</p><p>The first step is to make a connection between the code and the behavior you get.
You need a hypothesis about what the program is actually doing.
Here are some questions to ask yourself:</p><ul class="itemize"><li class="li-itemize">Is there something the program was supposed to do, but doesn&#X2019;t seem to be happening?
Find the section of the code that performs that function, and make sure it is executing when you think it should.
See &#X201C;Flow of execution&#X201D; on page&#XA0;<a href="#flowexec">??</a>.</li><li class="li-itemize">Is something happening that shouldn&#X2019;t?
Find code in your program that performs that function, and see if it is executing when it shouldn&#X2019;t.</li><li class="li-itemize">Is a section of code producing an unexpected effect?
Make sure you understand the code, especially if it invokes methods in the Java library.
Read the documentation for those methods, and try them out with simple test cases.
They might not do what you think they do.</li></ul><p>To program, you need a mental model of what your code does.
If it doesn&#X2019;t do what you expect, the problem might not actually be the program; it might be in your head.</p><p><a id="hevea_default846"></a></p><p>The best way to correct your mental model is to break the program into components (usually the classes and methods) and test them independently.
Once you find the discrepancy between your model and reality, you can solve the problem.</p><p>Here are some common logic errors to check for:</p><p><a id="hevea_default847"></a>
<a id="hevea_default848"></a></p><ul class="itemize"><li class="li-itemize">Remember that integer division always rounds toward zero.
If you want fractions, use <code><span style="color:blue">double</span></code>.
More generally, use integers for countable things and floating-point numbers for measurable things.</li><li class="li-itemize">Floating-point numbers are only approximate, so don&#X2019;t rely on them to be perfectly accurate.
You should probably never use the <code>==</code> operator with <code><span style="color:blue">double</span></code>s.
Instead of writing <code><span style="color:blue">if</span>&#XA0;(d&#XA0;==&#XA0;1.23)</code>, do something like <code><span style="color:blue">if</span>&#XA0;(Math.abs(d&#XA0;-&#XA0;1.23)&#XA0;&lt;&#XA0;.000001)</code>.</li><li class="li-itemize">When you apply the equality operator (<code>==</code>) to objects, it checks whether they are identical.
If you meant to check equivalence, you should use the <code>equals</code> method instead.</li><li class="li-itemize">By default for user-defined types, <code>equals</code> checks identity.
If you want a different notion of equivalence, you have to override it.</li><li class="li-itemize">Inheritance can lead to subtle logic errors, because you can run inherited code without realizing it.
See &#X201C;Flow of execution&#X201D; on page&#XA0;<a href="#flowexec">??</a>.</li></ul><!--TOC subsection id="sec204" I&#X2019;ve got a big hairy expression and it doesn&#X2019;t do what I expect.-->
<h3 id="sec204" class="subsection">I&#X2019;ve got a big hairy expression and it doesn&#X2019;t do what I expect.</h3><!--SEC END --><p><a id="hevea_default849"></a></p><p>Writing complex expressions is fine as long as they are readable, but they can be hard to debug.
It is often a good idea to break a complex expression into a series of assignments to temporary variables.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting">rect.setLocation(rect.getLocation().translate(
                 -rect.getWidth(), -rect.getHeight()));</td></tr>
</table><p>This example can be rewritten as:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">int</span> dx = -rect.getWidth();
<span style="color:blue">int</span> dy = -rect.getHeight();
Point location = rect.getLocation();
Point newLocation = location.translate(dx, dy);
rect.setLocation(newLocation);</td></tr>
</table><p>The second version is easier to read, partly because the variable names provide additional documentation.
It&#X2019;s also easier to debug, because you can check the types of the temporary variables and display their values.</p><p><a id="hevea_default850"></a>
<a id="hevea_default851"></a>
<a id="hevea_default852"></a>
<a id="hevea_default853"></a></p><p>Another problem that can occur with big expressions is that the order of operations may not be what you expect.
For example, to evaluate <span style="font-style:italic">x</span>/2 &#X3C0;, you might write:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> y = x / 2 * Math.PI;</td></tr>
</table><p>That is not correct, because multiplication and division have the same precedence, and they are evaluated from left to right.
This code computes <span style="font-style:italic">x</span>/2&#X3C0;.</p><p>If you are not sure of the order of operations, check the documentation, or use parentheses to make it explicit.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">double</span> y = x / (2 * Math.PI);</td></tr>
</table><p>This version is correct, and more readable for other people who haven&#X2019;t memorized the order of operations.</p><!--TOC subsection id="sec205" My method doesn&#X2019;t return what I expect.-->
<h3 id="sec205" class="subsection">My method doesn&#X2019;t return what I expect.</h3><!--SEC END --><p><a id="hevea_default854"></a>
<a id="hevea_default855"></a></p><p>If you have a return statement with a complex expression, you don&#X2019;t have a chance to display the value before returning.</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Rectangle intersection(Rectangle a, Rectangle b) {
    <span style="color:blue">return new</span> Rectangle(
        Math.min(a.x, b.x), Math.min(a.y, b.y),
        Math.max(a.x + a.width, b.x + b.width)
            - Math.min(a.x, b.x)
        Math.max(a.y + a.height, b.y + b.height)
            - Math.min(a.y, b.y));
}</td></tr>
</table><p>Instead of writing everything in one statement, use temporary variables:</p><table class="lstframe" style="padding:1ex;background-color:#FAFAFA;"><tr><td class="lstlisting"><span style="color:blue">public</span> Rectangle intersection(Rectangle a, Rectangle b) {
    <span style="color:blue">int</span> x1 = Math.min(a.x, b.x);
    <span style="color:blue">int</span> y2 = Math.min(a.y, b.y);
    <span style="color:blue">int</span> x2 = Math.max(a.x + a.width, b.x + b.width);
    <span style="color:blue">int</span> y2 = Math.max(a.y + a.height, b.y + b.height);
    Rectangle rect = <span style="color:blue">new</span> Rectangle(x1, y1, x2 - x1, y2 - y1);
    <span style="color:blue">return</span> rect;
}</td></tr>
</table><p>Now you have the opportunity to display any of the intermediate variables before returning.
And by reusing <code>x1</code> and <code>y1</code>, you made the code smaller, too.</p><!--TOC subsection id="sec206" My print statement isn&#X2019;t doing anything.-->
<h3 id="sec206" class="subsection">My print statement isn&#X2019;t doing anything.</h3><!--SEC END --><p><a id="hevea_default856"></a>
<a id="hevea_default857"></a></p><p>If you use the <code>println</code> method, the output is displayed immediately, but if you use <code>print</code> (at least in some environments), the output gets stored without being displayed until the next newline.
If the program terminates without displaying a newline, you may never see the stored output.
If you suspect that this is happening, change some or all of the <code>print</code> statements to <code>println</code>.</p><!--TOC subsection id="sec207" I&#X2019;m really, really stuck and I need help.-->
<h3 id="sec207" class="subsection">I&#X2019;m really, really stuck and I need help.</h3><!--SEC END --><p>First, get away from the computer for a few minutes.
Computers emit waves that affect the brain, causing the following symptoms:</p><ul class="itemize"><li class="li-itemize">Frustration and rage.</li><li class="li-itemize">Superstitious beliefs (&#X201C;the computer hates me&#X201D;) and magical thinking (&#X201C;the program only works when I wear my hat backwards&#X201D;).</li><li class="li-itemize">Sour grapes (&#X201C;this program is lame anyway&#X201D;).</li></ul><p>If you suffer from any of these symptoms, get up and go for a walk.
When you are calm, think about the program.
What is it doing?
What are possible causes of that behavior?
When was the last time you had a working program, and what did you do next?</p><p>Sometimes it just takes time to find a bug.
People often find bugs when they let their mind wander.
Good places to find bugs are buses, showers, and bed.</p><!--TOC subsection id="sec208" No, I really need help.-->
<h3 id="sec208" class="subsection">No, I really need help.</h3><!--SEC END --><p>It happens.
Even the best programmers get stuck.
Sometimes you need a another pair of eyes.</p><p>Before you bring someone else in, make sure you have tried the techniques described in this appendix.</p><p>Your program should be as simple as possible, and you should be working on the smallest input that causes the error.
You should have print statements in the appropriate places (and the output they produce should be comprehensible).
You should understand the problem well enough to describe it concisely.</p><p>When you bring someone in to help, give them the information they need:</p><ul class="itemize"><li class="li-itemize">What kind of bug is it?
Compile-time, run-time, or logic?</li><li class="li-itemize">What was the last thing you did before this error occurred?
What were the last lines of code that you wrote, or what is the test case that fails?</li><li class="li-itemize">If the bug occurs at compile time or run time, what is the error message, and what part of the program does it indicate?</li><li class="li-itemize">What have you tried, and what have you learned?</li></ul><p>By the time you explain the problem to someone, you might see the answer.
This phenomenon is so common that some people recommend a debugging technique called &#X201C;rubber ducking&#X201D;.
Here&#X2019;s how it works:</p><p><a id="hevea_default858"></a>
<a id="hevea_default859"></a></p><ol class="enumerate" type=1><li class="li-enumerate">Buy a standard-issue rubber duck.</li><li class="li-enumerate">When you are really stuck on a problem, put the rubber duck on the desk in front of you and say, &#X201C;Rubber duck, I am stuck on a problem.
Here&#X2019;s what&#X2019;s happening...&#X201D;</li><li class="li-enumerate">Explain the problem to the rubber duck.</li><li class="li-enumerate">Discover the solution.</li><li class="li-enumerate">Thank the rubber duck.</li></ol><p>We&#X2019;re not kidding, it works!
See <a href="https://en.wikipedia.org/wiki/Rubber_duck_debugging"><span style="font-family:monospace">https://en.wikipedia.org/wiki/Rubber_duck_debugging</span></a>.</p><!--TOC subsection id="sec209" I found the bug!-->
<h3 id="sec209" class="subsection">I found the bug!</h3><!--SEC END --><p>When you find the bug, it is usually obvious how to fix it.
But not always.
Sometimes what seems to be a bug is really an indication that you don&#X2019;t understand the program, or there is an error in your algorithm.
In these cases, you might have to rethink the algorithm, or adjust your mental model.
Take some time away from the computer to think, work through test cases by hand, or draw diagrams to represent the computation.</p><p>After you fix the bug, don&#X2019;t just start in making new errors.
Take a minute to think about what kind of bug it was, why you made the error, how the error manifested itself, and what you could have done to find it faster.
Next time you see something similar, you will be able to find the bug more quickly.
Or even better, you will learn to avoid that type of bug for good.</p><!--TOC chapter id="sec210" Index-->
<h1 id="sec210" class="chapter">Index</h1><!--SEC END --><p></p><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="vertical-align:top;text-align:left;" ><ul class="indexenv"><li class="li-indexenv">
== operator, <a href="#hevea_default609">11.7</a>
<br>
<br>
</li><li class="li-indexenv">% operator, <a href="#hevea_default177">3.8</a>
<br>
<br>
</li><li class="li-indexenv">ArithmeticException, <a href="#hevea_default125">2.10</a>, <a href="#hevea_default843">C.2</a>
</li><li class="li-indexenv">ArrayIndexOutOfBoundsException, <a href="#hevea_default414">8.2</a>, <a href="#hevea_default840">C.2</a>
</li><li class="li-indexenv">ArrayList, <a href="#hevea_default731">14.1</a>
</li><li class="li-indexenv">Arrays class, <a href="#hevea_default417">8.3</a>, <a href="#hevea_default420">8.4</a>
</li><li class="li-indexenv">AWT, <a href="#hevea_default507">10.1</a>, <a href="#hevea_default797">B</a>, <a href="#hevea_default811">B.4</a>
</li><li class="li-indexenv">abecedarian, <a href="#hevea_default500">9.11</a>
</li><li class="li-indexenv">accessor, <a href="#hevea_default587">11.4</a>
</li><li class="li-indexenv">accumulator, <a href="#hevea_default426">8.6</a>, <a href="#hevea_default445">8.11</a>
</li><li class="li-indexenv">addition<ul class="indexenv"><li class="li-indexenv">
integer, <a href="#hevea_default93">2.5</a>
</li><li class="li-indexenv">string, <a href="#hevea_default111">2.8</a>
</li><li class="li-indexenv">time, <a href="#hevea_default617">11.8</a>
</li></ul>
</li><li class="li-indexenv">address, <a href="#hevea_default154">3.1</a>, <a href="#hevea_default182">3.11</a>, <a href="#hevea_default598">11.5</a>
</li><li class="li-indexenv">algorithm, <a href="#hevea_default6">1.2</a>, <a href="#hevea_default55">1.9</a>
</li><li class="li-indexenv">alias, <a href="#hevea_default419">8.4</a>, <a href="#hevea_default441">8.11</a>
</li><li class="li-indexenv">aliasing, <a href="#hevea_default532">10.6</a>, <a href="#hevea_default718">13.5</a>
</li><li class="li-indexenv">anagram, <a href="#hevea_default502">9.11</a>
</li><li class="li-indexenv">angle brackets, <a href="#hevea_default736">14.2</a>
</li><li class="li-indexenv">argument, <a href="#hevea_default196">4.1</a>, <a href="#hevea_default219">4.5</a>, <a href="#hevea_default234">4.10</a>
</li><li class="li-indexenv">arithmetic<ul class="indexenv"><li class="li-indexenv">
floating-point, <a href="#hevea_default106">2.7</a>
</li><li class="li-indexenv">integer, <a href="#hevea_default98">2.5</a>, <a href="#hevea_default104">2.6</a>
</li></ul>
</li><li class="li-indexenv">array, <a href="#hevea_default398">8.1</a>, <a href="#hevea_default437">8.11</a>
<ul class="indexenv"><li class="li-indexenv">
2D, <a href="#hevea_default697">12.12</a>
</li><li class="li-indexenv">copying, <a href="#hevea_default418">8.4</a>
</li><li class="li-indexenv">element, <a href="#hevea_default410">8.2</a>
</li><li class="li-indexenv">index, <a href="#hevea_default411">8.2</a>
</li><li class="li-indexenv">length, <a href="#hevea_default422">8.5</a>
</li><li class="li-indexenv">of cards, <a href="#hevea_default698">13</a>
</li><li class="li-indexenv">of objects, <a href="#hevea_default672">12.6</a>
</li><li class="li-indexenv">of strings, <a href="#hevea_default655">12.2</a>
</li></ul>
</li><li class="li-indexenv">assignment, <a href="#hevea_default86">2.2</a>, <a href="#hevea_default135">2.11</a>, <a href="#hevea_default250">5.1</a>
</li><li class="li-indexenv">attribute, <a href="#hevea_default518">10.2</a>, <a href="#hevea_default546">10.11</a>
<br>
<br>
</li><li class="li-indexenv">BigInteger, <a href="#hevea_default553">10.12</a>, <a href="#hevea_default554">10.12</a>
</li><li class="li-indexenv">base case, <a href="#hevea_default279">5.9</a>, <a href="#hevea_default297">5.11</a>
</li><li class="li-indexenv">binary, <a href="#hevea_default282">5.10</a>, <a href="#hevea_default298">5.11</a>
</li><li class="li-indexenv">binary search, <a href="#hevea_default687">12.8</a>, <a href="#hevea_default695">12.11</a>
</li><li class="li-indexenv">boolean, <a href="#hevea_default245">5</a>, <a href="#hevea_default283">5.11</a>, <a href="#hevea_default320">6.5</a>
</li><li class="li-indexenv">bottom-up development, <a href="#hevea_default748">14.6</a>, <a href="#hevea_default761">14.8</a>
</li><li class="li-indexenv">bounding box, <a href="#hevea_default807">B.2</a>, <a href="#hevea_default814">B.4</a>
</li><li class="li-indexenv">branch, <a href="#hevea_default260">5.3</a>, <a href="#hevea_default291">5.11</a>
</li><li class="li-indexenv">break, <a href="#hevea_default383">7.7</a>
</li><li class="li-indexenv">breakpoint, <a href="#hevea_default781">A.6</a>, <a href="#hevea_default794">A.8</a>
</li><li class="li-indexenv">bug, <a href="#hevea_default7">1.2</a>, <a href="#hevea_default56">1.9</a>
</li><li class="li-indexenv">byte code, <a href="#hevea_default19">1.3</a>, <a href="#hevea_default66">1.9</a>
<br>
<br>
</li><li class="li-indexenv">Canvas, <a href="#hevea_default798">B.1</a>
</li><li class="li-indexenv">Card, <a href="#hevea_default646">12.1</a>
</li><li class="li-indexenv">Character, <a href="#hevea_default483">9.8</a>
</li><li class="li-indexenv">Checkstyle, <a href="#hevea_default778">A.5</a>
</li><li class="li-indexenv">Church, Alonzo, <a href="#hevea_default331">6.7</a>
</li><li class="li-indexenv">Color, <a href="#hevea_default808">B.2</a>
</li><li class="li-indexenv">Crazy Eights, <a href="#hevea_default730">14</a>
</li><li class="li-indexenv">call stack, <a href="#hevea_default280">5.9</a>, <a href="#hevea_default782">A.6</a>, <a href="#hevea_default795">A.8</a>
</li><li class="li-indexenv">camel case, <a href="#hevea_default210">4.3</a>
</li><li class="li-indexenv">case-sensitive, <a href="#hevea_default29">1.4</a>, <a href="#hevea_default82">2.1</a>, <a href="#hevea_default209">4.3</a>, <a href="#hevea_default478">9.6</a>
</li><li class="li-indexenv">chaining, <a href="#hevea_default262">5.4</a>, <a href="#hevea_default292">5.11</a>
</li><li class="li-indexenv">char, <a href="#hevea_default38">1.5</a>, <a href="#hevea_default456">9.1</a>
</li><li class="li-indexenv">charAt, <a href="#hevea_default455">9.1</a>
</li><li class="li-indexenv">class, <a href="#hevea_default32">1.4</a>, <a href="#hevea_default70">1.9</a>, <a href="#hevea_default215">4.4</a>, <a href="#hevea_default627">11.10</a>
<ul class="indexenv"><li class="li-indexenv">
Canvas, <a href="#hevea_default799">B.1</a>
</li><li class="li-indexenv">Card, <a href="#hevea_default647">12.1</a>
</li><li class="li-indexenv">definition, <a href="#hevea_default23">1.4</a>, <a href="#hevea_default557">11</a>
</li><li class="li-indexenv">Graphics, <a href="#hevea_default801">B.1</a>
</li><li class="li-indexenv">JFrame, <a href="#hevea_default803">B.1</a>
</li><li class="li-indexenv">Math, <a href="#hevea_default198">4.1</a>
</li><li class="li-indexenv">Point, <a href="#hevea_default510">10.1</a>
</li><li class="li-indexenv">Rectangle, <a href="#hevea_default523">10.4</a>
</li><li class="li-indexenv">Scanner, <a href="#hevea_default158">3.2</a>
</li><li class="li-indexenv">System, <a href="#hevea_default151">3.1</a>
</li><li class="li-indexenv">Time, <a href="#hevea_default562">11.1</a>
</li><li class="li-indexenv">utility, <a href="#hevea_default160">3.2</a>
</li></ul>
</li><li class="li-indexenv">class diagram, <a href="#hevea_default539">10.9</a>, <a href="#hevea_default551">10.11</a>
</li><li class="li-indexenv">class variable, <a href="#hevea_default659">12.3</a>, <a href="#hevea_default693">12.11</a>
</li><li class="li-indexenv">client, <a href="#hevea_default584">11.4</a>, <a href="#hevea_default635">11.10</a>
</li><li class="li-indexenv">collection, <a href="#hevea_default732">14.1</a>, <a href="#hevea_default756">14.8</a>
</li><li class="li-indexenv">command-line interface, <a href="#hevea_default773">A.3</a>, <a href="#hevea_default790">A.8</a>
</li><li class="li-indexenv">comment, <a href="#hevea_default71">1.9</a>
<ul class="indexenv"><li class="li-indexenv">
documentation, <a href="#hevea_default232">4.9</a>
</li><li class="li-indexenv">inline, <a href="#hevea_default33">1.4</a>
</li></ul>
</li><li class="li-indexenv">comparable, <a href="#hevea_default669">12.4</a>
</li><li class="li-indexenv">compareTo, <a href="#hevea_default477">9.6</a>
</li><li class="li-indexenv">comparison operator, <a href="#hevea_default249">5.1</a>
</li><li class="li-indexenv">compile, <a href="#hevea_default15">1.3</a>, <a href="#hevea_default62">1.9</a>, <a href="#hevea_default825">C.1</a>
</li><li class="li-indexenv">compile-time error, <a href="#hevea_default117">2.10</a>, <a href="#hevea_default147">2.11</a>, <a href="#hevea_default817">C</a>
</li><li class="li-indexenv">complete ordering, <a href="#hevea_default667">12.4</a>
</li><li class="li-indexenv">composition, <a href="#hevea_default114">2.9</a>, <a href="#hevea_default146">2.11</a>, <a href="#hevea_default205">4.2</a>, <a href="#hevea_default317">6.3</a>, <a href="#hevea_default750">14.7</a>
</li><li class="li-indexenv">computer science, <a href="#hevea_default5">1.2</a>, <a href="#hevea_default54">1.9</a>
</li><li class="li-indexenv">concatenate, <a href="#hevea_default110">2.8</a>, <a href="#hevea_default144">2.11</a>, <a href="#hevea_default496">9.11</a>
</li><li class="li-indexenv">conditional statement, <a href="#hevea_default256">5.3</a>, <a href="#hevea_default290">5.11</a>
</li><li class="li-indexenv">constant, <a href="#hevea_default170">3.5</a>, <a href="#hevea_default188">3.11</a>
</li><li class="li-indexenv">constructor, <a href="#hevea_default569">11.2</a>, <a href="#hevea_default633">11.10</a>, <a href="#hevea_default652">12.1</a>, <a href="#hevea_default699">13.1</a>, <a href="#hevea_default716">13.5</a>
<ul class="indexenv"><li class="li-indexenv">
value, <a href="#hevea_default580">11.3</a>
</li></ul>
</li><li class="li-indexenv">continue, <a href="#hevea_default384">7.7</a>
</li><li class="li-indexenv">coordinate, <a href="#hevea_default805">B.2</a>, <a href="#hevea_default812">B.4</a>
</li><li class="li-indexenv">counter, <a href="#hevea_default433">8.8</a>
<br>
<br>
</li><li class="li-indexenv">De Morgan&#X2019;s laws, <a href="#hevea_default255">5.2</a>, <a href="#hevea_default289">5.11</a>
</li><li class="li-indexenv">Double, <a href="#hevea_default485">9.8</a>
</li><li class="li-indexenv">DrJava, <a href="#hevea_default771">A.1</a>
</li><li class="li-indexenv">data encapsulation, <a href="#hevea_default560">11.1</a>, <a href="#hevea_default630">11.10</a>
</li><li class="li-indexenv">dead code, <a href="#hevea_default312">6.1</a>, <a href="#hevea_default344">6.10</a>
</li><li class="li-indexenv">debugger, <a href="#hevea_default780">A.6</a>, <a href="#hevea_default793">A.8</a>
</li><li class="li-indexenv">debugging, <a href="#hevea_default8">1.2</a>, <a href="#hevea_default57">1.9</a>, <a href="#hevea_default816">C</a>
<ul class="indexenv"><li class="li-indexenv">
by bisection, <a href="#hevea_default829">C.1</a>
</li><li class="li-indexenv">experimental, <a href="#hevea_default47">1.8</a>
</li><li class="li-indexenv">rubber duck, <a href="#hevea_default859">C.3</a>
</li></ul>
</li><li class="li-indexenv">declaration, <a href="#hevea_default77">2.1</a>, <a href="#hevea_default131">2.11</a>, <a href="#hevea_default513">10.1</a>
</li><li class="li-indexenv">decrement, <a href="#hevea_default378">7.5</a>, <a href="#hevea_default394">7.8</a>
</li><li class="li-indexenv">degrees, <a href="#hevea_default200">4.1</a>
</li><li class="li-indexenv">dependent, <a href="#hevea_default585">11.4</a>
</li><li class="li-indexenv">deterministic, <a href="#hevea_default427">8.7</a>, <a href="#hevea_default446">8.11</a>
</li><li class="li-indexenv">diagram<ul class="indexenv"><li class="li-indexenv">
class, <a href="#hevea_default540">10.9</a>
</li><li class="li-indexenv">stack, <a href="#hevea_default226">4.7</a>, <a href="#hevea_default278">5.9</a>, <a href="#hevea_default336">6.7</a>
</li><li class="li-indexenv">state, <a href="#hevea_default91">2.3</a>, <a href="#hevea_default406">8.2</a>, <a href="#hevea_default517">10.1</a>
</li></ul>
</li><li class="li-indexenv">divisible, <a href="#hevea_default179">3.8</a>
</li><li class="li-indexenv">division<ul class="indexenv"><li class="li-indexenv">
floating-point, <a href="#hevea_default364">7.2</a>
</li><li class="li-indexenv">integer, <a href="#hevea_default96">2.5</a>, <a href="#hevea_default102">2.6</a>
</li></ul>
</li><li class="li-indexenv">do-while, <a href="#hevea_default381">7.6</a>
</li><li class="li-indexenv">documentation, <a href="#hevea_default228">4.8</a>, <a href="#hevea_default244">4.10</a>, <a href="#hevea_default543">10.10</a>
<ul class="indexenv"><li class="li-indexenv">
Javadoc comments, <a href="#hevea_default233">4.9</a>
</li><li class="li-indexenv">Javadoc tags, <a href="#hevea_default325">6.6</a>
</li></ul>
</li><li class="li-indexenv">dot notation, <a href="#hevea_default519">10.2</a>, <a href="#hevea_default547">10.11</a>
</li><li class="li-indexenv">double, <a href="#hevea_default100">2.6</a>
</li><li class="li-indexenv">doubloon, <a href="#hevea_default501">9.11</a>
<br>
<br>
</li><li class="li-indexenv">efficiency, <a href="#hevea_default397">7.9</a>, <a href="#hevea_default435">8.9</a>, <a href="#hevea_default686">12.7</a>, <a href="#hevea_default711">13.4</a>, <a href="#hevea_default729">13.9</a>, <a href="#hevea_default738">14.2</a>
</li><li class="li-indexenv">element, <a href="#hevea_default399">8.1</a>, <a href="#hevea_default408">8.2</a>, <a href="#hevea_default438">8.11</a>
</li><li class="li-indexenv">empty array, <a href="#hevea_default487">9.9</a>, <a href="#hevea_default495">9.10</a>
</li><li class="li-indexenv">empty string, <a href="#hevea_default474">9.3</a>, <a href="#hevea_default492">9.10</a>
</li><li class="li-indexenv">encapsulate, <a href="#hevea_default368">7.3</a>, <a href="#hevea_default390">7.8</a>
</li><li class="li-indexenv">encapsulation, <a href="#hevea_default497">9.11</a>, <a href="#hevea_default528">10.5</a>
<ul class="indexenv"><li class="li-indexenv">
data, <a href="#hevea_default561">11.1</a>
</li></ul>
</li><li class="li-indexenv">encode, <a href="#hevea_default650">12.1</a>, <a href="#hevea_default692">12.11</a>
</li><li class="li-indexenv">enhanced for loop, <a href="#hevea_default436">8.10</a>, <a href="#hevea_default450">8.11</a>
</li><li class="li-indexenv">equals, <a href="#hevea_default476">9.6</a>, <a href="#hevea_default610">11.7</a>, <a href="#hevea_default614">11.7</a>
</li><li class="li-indexenv">equivalent, <a href="#hevea_default613">11.7</a>, <a href="#hevea_default641">11.10</a>, <a href="#hevea_default663">12.4</a>
</li><li class="li-indexenv">error<ul class="indexenv"><li class="li-indexenv">
compile-time, <a href="#hevea_default118">2.10</a>, <a href="#hevea_default818">C</a>
</li><li class="li-indexenv">logic, <a href="#hevea_default128">2.10</a>, <a href="#hevea_default824">C</a>, <a href="#hevea_default848">C.3</a>
</li><li class="li-indexenv">message, <a href="#hevea_default45">1.8</a>, <a href="#hevea_default116">2.10</a>, <a href="#hevea_default119">2.10</a>, <a href="#hevea_default826">C.1</a>
</li><li class="li-indexenv">run-time, <a href="#hevea_default123">2.10</a>, <a href="#hevea_default821">C</a>
</li><li class="li-indexenv">syntax, <a href="#hevea_default828">C.1</a>
</li></ul>
</li><li class="li-indexenv">escape sequence, <a href="#hevea_default42">1.6</a>, <a href="#hevea_default74">1.9</a>, <a href="#hevea_default459">9.1</a>
</li><li class="li-indexenv">exception, <a href="#hevea_default124">2.10</a>, <a href="#hevea_default822">C</a>, <a href="#hevea_default837">C.2</a>
<ul class="indexenv"><li class="li-indexenv">
Arithmetic, <a href="#hevea_default126">2.10</a>
</li><li class="li-indexenv">ArrayIndexOutOfBounds, <a href="#hevea_default415">8.2</a>
</li><li class="li-indexenv">InputMismatch, <a href="#hevea_default272">5.7</a>
</li><li class="li-indexenv">NegativeArraySize, <a href="#hevea_default404">8.1</a>
</li><li class="li-indexenv">NullPointer, <a href="#hevea_default534">10.7</a>, <a href="#hevea_default675">12.6</a>
</li><li class="li-indexenv">StackOverflow, <a href="#hevea_default691">12.10</a>
</li><li class="li-indexenv">StringIndexOutOfBounds, <a href="#hevea_default473">9.3</a>
</li></ul>
</li><li class="li-indexenv">executable, <a href="#hevea_default18">1.3</a>, <a href="#hevea_default65">1.9</a>
</li><li class="li-indexenv">experimental debugging, <a href="#hevea_default46">1.8</a>
</li><li class="li-indexenv">expression, <a href="#hevea_default94">2.5</a>, <a href="#hevea_default141">2.11</a>, <a href="#hevea_default195">4.1</a>, <a href="#hevea_default206">4.2</a>
<ul class="indexenv"><li class="li-indexenv">
big and hairy, <a href="#hevea_default849">C.3</a>
</li><li class="li-indexenv">boolean, <a href="#hevea_default264">5.5</a>
</li></ul>
</li><li class="li-indexenv">extends, <a href="#hevea_default735">14.1</a>, <a href="#hevea_default742">14.3</a>
</li><li class="li-indexenv">extract digits, <a href="#hevea_default180">3.8</a>
<br>
<br>
</li><li class="li-indexenv">FileNotFoundException, <a href="#hevea_default842">C.2</a>
</li><li class="li-indexenv">factorial, <a href="#hevea_default334">6.7</a>, <a href="#hevea_default352">6.10</a>, <a href="#hevea_default552">10.12</a>
</li><li class="li-indexenv">fibonacci, <a href="#hevea_default338">6.9</a>
</li><li class="li-indexenv">final, <a href="#hevea_default169">3.5</a>, <a href="#hevea_default365">7.2</a>, <a href="#hevea_default662">12.3</a>, <a href="#hevea_default671">12.5</a>
</li><li class="li-indexenv">flag, <a href="#hevea_default267">5.5</a>, <a href="#hevea_default294">5.11</a>
</li><li class="li-indexenv">floating-point, <a href="#hevea_default99">2.6</a>, <a href="#hevea_default142">2.11</a>
</li><li class="li-indexenv">flow of execution, <a href="#hevea_default217">4.4</a>, <a href="#hevea_default237">4.10</a>, <a href="#hevea_default836">C.2</a>
</li><li class="li-indexenv">for, <a href="#hevea_default374">7.5</a>
</li><li class="li-indexenv">format specifier, <a href="#hevea_default173">3.6</a>, <a href="#hevea_default190">3.11</a>
</li><li class="li-indexenv">format string, <a href="#hevea_default172">3.6</a>, <a href="#hevea_default189">3.11</a>, <a href="#hevea_default602">11.5</a>
</li><li class="li-indexenv">frame, <a href="#hevea_default227">4.7</a>, <a href="#hevea_default241">4.10</a>
</li><li class="li-indexenv">functional decomposition, <a href="#hevea_default318">6.3</a>, <a href="#hevea_default348">6.10</a>
<br>
<br>
</li><li class="li-indexenv">GitHub, <a href="#hevea_default1">??</a>
</li><li class="li-indexenv">Google style, <a href="#hevea_default44">1.7</a>
</li><li class="li-indexenv">Graphics, <a href="#hevea_default800">B.1</a>
</li><li class="li-indexenv">Greenfield, Larry, <a href="#hevea_default50">1.8</a>
</li><li class="li-indexenv">garbage collection, <a href="#hevea_default537">10.8</a>, <a href="#hevea_default549">10.11</a>
</li><li class="li-indexenv">generalization, <a href="#hevea_default372">7.3</a>, <a href="#hevea_default373">7.4</a>, <a href="#hevea_default498">9.11</a>, <a href="#hevea_default529">10.5</a>
</li><li class="li-indexenv">generalize, <a href="#hevea_default369">7.3</a>, <a href="#hevea_default391">7.8</a>
</li><li class="li-indexenv">getter, <a href="#hevea_default589">11.4</a>, <a href="#hevea_default636">11.10</a>
<br>
<br>
</li><li class="li-indexenv">HAS-A, <a href="#hevea_default752">14.7</a>, <a href="#hevea_default762">14.8</a>
</li><li class="li-indexenv">HTML, <a href="#hevea_default230">4.9</a>, <a href="#hevea_default326">6.6</a>, <a href="#hevea_default544">10.10</a>
</li><li class="li-indexenv">hanging, <a href="#hevea_default830">C.2</a>
</li><li class="li-indexenv">hello world, <a href="#hevea_default22">1.4</a>
</li><li class="li-indexenv">helper method, <a href="#hevea_default704">13.2</a>, <a href="#hevea_default723">13.8</a>
</li><li class="li-indexenv">hexadecimal, <a href="#hevea_default155">3.1</a>, <a href="#hevea_default599">11.5</a>
</li><li class="li-indexenv">high-level language, <a href="#hevea_default9">1.3</a>, <a href="#hevea_default58">1.9</a>
</li><li class="li-indexenv">histogram, <a href="#hevea_default432">8.8</a>, <a href="#hevea_default449">8.11</a>, <a href="#hevea_default696">12.12</a>
<br>
<br>
</li><li class="li-indexenv">IDE, <a href="#hevea_default765">A</a>, <a href="#hevea_default785">A.8</a>
</li><li class="li-indexenv">InputMismatchException, <a href="#hevea_default273">5.7</a>
</li><li class="li-indexenv">Integer, <a href="#hevea_default484">9.8</a>
</li><li class="li-indexenv">IS-A, <a href="#hevea_default753">14.7</a>, <a href="#hevea_default763">14.8</a>
</li><li class="li-indexenv">identical, <a href="#hevea_default612">11.7</a>, <a href="#hevea_default640">11.10</a>
</li><li class="li-indexenv">if statement, <a href="#hevea_default258">5.3</a>
</li><li class="li-indexenv">immutable, <a href="#hevea_default463">9.2</a>, <a href="#hevea_default491">9.10</a>, <a href="#hevea_default626">11.9</a>, <a href="#hevea_default670">12.5</a>
</li><li class="li-indexenv">import statement, <a href="#hevea_default163">3.2</a>, <a href="#hevea_default184">3.11</a>
</li><li class="li-indexenv">increment, <a href="#hevea_default377">7.5</a>, <a href="#hevea_default393">7.8</a>
</li><li class="li-indexenv">incremental development, <a href="#hevea_default313">6.2</a>, <a href="#hevea_default345">6.10</a>
</li><li class="li-indexenv">independent, <a href="#hevea_default586">11.4</a>
</li><li class="li-indexenv">index, <a href="#hevea_default409">8.2</a>, <a href="#hevea_default439">8.11</a>, <a href="#hevea_default679">12.6</a>
</li><li class="li-indexenv">indexOf, <a href="#hevea_default475">9.5</a>
</li><li class="li-indexenv">infinite loop, <a href="#hevea_default360">7.1</a>, <a href="#hevea_default388">7.8</a>, <a href="#hevea_default831">C.2</a>
</li><li class="li-indexenv">infinite recursion, <a href="#hevea_default577">11.2</a>, <a href="#hevea_default690">12.10</a>, <a href="#hevea_default832">C.2</a>, <a href="#hevea_default835">C.2</a>
</li><li class="li-indexenv">information hiding, <a href="#hevea_default568">11.1</a>, <a href="#hevea_default632">11.10</a>
</li><li class="li-indexenv">inheritance, <a href="#hevea_default733">14.1</a>, <a href="#hevea_default751">14.7</a>, <a href="#hevea_default757">14.8</a>
</li><li class="li-indexenv">initialize, <a href="#hevea_default88">2.2</a>, <a href="#hevea_default136">2.11</a>, <a href="#hevea_default265">5.5</a>
</li><li class="li-indexenv">instance, <a href="#hevea_default558">11</a>, <a href="#hevea_default628">11.10</a>
</li><li class="li-indexenv">instance method, <a href="#hevea_default606">11.6</a>, <a href="#hevea_default620">11.8</a>, <a href="#hevea_default639">11.10</a>
</li><li class="li-indexenv">instance variable, <a href="#hevea_default564">11.1</a>, <a href="#hevea_default631">11.10</a>
</li><li class="li-indexenv">instantiate, <a href="#hevea_default559">11</a>, <a href="#hevea_default629">11.10</a>
</li><li class="li-indexenv">integer division, <a href="#hevea_default97">2.5</a>, <a href="#hevea_default103">2.6</a>
</li><li class="li-indexenv">interpret, <a href="#hevea_default14">1.3</a>, <a href="#hevea_default61">1.9</a>
</li><li class="li-indexenv">invoke, <a href="#hevea_default199">4.1</a>, <a href="#hevea_default235">4.10</a>
</li><li class="li-indexenv">iteration, <a href="#hevea_default354">7</a>, <a href="#hevea_default385">7.8</a>
<br>
<br>
</li><li class="li-indexenv">JAR, <a href="#hevea_default772">A.1</a>, <a href="#hevea_default789">A.8</a>
</li><li class="li-indexenv">Javadoc, <a href="#hevea_default231">4.9</a>, <a href="#hevea_default243">4.10</a>, <a href="#hevea_default327">6.6</a>, <a href="#hevea_default545">10.10</a>, <a href="#hevea_default769">A.1</a>
</li><li class="li-indexenv">JDK, <a href="#hevea_default766">A.1</a>, <a href="#hevea_default786">A.8</a>
</li><li class="li-indexenv">JFrame, <a href="#hevea_default802">B.1</a>
</li><li class="li-indexenv">JVM, <a href="#hevea_default21">1.3</a>, <a href="#hevea_default767">A.1</a>, <a href="#hevea_default787">A.8</a>
</li><li class="li-indexenv">java.awt, <a href="#hevea_default508">10.1</a>
</li><li class="li-indexenv">java.util, <a href="#hevea_default162">3.2</a>
<br>
<br>
</li><li class="li-indexenv">keyword, <a href="#hevea_default85">2.1</a>, <a href="#hevea_default134">2.11</a>, <a href="#hevea_default573">11.2</a>
<br>
<br>
</li><li class="li-indexenv">Linux, <a href="#hevea_default48">1.8</a>
</li><li class="li-indexenv">language<ul class="indexenv"><li class="li-indexenv">
complete, <a href="#hevea_default329">6.7</a>
</li><li class="li-indexenv">high-level, <a href="#hevea_default10">1.3</a>
</li><li class="li-indexenv">low-level, <a href="#hevea_default12">1.3</a>
</li></ul>
</li><li class="li-indexenv">leap of faith, <a href="#hevea_default337">6.8</a>, <a href="#hevea_default353">6.10</a>, <a href="#hevea_default721">13.7</a>
</li><li class="li-indexenv">length<ul class="indexenv"><li class="li-indexenv">
array, <a href="#hevea_default421">8.5</a>
</li><li class="li-indexenv">string, <a href="#hevea_default468">9.3</a>
</li></ul>
</li><li class="li-indexenv">library, <a href="#hevea_default156">3.1</a>, <a href="#hevea_default183">3.11</a>, <a href="#hevea_default541">10.10</a>
</li><li class="li-indexenv">literal, <a href="#hevea_default167">3.5</a>, <a href="#hevea_default186">3.11</a>
</li><li class="li-indexenv">local variable, <a href="#hevea_default221">4.5</a>, <a href="#hevea_default239">4.10</a>
</li><li class="li-indexenv">logarithm, <a href="#hevea_default270">5.6</a>, <a href="#hevea_default363">7.2</a>
</li><li class="li-indexenv">logic error, <a href="#hevea_default127">2.10</a>, <a href="#hevea_default150">2.11</a>, <a href="#hevea_default823">C</a>, <a href="#hevea_default847">C.3</a>
</li><li class="li-indexenv">logical operator, <a href="#hevea_default252">5.2</a>, <a href="#hevea_default287">5.11</a>, <a href="#hevea_default665">12.4</a>
</li><li class="li-indexenv">long, <a href="#hevea_default203">4.1</a>
</li><li class="li-indexenv">loop, <a href="#hevea_default359">7.1</a>, <a href="#hevea_default386">7.8</a>
<ul class="indexenv"><li class="li-indexenv">
for, <a href="#hevea_default375">7.5</a>
</li><li class="li-indexenv">infinite, <a href="#hevea_default361">7.1</a>
</li><li class="li-indexenv">nested, <a href="#hevea_default678">12.6</a>
</li><li class="li-indexenv">search, <a href="#hevea_default683">12.7</a>
</li><li class="li-indexenv">while, <a href="#hevea_default356">7.1</a>
</li></ul>
</li></ul></td><td style="vertical-align:top;text-align:left;" ><ul class="indexenv"><li class="li-indexenv">loop body, <a href="#hevea_default358">7.1</a>, <a href="#hevea_default387">7.8</a>
</li><li class="li-indexenv">loop variable, <a href="#hevea_default370">7.3</a>, <a href="#hevea_default392">7.8</a>, <a href="#hevea_default412">8.2</a>, <a href="#hevea_default469">9.3</a>
</li><li class="li-indexenv">low-level language, <a href="#hevea_default11">1.3</a>, <a href="#hevea_default59">1.9</a>
<br>
<br>
</li><li class="li-indexenv">Math class, <a href="#hevea_default197">4.1</a>
</li><li class="li-indexenv">Mickey Mouse, <a href="#hevea_default810">B.3</a>
</li><li class="li-indexenv">magic number, <a href="#hevea_default168">3.5</a>, <a href="#hevea_default187">3.11</a>
</li><li class="li-indexenv">main, <a href="#hevea_default31">1.4</a>, <a href="#hevea_default208">4.3</a>
</li><li class="li-indexenv">map to, <a href="#hevea_default651">12.1</a>
</li><li class="li-indexenv">mental model, <a href="#hevea_default846">C.3</a>
</li><li class="li-indexenv">merge sort, <a href="#hevea_default712">13.4</a>, <a href="#hevea_default726">13.8</a>
</li><li class="li-indexenv">method, <a href="#hevea_default30">1.4</a>, <a href="#hevea_default69">1.9</a>, <a href="#hevea_default216">4.4</a>
<ul class="indexenv"><li class="li-indexenv">
accessor, <a href="#hevea_default588">11.4</a>
</li><li class="li-indexenv">boolean, <a href="#hevea_default321">6.5</a>
</li><li class="li-indexenv">constructor, <a href="#hevea_default570">11.2</a>
</li><li class="li-indexenv">definition, <a href="#hevea_default24">1.4</a>, <a href="#hevea_default207">4.3</a>
</li><li class="li-indexenv">equals, <a href="#hevea_default611">11.7</a>, <a href="#hevea_default615">11.7</a>
</li><li class="li-indexenv">getter, <a href="#hevea_default590">11.4</a>
</li><li class="li-indexenv">helper, <a href="#hevea_default705">13.2</a>
</li><li class="li-indexenv">instance, <a href="#hevea_default607">11.6</a>, <a href="#hevea_default621">11.8</a>
</li><li class="li-indexenv">modifier, <a href="#hevea_default625">11.9</a>, <a href="#hevea_default741">14.2</a>
</li><li class="li-indexenv">mutator, <a href="#hevea_default592">11.4</a>
</li><li class="li-indexenv">parameters, <a href="#hevea_default224">4.6</a>
</li><li class="li-indexenv">pure, <a href="#hevea_default623">11.9</a>
</li><li class="li-indexenv">setter, <a href="#hevea_default594">11.4</a>
</li><li class="li-indexenv">static, <a href="#hevea_default619">11.8</a>
</li><li class="li-indexenv">toString, <a href="#hevea_default604">11.6</a>
</li><li class="li-indexenv">value, <a href="#hevea_default299">6</a>, <a href="#hevea_default305">6.1</a>
</li><li class="li-indexenv">void, <a href="#hevea_default300">6</a>
</li></ul>
</li><li class="li-indexenv">modifier method, <a href="#hevea_default624">11.9</a>, <a href="#hevea_default643">11.10</a>, <a href="#hevea_default740">14.2</a>
</li><li class="li-indexenv">modulus, <a href="#hevea_default176">3.8</a>, <a href="#hevea_default192">3.11</a>
</li><li class="li-indexenv">mutable, <a href="#hevea_default526">10.5</a>
</li><li class="li-indexenv">mutator, <a href="#hevea_default591">11.4</a>
<br>
<br>
</li><li class="li-indexenv">NegativeArraySizeException, <a href="#hevea_default403">8.1</a>
</li><li class="li-indexenv">NullPointerException, <a href="#hevea_default535">10.7</a>, <a href="#hevea_default839">C.2</a>
</li><li class="li-indexenv">nesting, <a href="#hevea_default263">5.4</a>, <a href="#hevea_default293">5.11</a>, <a href="#hevea_default677">12.6</a>
</li><li class="li-indexenv">new, <a href="#hevea_default193">3.12</a>, <a href="#hevea_default401">8.1</a>, <a href="#hevea_default511">10.1</a>, <a href="#hevea_default574">11.2</a>
</li><li class="li-indexenv">newline, <a href="#hevea_default39">1.5</a>, <a href="#hevea_default73">1.9</a>, <a href="#hevea_default276">5.8</a>
</li><li class="li-indexenv">nextInt<ul class="indexenv"><li class="li-indexenv">
Random, <a href="#hevea_default431">8.7</a>
</li><li class="li-indexenv">Scanner, <a href="#hevea_default166">3.4</a>
</li></ul>
</li><li class="li-indexenv">nondeterministic, <a href="#hevea_default428">8.7</a>, <a href="#hevea_default447">8.11</a>
</li><li class="li-indexenv">null, <a href="#hevea_default533">10.7</a>, <a href="#hevea_default674">12.6</a>
<br>
<br>
</li><li class="li-indexenv">Object class, <a href="#hevea_default744">14.3</a>
</li><li class="li-indexenv">object, <a href="#hevea_default451">9</a>, <a href="#hevea_default488">9.10</a>
<ul class="indexenv"><li class="li-indexenv">
array of, <a href="#hevea_default673">12.6</a>
</li><li class="li-indexenv">as parameter, <a href="#hevea_default521">10.3</a>
</li><li class="li-indexenv">displaying, <a href="#hevea_default597">11.5</a>
</li><li class="li-indexenv">mutable, <a href="#hevea_default527">10.5</a>
</li><li class="li-indexenv">type, <a href="#hevea_default555">11</a>
</li></ul>
</li><li class="li-indexenv">object code, <a href="#hevea_default17">1.3</a>, <a href="#hevea_default64">1.9</a>
</li><li class="li-indexenv">object-oriented, <a href="#hevea_default506">10</a>, <a href="#hevea_default530">10.5</a>, <a href="#hevea_default548">10.11</a>, <a href="#hevea_default754">14.7</a>
</li><li class="li-indexenv">off-by-one, <a href="#hevea_default715">13.5</a>
</li><li class="li-indexenv">operand, <a href="#hevea_default95">2.5</a>, <a href="#hevea_default140">2.11</a>
</li><li class="li-indexenv">operator, <a href="#hevea_default92">2.5</a>, <a href="#hevea_default139">2.11</a>
<ul class="indexenv"><li class="li-indexenv">
assignment, <a href="#hevea_default251">5.1</a>
</li><li class="li-indexenv">cast, <a href="#hevea_default175">3.7</a>
</li><li class="li-indexenv">logical, <a href="#hevea_default253">5.2</a>, <a href="#hevea_default286">5.11</a>, <a href="#hevea_default664">12.4</a>
</li><li class="li-indexenv">modulus, <a href="#hevea_default178">3.8</a>
</li><li class="li-indexenv">new, <a href="#hevea_default194">3.12</a>, <a href="#hevea_default402">8.1</a>, <a href="#hevea_default512">10.1</a>, <a href="#hevea_default575">11.2</a>
</li><li class="li-indexenv">relational, <a href="#hevea_default247">5.1</a>, <a href="#hevea_default284">5.11</a>
</li><li class="li-indexenv">string, <a href="#hevea_default109">2.8</a>
</li></ul>
</li><li class="li-indexenv">order of operations, <a href="#hevea_default112">2.8</a>, <a href="#hevea_default145">2.11</a>, <a href="#hevea_default852">C.3</a>
</li><li class="li-indexenv">ordering, <a href="#hevea_default666">12.4</a>
</li><li class="li-indexenv">overload, <a href="#hevea_default319">6.4</a>, <a href="#hevea_default349">6.10</a>, <a href="#hevea_default578">11.3</a>, <a href="#hevea_default717">13.5</a>
</li><li class="li-indexenv">override, <a href="#hevea_default605">11.6</a>, <a href="#hevea_default638">11.10</a>, <a href="#hevea_default764">14.9</a>
<br>
<br>
</li><li class="li-indexenv">Point, <a href="#hevea_default509">10.1</a>
</li><li class="li-indexenv">package, <a href="#hevea_default153">3.1</a>, <a href="#hevea_default181">3.11</a>
</li><li class="li-indexenv">paint, <a href="#hevea_default804">B.1</a>
</li><li class="li-indexenv">palindrome, <a href="#hevea_default499">9.11</a>
</li><li class="li-indexenv">param tag, <a href="#hevea_default323">6.6</a>
</li><li class="li-indexenv">parameter, <a href="#hevea_default214">4.3</a>, <a href="#hevea_default218">4.5</a>, <a href="#hevea_default236">4.10</a>, <a href="#hevea_default520">10.3</a>
<ul class="indexenv"><li class="li-indexenv">
multiple, <a href="#hevea_default223">4.6</a>
</li></ul>
</li><li class="li-indexenv">parameter passing, <a href="#hevea_default220">4.5</a>, <a href="#hevea_default238">4.10</a>
</li><li class="li-indexenv">parse, <a href="#hevea_default121">2.10</a>, <a href="#hevea_default148">2.11</a>, <a href="#hevea_default486">9.8</a>, <a href="#hevea_default494">9.10</a>
</li><li class="li-indexenv">partial ordering, <a href="#hevea_default668">12.4</a>
</li><li class="li-indexenv">pi, <a href="#hevea_default202">4.1</a>
</li><li class="li-indexenv">pixel, <a href="#hevea_default806">B.2</a>, <a href="#hevea_default813">B.4</a>
</li><li class="li-indexenv">portable, <a href="#hevea_default13">1.3</a>, <a href="#hevea_default60">1.9</a>
</li><li class="li-indexenv">posttest loop, <a href="#hevea_default380">7.6</a>, <a href="#hevea_default396">7.8</a>
</li><li class="li-indexenv">precedence, <a href="#hevea_default113">2.8</a>, <a href="#hevea_default853">C.3</a>
</li><li class="li-indexenv">pretest loop, <a href="#hevea_default379">7.6</a>, <a href="#hevea_default395">7.8</a>
</li><li class="li-indexenv">primitive, <a href="#hevea_default454">9</a>, <a href="#hevea_default489">9.10</a>
</li><li class="li-indexenv">print, <a href="#hevea_default40">1.5</a>, <a href="#hevea_default595">11.5</a>
<ul class="indexenv"><li class="li-indexenv">
array, <a href="#hevea_default680">12.6</a>
</li><li class="li-indexenv">Card, <a href="#hevea_default653">12.2</a>
</li></ul>
</li><li class="li-indexenv">print statement, <a href="#hevea_default26">1.4</a>, <a href="#hevea_default68">1.9</a>, <a href="#hevea_default601">11.5</a>, <a href="#hevea_default844">C.2</a>, <a href="#hevea_default856">C.3</a>
</li><li class="li-indexenv">printDeck, <a href="#hevea_default701">13.1</a>
</li><li class="li-indexenv">printf, <a href="#hevea_default171">3.6</a>, <a href="#hevea_default479">9.7</a>, <a href="#hevea_default600">11.5</a>
</li><li class="li-indexenv">println, <a href="#hevea_default27">1.4</a>
</li><li class="li-indexenv">private, <a href="#hevea_default566">11.1</a>, <a href="#hevea_default582">11.4</a>
</li><li class="li-indexenv">problem solving, <a href="#hevea_default2">1</a>, <a href="#hevea_default51">1.9</a>
</li><li class="li-indexenv">program, <a href="#hevea_default3">1.1</a>, <a href="#hevea_default52">1.9</a>
</li><li class="li-indexenv">program development, <a href="#hevea_default314">6.2</a>, <a href="#hevea_default367">7.3</a>, <a href="#hevea_default389">7.8</a>, <a href="#hevea_default707">13.2</a>, <a href="#hevea_default749">14.6</a>
</li><li class="li-indexenv">programming, <a href="#hevea_default4">1.1</a>, <a href="#hevea_default53">1.9</a>
</li><li class="li-indexenv">pseudocode, <a href="#hevea_default703">13.2</a>, <a href="#hevea_default722">13.8</a>
</li><li class="li-indexenv">pseudorandom, <a href="#hevea_default429">8.7</a>, <a href="#hevea_default448">8.11</a>
</li><li class="li-indexenv">public, <a href="#hevea_default211">4.3</a>
</li><li class="li-indexenv">pure method, <a href="#hevea_default622">11.9</a>, <a href="#hevea_default642">11.10</a>
<br>
<br>
</li><li class="li-indexenv">quote mark, <a href="#hevea_default35">1.5</a>, <a href="#hevea_default43">1.6</a>, <a href="#hevea_default458">9.1</a>
<br>
<br>
</li><li class="li-indexenv">Random, <a href="#hevea_default430">8.7</a>
</li><li class="li-indexenv">Rectangle, <a href="#hevea_default522">10.4</a>
</li><li class="li-indexenv">RGB, <a href="#hevea_default809">B.2</a>, <a href="#hevea_default815">B.4</a>
</li><li class="li-indexenv">radians, <a href="#hevea_default201">4.1</a>
</li><li class="li-indexenv">rank, <a href="#hevea_default648">12.1</a>
</li><li class="li-indexenv">rational number, <a href="#hevea_default645">11.11</a>
</li><li class="li-indexenv">readability, <a href="#hevea_default115">2.9</a>
</li><li class="li-indexenv">recursion, <a href="#hevea_default274">5.8</a>, <a href="#hevea_default295">5.11</a>, <a href="#hevea_default332">6.7</a>, <a href="#hevea_default688">12.10</a>, <a href="#hevea_default720">13.7</a>
<ul class="indexenv"><li class="li-indexenv">
infinite, <a href="#hevea_default576">11.2</a>, <a href="#hevea_default689">12.10</a>, <a href="#hevea_default834">C.2</a>
</li></ul>
</li><li class="li-indexenv">recursive, <a href="#hevea_default275">5.8</a>, <a href="#hevea_default296">5.11</a>, <a href="#hevea_default333">6.7</a>
</li><li class="li-indexenv">redirection operator, <a href="#hevea_default775">A.4</a>, <a href="#hevea_default791">A.8</a>
</li><li class="li-indexenv">reduce, <a href="#hevea_default425">8.6</a>, <a href="#hevea_default434">8.8</a>, <a href="#hevea_default444">8.11</a>
</li><li class="li-indexenv">reference, <a href="#hevea_default407">8.2</a>, <a href="#hevea_default440">8.11</a>, <a href="#hevea_default515">10.1</a>, <a href="#hevea_default531">10.6</a>, <a href="#hevea_default657">12.2</a>, <a href="#hevea_default719">13.5</a>
</li><li class="li-indexenv">relational operator, <a href="#hevea_default248">5.1</a>, <a href="#hevea_default285">5.11</a>
</li><li class="li-indexenv">replace, <a href="#hevea_default465">9.2</a>
</li><li class="li-indexenv">repository, <a href="#hevea_default0">??</a>
</li><li class="li-indexenv">return, <a href="#hevea_default268">5.6</a>, <a href="#hevea_default308">6.1</a>, <a href="#hevea_default524">10.4</a>
<ul class="indexenv"><li class="li-indexenv">
inside loop, <a href="#hevea_default685">12.7</a>
</li></ul>
</li><li class="li-indexenv">return statement, <a href="#hevea_default854">C.3</a>
</li><li class="li-indexenv">return tag, <a href="#hevea_default324">6.6</a>
</li><li class="li-indexenv">return type, <a href="#hevea_default306">6.1</a>, <a href="#hevea_default341">6.10</a>
</li><li class="li-indexenv">return value, <a href="#hevea_default307">6.1</a>, <a href="#hevea_default342">6.10</a>
</li><li class="li-indexenv">rounding error, <a href="#hevea_default105">2.7</a>, <a href="#hevea_default143">2.11</a>
</li><li class="li-indexenv">rubber duck, <a href="#hevea_default858">C.3</a>
</li><li class="li-indexenv">run-time error, <a href="#hevea_default122">2.10</a>, <a href="#hevea_default149">2.11</a>, <a href="#hevea_default536">10.7</a>, <a href="#hevea_default676">12.6</a>, <a href="#hevea_default820">C</a>
<br>
<br>
</li><li class="li-indexenv">Scanner, <a href="#hevea_default157">3.2</a>
</li><li class="li-indexenv">Scrabble, <a href="#hevea_default503">9.11</a>, <a href="#hevea_default644">11.11</a>
</li><li class="li-indexenv">StackOverflowError, <a href="#hevea_default833">C.2</a>, <a href="#hevea_default841">C.2</a>
</li><li class="li-indexenv">String class, <a href="#hevea_default504">10</a>
</li><li class="li-indexenv">StringBuilder, <a href="#hevea_default728">13.9</a>
</li><li class="li-indexenv">StringIndexOutOfBoundsException, <a href="#hevea_default472">9.3</a>
</li><li class="li-indexenv">System.err, <a href="#hevea_default271">5.6</a>, <a href="#hevea_default382">7.6</a>, <a href="#hevea_default784">A.7</a>
</li><li class="li-indexenv">System.in, <a href="#hevea_default159">3.2</a>, <a href="#hevea_default452">9</a>, <a href="#hevea_default776">A.4</a>
</li><li class="li-indexenv">System.out, <a href="#hevea_default152">3.1</a>, <a href="#hevea_default453">9</a>, <a href="#hevea_default777">A.4</a>
</li><li class="li-indexenv">scaffolding, <a href="#hevea_default316">6.2</a>, <a href="#hevea_default347">6.10</a>
</li><li class="li-indexenv">search, <a href="#hevea_default424">8.6</a>, <a href="#hevea_default443">8.11</a>
</li><li class="li-indexenv">selection sort, <a href="#hevea_default709">13.3</a>, <a href="#hevea_default725">13.8</a>
</li><li class="li-indexenv">semicolon, <a href="#hevea_default28">1.4</a>, <a href="#hevea_default84">2.1</a>, <a href="#hevea_default120">2.10</a>
</li><li class="li-indexenv">sequential search, <a href="#hevea_default681">12.7</a>, <a href="#hevea_default694">12.11</a>
</li><li class="li-indexenv">setter, <a href="#hevea_default593">11.4</a>, <a href="#hevea_default637">11.10</a>
</li><li class="li-indexenv">shadowing, <a href="#hevea_default581">11.3</a>, <a href="#hevea_default634">11.10</a>
</li><li class="li-indexenv">short circuit, <a href="#hevea_default254">5.2</a>, <a href="#hevea_default288">5.11</a>
</li><li class="li-indexenv">shuffle, <a href="#hevea_default702">13.2</a>, <a href="#hevea_default708">13.2</a>
</li><li class="li-indexenv">signature, <a href="#hevea_default229">4.8</a>, <a href="#hevea_default242">4.10</a>
</li><li class="li-indexenv">sort<ul class="indexenv"><li class="li-indexenv">
merge, <a href="#hevea_default713">13.4</a>
</li><li class="li-indexenv">selection, <a href="#hevea_default710">13.3</a>
</li></ul>
</li><li class="li-indexenv">source code, <a href="#hevea_default16">1.3</a>, <a href="#hevea_default63">1.9</a>
</li><li class="li-indexenv">src.zip, <a href="#hevea_default542">10.10</a>
</li><li class="li-indexenv">stack, <a href="#hevea_default335">6.7</a>
</li><li class="li-indexenv">stack diagram, <a href="#hevea_default225">4.7</a>, <a href="#hevea_default240">4.10</a>, <a href="#hevea_default277">5.9</a>
</li><li class="li-indexenv">stack overflow, <a href="#hevea_default281">5.9</a>
</li><li class="li-indexenv">stack trace, <a href="#hevea_default838">C.2</a>
</li><li class="li-indexenv">state, <a href="#hevea_default89">2.3</a>, <a href="#hevea_default137">2.11</a>
</li><li class="li-indexenv">state diagram, <a href="#hevea_default90">2.3</a>, <a href="#hevea_default138">2.11</a>, <a href="#hevea_default405">8.2</a>, <a href="#hevea_default516">10.1</a>, <a href="#hevea_default656">12.2</a>, <a href="#hevea_default700">13.1</a>
</li><li class="li-indexenv">statement, <a href="#hevea_default25">1.4</a>, <a href="#hevea_default67">1.9</a>
<ul class="indexenv"><li class="li-indexenv">
assignment, <a href="#hevea_default87">2.2</a>
</li><li class="li-indexenv">comment, <a href="#hevea_default34">1.4</a>
</li><li class="li-indexenv">conditional, <a href="#hevea_default257">5.3</a>
</li><li class="li-indexenv">declaration, <a href="#hevea_default78">2.1</a>, <a href="#hevea_default514">10.1</a>
</li><li class="li-indexenv">else, <a href="#hevea_default261">5.3</a>
</li><li class="li-indexenv">for, <a href="#hevea_default376">7.5</a>
</li><li class="li-indexenv">if, <a href="#hevea_default259">5.3</a>
</li><li class="li-indexenv">import, <a href="#hevea_default164">3.2</a>
</li><li class="li-indexenv">initialization, <a href="#hevea_default266">5.5</a>
</li><li class="li-indexenv">print, <a href="#hevea_default41">1.5</a>, <a href="#hevea_default596">11.5</a>, <a href="#hevea_default845">C.2</a>, <a href="#hevea_default857">C.3</a>
</li><li class="li-indexenv">return, <a href="#hevea_default269">5.6</a>, <a href="#hevea_default309">6.1</a>, <a href="#hevea_default525">10.4</a>, <a href="#hevea_default684">12.7</a>, <a href="#hevea_default855">C.3</a>
</li><li class="li-indexenv">while, <a href="#hevea_default357">7.1</a>
</li></ul>
</li><li class="li-indexenv">static, <a href="#hevea_default571">11.2</a>, <a href="#hevea_default618">11.8</a>, <a href="#hevea_default660">12.3</a>
</li><li class="li-indexenv">string, <a href="#hevea_default36">1.5</a>, <a href="#hevea_default72">1.9</a>
<ul class="indexenv"><li class="li-indexenv">
array of, <a href="#hevea_default654">12.2</a>
</li><li class="li-indexenv">format, <a href="#hevea_default481">9.7</a>, <a href="#hevea_default608">11.6</a>
</li><li class="li-indexenv">length, <a href="#hevea_default467">9.3</a>
</li><li class="li-indexenv">operator, <a href="#hevea_default108">2.8</a>
</li><li class="li-indexenv">reference to, <a href="#hevea_default658">12.2</a>
</li></ul>
</li><li class="li-indexenv">stub, <a href="#hevea_default315">6.2</a>, <a href="#hevea_default346">6.10</a>
</li><li class="li-indexenv">subclass, <a href="#hevea_default734">14.1</a>, <a href="#hevea_default758">14.8</a>
</li><li class="li-indexenv">subdeck, <a href="#hevea_default714">13.5</a>
</li><li class="li-indexenv">suit, <a href="#hevea_default649">12.1</a>
</li><li class="li-indexenv">super, <a href="#hevea_default745">14.3</a>
</li><li class="li-indexenv">superclass, <a href="#hevea_default743">14.3</a>, <a href="#hevea_default759">14.8</a>
</li><li class="li-indexenv">syntax, <a href="#hevea_default83">2.1</a>, <a href="#hevea_default133">2.11</a>, <a href="#hevea_default819">C</a>
</li><li class="li-indexenv">syntax errors, <a href="#hevea_default827">C.1</a>
<br>
<br>
</li><li class="li-indexenv">Time, <a href="#hevea_default563">11.1</a>
<ul class="indexenv"><li class="li-indexenv">
addition, <a href="#hevea_default616">11.8</a>
</li></ul>
</li><li class="li-indexenv">Torvalds, Linus, <a href="#hevea_default49">1.8</a>
</li><li class="li-indexenv">Turing complete, <a href="#hevea_default328">6.7</a>, <a href="#hevea_default351">6.10</a>
</li><li class="li-indexenv">Turing, Alan, <a href="#hevea_default330">6.7</a>, <a href="#hevea_default464">9.2</a>
</li><li class="li-indexenv">table, <a href="#hevea_default362">7.2</a>
<ul class="indexenv"><li class="li-indexenv">
two-dimensional, <a href="#hevea_default366">7.3</a>
</li></ul>
</li><li class="li-indexenv">tag, <a href="#hevea_default322">6.6</a>, <a href="#hevea_default350">6.10</a>
</li><li class="li-indexenv">temporary variable, <a href="#hevea_default310">6.1</a>, <a href="#hevea_default343">6.10</a>, <a href="#hevea_default850">C.3</a>
</li><li class="li-indexenv">terminal, <a href="#hevea_default774">A.3</a>
</li><li class="li-indexenv">testing, <a href="#hevea_default727">13.9</a>
</li><li class="li-indexenv">text editor, <a href="#hevea_default770">A.1</a>, <a href="#hevea_default788">A.8</a>
</li><li class="li-indexenv">this, <a href="#hevea_default572">11.2</a>, <a href="#hevea_default737">14.2</a>
</li><li class="li-indexenv">toCharArray, <a href="#hevea_default471">9.3</a>
</li><li class="li-indexenv">token, <a href="#hevea_default165">3.3</a>, <a href="#hevea_default185">3.11</a>
</li><li class="li-indexenv">toLowerCase, <a href="#hevea_default462">9.2</a>
</li><li class="li-indexenv">top-down development, <a href="#hevea_default706">13.2</a>, <a href="#hevea_default724">13.8</a>, <a href="#hevea_default746">14.5</a>, <a href="#hevea_default747">14.6</a>
</li><li class="li-indexenv">toString, <a href="#hevea_default603">11.6</a>
</li><li class="li-indexenv">toUpperCase, <a href="#hevea_default461">9.2</a>
</li><li class="li-indexenv">traversal, <a href="#hevea_default423">8.6</a>, <a href="#hevea_default442">8.11</a>
</li><li class="li-indexenv">traverse, <a href="#hevea_default466">9.3</a>, <a href="#hevea_default682">12.7</a>
</li><li class="li-indexenv">type, <a href="#hevea_default132">2.11</a>
<ul class="indexenv"><li class="li-indexenv">
array, <a href="#hevea_default400">8.1</a>
</li><li class="li-indexenv">boolean, <a href="#hevea_default246">5</a>
</li><li class="li-indexenv">char, <a href="#hevea_default80">2.1</a>, <a href="#hevea_default457">9.1</a>
</li><li class="li-indexenv">double, <a href="#hevea_default101">2.6</a>
</li><li class="li-indexenv">int, <a href="#hevea_default79">2.1</a>
</li><li class="li-indexenv">long, <a href="#hevea_default107">2.7</a>, <a href="#hevea_default204">4.1</a>
</li><li class="li-indexenv">object, <a href="#hevea_default556">11</a>
</li><li class="li-indexenv">String, <a href="#hevea_default37">1.5</a>, <a href="#hevea_default81">2.1</a>, <a href="#hevea_default505">10</a>
</li><li class="li-indexenv">void, <a href="#hevea_default213">4.3</a>
</li></ul>
</li><li class="li-indexenv">type cast, <a href="#hevea_default174">3.7</a>, <a href="#hevea_default191">3.11</a>
<br>
<br>
</li><li class="li-indexenv">UML, <a href="#hevea_default538">10.9</a>, <a href="#hevea_default550">10.11</a>, <a href="#hevea_default755">14.7</a>
</li><li class="li-indexenv">Unicode, <a href="#hevea_default460">9.1</a>, <a href="#hevea_default490">9.10</a>
</li><li class="li-indexenv">unit test, <a href="#hevea_default783">A.7</a>, <a href="#hevea_default796">A.8</a>
</li><li class="li-indexenv">utility class, <a href="#hevea_default161">3.2</a>, <a href="#hevea_default416">8.3</a>
</li><li class="li-indexenv">utility method, <a href="#hevea_default480">9.7</a>
<br>
<br>
</li><li class="li-indexenv">value, <a href="#hevea_default76">2.1</a>, <a href="#hevea_default130">2.11</a>
</li><li class="li-indexenv">value constructor, <a href="#hevea_default579">11.3</a>
</li><li class="li-indexenv">value method, <a href="#hevea_default301">6</a>, <a href="#hevea_default304">6.1</a>, <a href="#hevea_default340">6.10</a>
</li><li class="li-indexenv">variable, <a href="#hevea_default75">2.1</a>, <a href="#hevea_default129">2.11</a>
<ul class="indexenv"><li class="li-indexenv">
instance, <a href="#hevea_default565">11.1</a>
</li><li class="li-indexenv">local, <a href="#hevea_default222">4.5</a>
</li><li class="li-indexenv">loop, <a href="#hevea_default371">7.3</a>, <a href="#hevea_default413">8.2</a>, <a href="#hevea_default470">9.3</a>
</li><li class="li-indexenv">private, <a href="#hevea_default567">11.1</a>, <a href="#hevea_default583">11.4</a>
</li><li class="li-indexenv">static, <a href="#hevea_default661">12.3</a>
</li><li class="li-indexenv">temporary, <a href="#hevea_default311">6.1</a>, <a href="#hevea_default851">C.3</a>
</li></ul>
</li><li class="li-indexenv">virtual machine, <a href="#hevea_default20">1.3</a>, <a href="#hevea_default768">A.1</a>
</li><li class="li-indexenv">void, <a href="#hevea_default212">4.3</a>, <a href="#hevea_default303">6.1</a>
</li><li class="li-indexenv">void method, <a href="#hevea_default302">6</a>, <a href="#hevea_default339">6.10</a>
<br>
<br>
</li><li class="li-indexenv">while, <a href="#hevea_default355">7.1</a>
</li><li class="li-indexenv">wildcard, <a href="#hevea_default779">A.5</a>, <a href="#hevea_default792">A.8</a>
</li><li class="li-indexenv">wrapper class, <a href="#hevea_default482">9.8</a>, <a href="#hevea_default493">9.10</a>
</li><li class="li-indexenv">wrapper method, <a href="#hevea_default739">14.2</a>, <a href="#hevea_default760">14.8</a>
</li></ul></td></tr>
</table><!--CUT END -->
<!--HTMLFOOT-->
</div>
</div>
</div>

<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
<script type="text/javascript" src="foundation.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script type="text/javascript" src="lazysizes.min.js"></script>
<script type="text/javascript" src='go.js'></script>

<!--ENDHTML-->
<!--FOOTER-->
<hr style="height:2"><blockquote class="quote"><em>This document was translated from L<sup>A</sup>T<sub>E</sub>X by
</em><a href="http://hevea.inria.fr/index.html"><em>H<span style="font-size:small"><sup>E</sup></span>V<span style="font-size:small"><sup>E</sup></span>A</em></a><em>.</em></blockquote></body>
</html>
